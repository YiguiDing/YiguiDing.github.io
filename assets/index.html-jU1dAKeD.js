import{_ as p,r as l,o as u,c as i,e as c,w as a,b as r,a as n,d as s}from"./app-B-PP1xqK.js";const k="/assets/the-super-tiny-compiler-lVUTzW8L.png",d={},m=r('<h1 id="学习并尝试使用ts重构实现简易编译器和解释器" tabindex="-1"><a class="header-anchor" href="#学习并尝试使用ts重构实现简易编译器和解释器"><span>学习并尝试使用ts重构实现简易编译器和解释器</span></a></h1><p><img src="'+k+`" alt="the-super-tiny-compiler.png"></p><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><ul><li><a href="#%E5%AD%A6%E4%B9%A0%E5%B9%B6%E5%B0%9D%E8%AF%95%E4%BD%BF%E7%94%A8ts%E9%87%8D%E6%9E%84%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93%E7%BC%96%E8%AF%91%E5%99%A8%E5%92%8C%E8%A7%A3%E9%87%8A%E5%99%A8">学习并尝试使用ts重构实现简易编译器和解释器</a><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C">最终效果</a><ul><li><a href="#%E8%A7%A3%E9%87%8A%E5%99%A8%E6%B5%8B%E8%AF%95">解释器测试</a></li><li><a href="#%E7%BC%96%E8%AF%91%E5%99%A8%E6%B5%8B%E8%AF%95">编译器测试</a></li></ul></li><li><a href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0">具体实现</a><ul><li><a href="#%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E5%99%A8%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%E5%99%A8%E8%BD%AC%E6%8D%A2%E5%99%A8%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8">词法分析器、语法分析器、转换器、代码生成器</a></li><li><a href="#%E7%BC%96%E8%AF%91%E5%99%A8%E8%A7%A3%E9%87%8A%E5%99%A8">编译器、解释器</a></li><li><a href="#%E7%BB%88%E7%AB%AF%E5%B7%A5%E5%85%B7">终端工具</a></li></ul></li></ul></li></ul><h2 id="最终效果" tabindex="-1"><a class="header-anchor" href="#最终效果"><span>最终效果</span></a></h2><h3 id="解释器测试" tabindex="-1"><a class="header-anchor" href="#解释器测试"><span>解释器测试</span></a></h3><p>解释器测试:<code>test_intrepreter.ts</code></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> intrepreter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../index&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test_intrepreter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">intrepreter</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">(
      print
      (
        add
        &quot;hello world!!!&quot; &quot;\\n&quot;
        &quot;1+1=&quot; (add 1 1) &quot;\\n&quot;
        &quot;2-2=&quot; (sub 2 2) &quot;\\n&quot;
        &quot;3*3=&quot; (mut 3 3) &quot;\\n&quot;
        &quot;4/4=&quot; (div 4 4) &quot;\\n&quot;
      )
    )</span><span class="token template-punctuation string">\`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">test_intrepreter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试结果:<code>test_intrepreter_output.txt</code></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>hello world<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
<span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token number">2</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token number">3</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">=</span><span class="token number">9</span>
<span class="token number">4</span><span class="token operator">/</span><span class="token number">4</span><span class="token operator">=</span><span class="token number">1</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编译器测试" tabindex="-1"><a class="header-anchor" href="#编译器测试"><span>编译器测试</span></a></h3><p>编译器测试:<code>test_compiler.ts</code></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> compiler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../index&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> visualizeEscapes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../utils&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test_compiler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">compiler</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">(
      print
      (
        add
        &quot;hello world!!!&quot; &quot;\\n&quot;
        &quot;1+1=&quot; (add 1 1) &quot;\\n&quot;
        &quot;2-2=&quot; (sub 2 2) &quot;\\n&quot;
        &quot;3*3=&quot; (mut 3 3) &quot;\\n&quot;
        &quot;4/4=&quot; (div 4 4) &quot;\\n&quot;
      )
    )</span><span class="token template-punctuation string">\`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">visualizeEscapes</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">test_compiler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试结果:<code>test_compiler_output.txt</code></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!!!&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1+1=&quot;</span><span class="token punctuation">,</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2-2=&quot;</span><span class="token punctuation">,</span><span class="token function">sub</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3*3=&quot;</span><span class="token punctuation">,</span><span class="token function">mut</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;4/4=&quot;</span><span class="token punctuation">,</span><span class="token function">div</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="具体实现" tabindex="-1"><a class="header-anchor" href="#具体实现"><span>具体实现</span></a></h2><h3 id="词法分析器、语法分析器、转换器、代码生成器" tabindex="-1"><a class="header-anchor" href="#词法分析器、语法分析器、转换器、代码生成器"><span>词法分析器、语法分析器、转换器、代码生成器</span></a></h3>`,17),v=n("code",null,"tokenizer.ts",-1),b=n("code",null,"parser.ts",-1),y=n("code",null,"transformer.ts",-1),E=n("code",null,"codeGenerator.ts",-1),_=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"Token"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(" TokenType"),n("span",{class:"token punctuation"},";"),s(" value"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"enum"),s(" TokenType "),n("span",{class:"token punctuation"},"{"),s(`
  paren `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"paren"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token builtin"},"number"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"number"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"string"'),n("span",{class:"token punctuation"},","),s(`
  name `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"name"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"tokenizer"),n("span",{class:"token punctuation"},"("),s("input"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" current "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" tokens"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),s("Token"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("current "),n("span",{class:"token operator"},"<"),s(" input"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" char "),n("span",{class:"token operator"},"="),s(" input"),n("span",{class:"token punctuation"},"["),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("char "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'"("'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      tokens`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(" TokenType"),n("span",{class:"token punctuation"},"."),s("paren"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"("'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      current`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("char "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'")"'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      tokens`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(" TokenType"),n("span",{class:"token punctuation"},"."),s("paren"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'")"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      current`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"let"),s(),n("span",{class:"token constant"},"WHITESPACE"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\s"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"WHITESPACE"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("char"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      current`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"let"),s(),n("span",{class:"token constant"},"NUMBERS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"[0-9]"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"NUMBERS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("char"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"NUMBERS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("char"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        value `),n("span",{class:"token operator"},"+="),s(" char"),n("span",{class:"token punctuation"},";"),s(`
        char `),n("span",{class:"token operator"},"="),s(" input"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      tokens`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(" TokenType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token builtin"},"number"),n("span",{class:"token punctuation"},","),s(" value "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("char "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},`'"'`),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`
      char `),n("span",{class:"token operator"},"="),s(" input"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("char "),n("span",{class:"token operator"},"!=="),s(),n("span",{class:"token string"},`'"'`),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        value `),n("span",{class:"token operator"},"+="),s(" char"),n("span",{class:"token punctuation"},";"),s(`
        char `),n("span",{class:"token operator"},"="),s(" input"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      char `),n("span",{class:"token operator"},"="),s(" input"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      tokens`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(" TokenType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},","),s(" value "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"let"),s(),n("span",{class:"token constant"},"LETTERS"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"[a-z]"),n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-flags"},"i")]),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// /i 表示不区分大小写"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"LETTERS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("char"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"LETTERS"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("char"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        value `),n("span",{class:"token operator"},"+="),s(" char"),n("span",{class:"token punctuation"},";"),s(`
        char `),n("span",{class:"token operator"},"="),s(" input"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      tokens`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(" TokenType"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},","),s(" value "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"TypeError"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"I dont know what this character is: "'),s(),n("span",{class:"token operator"},"+"),s(" char"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" tokens"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),w=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Token"),n("span",{class:"token punctuation"},","),s(" TokenType "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./tokenizer"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"AST_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"AST_VALE_NODE"),s(),n("span",{class:"token operator"},"|"),s(" AST_Call_NODE"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"enum"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),s(),n("span",{class:"token punctuation"},"{"),s(`
  Program `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"Program"'),n("span",{class:"token punctuation"},","),s(`
  NumberLiteral `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"NumberLiteral"'),n("span",{class:"token punctuation"},","),s(`
  StringLiteral `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"StringLiteral"'),n("span",{class:"token punctuation"},","),s(`
  CallExpression `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"CallExpression"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"AST_ROOT_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token punctuation"},";"),s(`
  body`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"AST_Call_NODE"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token punctuation"},";"),s(`
  name`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
  params`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"AST_VALE_NODE"),s(),n("span",{class:"token operator"},"|"),s(" AST_Call_NODE"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"AST_VALE_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral "),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token punctuation"},";"),s(`
  value`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"parser"),n("span",{class:"token punctuation"},"("),s("tokens"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),s("Token"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" current "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"walk"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" token "),n("span",{class:"token operator"},"="),s(" tokens"),n("span",{class:"token punctuation"},"["),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("token"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(" TokenType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token builtin"},"number"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      current`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
      node `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token operator"},":"),s(" token"),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" node"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("token"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(" TokenType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      current`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
      node `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(" type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token operator"},":"),s(" token"),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" node"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("token"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(" TokenType"),n("span",{class:"token punctuation"},"."),s("paren "),n("span",{class:"token operator"},"&&"),s(" token"),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'"("'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      token `),n("span",{class:"token operator"},"="),s(" tokens"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      node `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
        type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token punctuation"},","),s(`
        name`),n("span",{class:"token operator"},":"),s(" token"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},","),s(`
        params`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      token `),n("span",{class:"token operator"},"="),s(" tokens"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"++"),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s(`
        token`),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"!=="),s(" TokenType"),n("span",{class:"token punctuation"},"."),s("paren "),n("span",{class:"token operator"},"||"),s(`
        `),n("span",{class:"token punctuation"},"("),s("token"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(" TokenType"),n("span",{class:"token punctuation"},"."),s("paren "),n("span",{class:"token operator"},"&&"),s(" token"),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"!=="),s(),n("span",{class:"token string"},'")"'),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        node`),n("span",{class:"token punctuation"},"."),s("params"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"walk"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        token `),n("span",{class:"token operator"},"="),s(" tokens"),n("span",{class:"token punctuation"},"["),s("current"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      current`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" node"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"TypeError"),n("span",{class:"token punctuation"},"("),s("TokenType"),n("span",{class:"token punctuation"},"["),s("token"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" ast"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token punctuation"},","),s(`
    body`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("current "),n("span",{class:"token operator"},"<"),s(" tokens"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    ast`),n("span",{class:"token punctuation"},"."),s("body"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"walk"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" ast"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token constant"},"AST_ROOT_NODE"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},","),s(`
  AST_Call_NODE`),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token constant"},"AST_VALE_NODE"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./parser"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_NODE")]),s(),n("span",{class:"token operator"},"="),s(`
  `),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_ROOT_NODE"),s(`
  `),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_IDNT_NODE"),s(`
  `),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_CALL_NODE"),s(`
  `),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_NUMB_NODE"),s(`
  `),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_EXPR_NODE"),s(`
  `),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_STRI_NODE"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"enum"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),s(),n("span",{class:"token punctuation"},"{"),s(`
  Program `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"Program"'),n("span",{class:"token punctuation"},","),s(`
  NumberLiteral `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"NumberLiteral"'),n("span",{class:"token punctuation"},","),s(`
  StringLiteral `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"StringLiteral"'),n("span",{class:"token punctuation"},","),s(`
  Identifier `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"Identifier"'),n("span",{class:"token punctuation"},","),s(`
  CallExpression `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"CallExpression"'),n("span",{class:"token punctuation"},","),s(`
  ExpressionStatement `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"ExpressionStatement"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_ROOT_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token punctuation"},";"),s(`
  body`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_NUMB_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token punctuation"},";"),s(`
  value`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_STRI_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token punctuation"},";"),s(`
  value`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_IDNT_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Identifier"),n("span",{class:"token punctuation"},";"),s(`
  name`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_CALL_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token punctuation"},";"),s(`
  callee`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_IDNT_NODE"),n("span",{class:"token punctuation"},";"),s(`
  arguments`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},[n("span",{class:"token constant"},"NEW_AST_EXPR_NODE")]),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("ExpressionStatement"),n("span",{class:"token punctuation"},";"),s(`
  expression`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_CALL_NODE"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" ctx_map"),n("span",{class:"token operator"},":"),s(" Map"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token operator"},">>"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"transformer"),n("span",{class:"token punctuation"},"("),s("ast"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" newAst"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_ROOT_NODE"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" visitor"),n("span",{class:"token operator"},":"),s(" Visitor "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  visitor`),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      newAst `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
        type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token punctuation"},","),s(`
        body`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},","),s(" newAst"),n("span",{class:"token punctuation"},"."),s("body"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"exit"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(" AST_Call_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  visitor`),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(" AST_Call_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" expression"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_CALL_NODE"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token constant"},"NEW_AST_EXPR_NODE"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
        type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token punctuation"},","),s(`
        callee`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
          type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Identifier"),n("span",{class:"token punctuation"},","),s(`
          name`),n("span",{class:"token operator"},":"),s(" node"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
        arguments`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},","),s(" expression"),n("span",{class:"token punctuation"},"."),s("arguments"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("parent"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"!=="),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        expression `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
          type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("ExpressionStatement"),n("span",{class:"token punctuation"},","),s(`
          expression`),n("span",{class:"token operator"},":"),s(" expression"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("parent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),s("expression"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"exit"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(" AST_Call_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  visitor`),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_VALE_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("parent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
        type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token punctuation"},","),s(`
        value`),n("span",{class:"token operator"},":"),s(" node"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  visitor`),n("span",{class:"token punctuation"},"["),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_VALE_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      ctx_map`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("parent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
        type`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token punctuation"},","),s(`
        value`),n("span",{class:"token operator"},":"),s(" node"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token function"},"traverser"),n("span",{class:"token punctuation"},"("),s("ast"),n("span",{class:"token punctuation"},","),s(" visitor"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" newAst"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token class-name"},"Visitor"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token punctuation"},"["),s("key "),n("span",{class:"token keyword"},"in"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"void"),n("span",{class:"token punctuation"},";"),s(`
    exit`),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"void"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"traverser"),n("span",{class:"token punctuation"},"("),s("ast"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),n("span",{class:"token punctuation"},","),s(" visitor"),n("span",{class:"token operator"},":"),s(" Visitor"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"traverseArray"),n("span",{class:"token punctuation"},"("),s(`
    array`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"Array"),n("span",{class:"token operator"},"<"),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    parent`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),s(),n("span",{class:"token operator"},"|"),s(` AST_Call_NODE
  `),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    array`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("child"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function"},"traverseNode"),n("span",{class:"token punctuation"},"("),s("child"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"traverseNode"),n("span",{class:"token punctuation"},"("),s(`
    node`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_NODE"),n("span",{class:"token punctuation"},","),s(`
    parent`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"AST_ROOT_NODE"),s(),n("span",{class:"token operator"},"|"),s(" AST_Call_NODE "),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token keyword"},"null"),s(`
  `),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" methods "),n("span",{class:"token operator"},"="),s(" visitor"),n("span",{class:"token punctuation"},"["),s("node"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("methods "),n("span",{class:"token operator"},"&&"),s(" methods"),n("span",{class:"token punctuation"},"."),s("enter"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      methods`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token operator"},":"),s(`
        `),n("span",{class:"token function"},"traverseArray"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("body"),n("span",{class:"token punctuation"},","),s(" node"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token operator"},":"),s(`
        `),n("span",{class:"token function"},"traverseArray"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("params"),n("span",{class:"token punctuation"},","),s(" node"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token operator"},":"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"default"),n("span",{class:"token operator"},":"),s(`
        `),n("span",{class:"token comment"},"// @ts-ignore"),s(`
        `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"TypeError"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"AST_NODE_TYPE"),n("span",{class:"token punctuation"},"["),s("node"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("methods "),n("span",{class:"token operator"},"&&"),s(" methods"),n("span",{class:"token punctuation"},"."),s("exit"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      methods`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"exit"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},","),s(" parent"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token function"},"traverseNode"),n("span",{class:"token punctuation"},"("),s("ast"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./transformer"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"codeGenerator"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" statements "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("body"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),s("codeGenerator"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" statements"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\\n"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("ExpressionStatement"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" expression "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"codeGenerator"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("expression"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" expression "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'";"'),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" funName "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"codeGenerator"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("callee"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" args "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("arguments"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),s("codeGenerator"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" funName "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'"("'),s(),n("span",{class:"token operator"},"+"),s(" args"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'","'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'")"'),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Identifier"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" node"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" node"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token string"},`'"'`),s(),n("span",{class:"token operator"},"+"),s(" node"),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},`'"'`),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"default"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token comment"},"// @ts-ignore"),s(`
      `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"TypeError"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"["),s("node"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),A=n("h3",{id:"编译器、解释器",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#编译器、解释器"},[n("span",null,"编译器、解释器")])],-1),f=n("code",null,"compiler.ts",-1),N=n("code",null,"intrepreter.ts",-1),h=n("code",null,"index.ts",-1),S=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" tokenizer "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./tokenizer"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" parser "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./parser"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" transformer "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./transformer"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" codeGenerator "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./codeGenerator"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"compiler"),n("span",{class:"token punctuation"},"("),s("input"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" tokens "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"tokenizer"),n("span",{class:"token punctuation"},"("),s("input"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" ast "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"parser"),n("span",{class:"token punctuation"},"("),s("tokens"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" newAst "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"transformer"),n("span",{class:"token punctuation"},"("),s("ast"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" output "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"codeGenerator"),n("span",{class:"token punctuation"},"("),s("newAst"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" output"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),O=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./transformer"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"executer"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token constant"},"NEW_AST_NODE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" statements "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("body"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" statements"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("statement"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"executer"),n("span",{class:"token punctuation"},"("),s("statement"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("ExpressionStatement"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" expression "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("expression"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"executer"),n("span",{class:"token punctuation"},"("),s("expression"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("CallExpression"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" func "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"executer"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("callee"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" args "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("arguments"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),s("executer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("func"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"add"'),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"return"),s(" args"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reduce"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("prev"),n("span",{class:"token punctuation"},","),s(" cur"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" prev "),n("span",{class:"token operator"},"+"),s(" cur"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"sub"'),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"return"),s(" args"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reduce"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("prev"),n("span",{class:"token punctuation"},","),s(" cur"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" prev "),n("span",{class:"token operator"},"-"),s(" cur"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"mut"'),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"return"),s(" args"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reduce"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("prev"),n("span",{class:"token punctuation"},","),s(" cur"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" prev "),n("span",{class:"token operator"},"*"),s(" cur"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"div"'),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"return"),s(" args"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reduce"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("prev"),n("span",{class:"token punctuation"},","),s(" cur"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" prev "),n("span",{class:"token operator"},"/"),s(" cur"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"print"'),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"let"),s(" str "),n("span",{class:"token operator"},"="),s(" args"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'","'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("str"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"default"),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"SyntaxError"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"unknow function: "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("func"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("Identifier"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" id "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" id"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("NumberLiteral"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" num "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Number"),n("span",{class:"token punctuation"},"("),s("node"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" num"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token constant"},"NEW_AST_NODE_TYPE"),n("span",{class:"token punctuation"},"."),s("StringLiteral"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"let"),s(" str "),n("span",{class:"token operator"},"="),s(" node"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(" str"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"default"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"SyntaxError"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"unknow syntax: "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("node"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" tokenizer "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./tokenizer"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" parser "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./parser"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" transformer "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./transformer"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"intrepreter"),n("span",{class:"token punctuation"},"("),s("input"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" tokens "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"tokenizer"),n("span",{class:"token punctuation"},"("),s("input"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" ast "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"parser"),n("span",{class:"token punctuation"},"("),s("tokens"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" newAst "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"transformer"),n("span",{class:"token punctuation"},"("),s("ast"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" output "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"executer"),n("span",{class:"token punctuation"},"("),s("newAst"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" output"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),x=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token punctuation"},"{"),s(" compiler "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./compiler"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token punctuation"},"{"),s(" intrepreter "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./intrepreter"'),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),D=n("h3",{id:"终端工具",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#终端工具"},[n("span",null,"终端工具")])],-1),q=n("p",null,"Terminal工具：编译器和解释器的实现",-1),P=n("code",null,"cli_compiler.ts",-1),W=n("code",null,"cli_intrepreter.ts",-1),Y=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" compiler "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./index"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" createInterface "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"readline/promises"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" readline "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"createInterface"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  input`),n("span",{class:"token operator"},":"),s(" process"),n("span",{class:"token punctuation"},"."),s("stdin"),n("span",{class:"token punctuation"},","),s(`
  output`),n("span",{class:"token operator"},":"),s(" process"),n("span",{class:"token punctuation"},"."),s("stdout"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"test_compiler"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" ans "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" readline"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"question"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'">"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" result "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"compiler"),n("span",{class:"token punctuation"},"("),s("ans"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("result"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"test_compiler"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),B=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" intrepreter "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"./index"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" createInterface "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"readline/promises"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" readline "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"createInterface"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  input`),n("span",{class:"token operator"},":"),s(" process"),n("span",{class:"token punctuation"},"."),s("stdin"),n("span",{class:"token punctuation"},","),s(`
  output`),n("span",{class:"token operator"},":"),s(" process"),n("span",{class:"token punctuation"},"."),s("stdout"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"test_intrepreter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" ans "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" readline"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"question"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'">"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"intrepreter"),n("span",{class:"token punctuation"},"("),s("ans"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"test_intrepreter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function C(L,R){const o=l("CodeTabs");return u(),i("div",null,[m,c(o,{id:"93",data:[{id:"词法分析器<code v-pre>tokenizer.ts</code>"},{id:"语法分析器<code v-pre>parser.ts</code>"},{id:"转换器<code v-pre>transformer.ts</code>"},{id:"代码生成器<code v-pre>codeGenerator.ts</code>"}]},{title0:a(({value:t,isActive:e})=>[s("词法分析器"),v]),title1:a(({value:t,isActive:e})=>[s("语法分析器"),b]),title2:a(({value:t,isActive:e})=>[s("转换器"),y]),title3:a(({value:t,isActive:e})=>[s("代码生成器"),E]),tab0:a(({value:t,isActive:e})=>[_]),tab1:a(({value:t,isActive:e})=>[w]),tab2:a(({value:t,isActive:e})=>[g]),tab3:a(({value:t,isActive:e})=>[T]),_:1},8,["data"]),A,c(o,{id:"110",data:[{id:"编译器:<code v-pre>compiler.ts</code>"},{id:"解释器:<code v-pre>intrepreter.ts</code>"},{id:"<code v-pre>index.ts</code>"}]},{title0:a(({value:t,isActive:e})=>[s("编译器:"),f]),title1:a(({value:t,isActive:e})=>[s("解释器:"),N]),title2:a(({value:t,isActive:e})=>[h]),tab0:a(({value:t,isActive:e})=>[S]),tab1:a(({value:t,isActive:e})=>[O]),tab2:a(({value:t,isActive:e})=>[x]),_:1},8,["data"]),D,q,c(o,{id:"127",data:[{id:"编译器终端工具:<code v-pre>cli_compiler.ts</code>"},{id:"解释器终端工具:<code v-pre>cli_intrepreter.ts</code>"}]},{title0:a(({value:t,isActive:e})=>[s("编译器终端工具:"),P]),title1:a(({value:t,isActive:e})=>[s("解释器终端工具:"),W]),tab0:a(({value:t,isActive:e})=>[Y]),tab1:a(({value:t,isActive:e})=>[B]),_:1},8,["data"])])}const z=p(d,[["render",C],["__file","index.html.vue"]]),V=JSON.parse('{"path":"/%E7%90%86%E8%AE%BA/2023-12-15-%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93%E7%BC%96%E8%AF%91%E5%99%A8%E5%92%8C%E8%A7%A3%E9%87%8A%E5%99%A8/","title":"实现简易编译器和解释器","lang":"zh-CN","frontmatter":{"title":"实现简易编译器和解释器","date":"2023-12-15T08:05:45.758Z","cover":"/cover/the-super-tiny-compiler.png","tag":["编译器","解释器","编译原理","词法分析","文法分析"],"category":["理论"],"description":"学习并尝试使用ts重构实现简易编译器和解释器 the-super-tiny-compiler.png 目录 学习并尝试使用ts重构实现简易编译器和解释器 目录 最终效果 解释器测试 编译器测试 具体实现 词法分析器、语法分析器、转换器、代码生成器 编译器、解释器 终端工具 最终效果 解释器测试 解释器测试:test_intrepreter.ts 测试结...","head":[["meta",{"property":"og:url","content":"https://dingdingdang.online/%E7%90%86%E8%AE%BA/2023-12-15-%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93%E7%BC%96%E8%AF%91%E5%99%A8%E5%92%8C%E8%A7%A3%E9%87%8A%E5%99%A8/"}],["meta",{"property":"og:site_name","content":"Yigui-Ding的Blog小站"}],["meta",{"property":"og:title","content":"实现简易编译器和解释器"}],["meta",{"property":"og:description","content":"学习并尝试使用ts重构实现简易编译器和解释器 the-super-tiny-compiler.png 目录 学习并尝试使用ts重构实现简易编译器和解释器 目录 最终效果 解释器测试 编译器测试 具体实现 词法分析器、语法分析器、转换器、代码生成器 编译器、解释器 终端工具 最终效果 解释器测试 解释器测试:test_intrepreter.ts 测试结..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://dingdingdang.online/cover/the-super-tiny-compiler.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-12-20T15:08:32.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://dingdingdang.online/cover/the-super-tiny-compiler.png"}],["meta",{"name":"twitter:image:alt","content":"实现简易编译器和解释器"}],["meta",{"property":"article:author","content":"丁毅桂"}],["meta",{"property":"article:tag","content":"编译器"}],["meta",{"property":"article:tag","content":"解释器"}],["meta",{"property":"article:tag","content":"编译原理"}],["meta",{"property":"article:tag","content":"词法分析"}],["meta",{"property":"article:tag","content":"文法分析"}],["meta",{"property":"article:published_time","content":"2023-12-15T08:05:45.000Z"}],["meta",{"property":"article:modified_time","content":"2023-12-20T15:08:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"实现简易编译器和解释器\\",\\"image\\":[\\"https://dingdingdang.online/cover/the-super-tiny-compiler.png\\"],\\"datePublished\\":\\"2023-12-15T08:05:45.000Z\\",\\"dateModified\\":\\"2023-12-20T15:08:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"丁毅桂\\",\\"email\\":\\"2449695354@qq.com\\"}]}"],["meta",{"name":"baidu-site-verification","content":"codeva-PwE9Ts6nMl"}]]},"headers":[{"level":2,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":2,"title":"最终效果","slug":"最终效果","link":"#最终效果","children":[{"level":3,"title":"解释器测试","slug":"解释器测试","link":"#解释器测试","children":[]},{"level":3,"title":"编译器测试","slug":"编译器测试","link":"#编译器测试","children":[]}]},{"level":2,"title":"具体实现","slug":"具体实现","link":"#具体实现","children":[{"level":3,"title":"词法分析器、语法分析器、转换器、代码生成器","slug":"词法分析器、语法分析器、转换器、代码生成器","link":"#词法分析器、语法分析器、转换器、代码生成器","children":[]},{"level":3,"title":"编译器、解释器","slug":"编译器、解释器","link":"#编译器、解释器","children":[]},{"level":3,"title":"终端工具","slug":"终端工具","link":"#终端工具","children":[]}]}],"git":{"createdTime":1703084912000,"updatedTime":1703084912000,"contributors":[{"name":"YiguiDing","email":"2449695354@qq.com","commits":1}]},"readingTime":{"minutes":1.54,"words":461},"filePathRelative":"理论/2023-12-15-实现简易编译器和解释器/index.md","localizedDate":"2023年12月15日","excerpt":"","autoDesc":true}');export{z as comp,V as data};
