const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vidstack-google-cast-ChK4uBpv.js","assets/app-CMKR-Zwd.js","assets/vidstack-DqAw8m9J-5deakaWq.js"])))=>i.map(i=>d[i]);
var I=Object.defineProperty;var f=a=>{throw TypeError(a)};var P=(a,e,t)=>e in a?I(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var u=(a,e,t)=>P(a,typeof e!="symbol"?e+"":e,t),C=(a,e,t)=>e.has(a)||f("Cannot "+t);var c=(a,e,t)=>(C(a,e,"read from private field"),t?t.call(a):e.get(a)),h=(a,e,t)=>e.has(a)?f("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),w=(a,e,t,r)=>(C(a,e,"write to private field"),r?r.call(a,t):e.set(a,t),t),s=(a,e,t)=>(C(a,e,"access private method"),t);import{l as k,I as A,aN as O,aJ as b,h as D,_ as R,n as G}from"./app-CMKR-Zwd.js";function L(){return"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"}function M(){return!!window.cast?.framework}function N(){return!!window.chrome?.cast?.isAvailable}function v(){return g().getCastState()===cast.framework.CastState.CONNECTED}function g(){return window.cast.framework.CastContext.getInstance()}function y(){return g().getCurrentSession()}function T(){return y()?.getSessionObj().media[0]}function $(a){return T()?.media.contentId===a?.src}function U(){return{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0}}function j(a){return`Google Cast Error Code: ${a}`}function z(a,e){return k(g(),a,e)}var n,o,E,S,_,l,d;class F{constructor(){h(this,o);u(this,"name","google-cast");u(this,"target");h(this,n)}get cast(){return g()}mediaType(){return"video"}canPlay(e){return A&&!b&&O(e)}async prompt(e){let t,r,i;try{t=await s(this,o,E).call(this,e),c(this,n)||(w(this,n,new cast.framework.RemotePlayer),new cast.framework.RemotePlayerController(c(this,n))),r=e.player.createEvent("google-cast-prompt-open",{trigger:t}),e.player.dispatchEvent(r),s(this,o,l).call(this,e,"connecting",r),await s(this,o,S).call(this,D(e.$props.googleCast)),e.$state.remotePlaybackInfo.set({deviceName:y()?.getCastDevice().friendlyName}),v()&&s(this,o,l).call(this,e,"connected",r)}catch(p){const m=p instanceof Error?p:s(this,o,d).call(this,(p+"").toUpperCase(),"Prompt failed.");throw i=e.player.createEvent("google-cast-prompt-error",{detail:m,trigger:r??t,cancelable:!0}),e.player.dispatch(i),s(this,o,l).call(this,e,v()?"connected":"disconnected",i),m}finally{e.player.dispatch("google-cast-prompt-close",{trigger:i??r??t})}}async load(e){if(!c(this,n))throw Error("[vidstack] google cast player was not initialized");return new(await R(async()=>{const{GoogleCastProvider:t}=await import("./vidstack-google-cast-ChK4uBpv.js");return{GoogleCastProvider:t}},__vite__mapDeps([0,1,2]))).GoogleCastProvider(c(this,n),e)}}n=new WeakMap,o=new WeakSet,E=async function(e){if(M())return;const t=e.player.createEvent("google-cast-load-start");e.player.dispatch(t),await G(L()),await customElements.whenDefined("google-cast-launcher");const r=e.player.createEvent("google-cast-loaded",{trigger:t});if(e.player.dispatch(r),!N())throw s(this,o,d).call(this,"CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return r},S=async function(e){s(this,o,_).call(this,e);const t=await this.cast.requestSession();if(t)throw s(this,o,d).call(this,t.toUpperCase(),j(t))},_=function(e){this.cast?.setOptions({...U(),...e})},l=function(e,t,r){const i={type:"google-cast",state:t};e.notify("remote-playback-change",i,r)},d=function(e,t){const r=Error(t);return r.code=e,r};const q=Object.freeze(Object.defineProperty({__proto__:null,GoogleCastLoader:F},Symbol.toStringTag,{value:"Module"}));export{y as a,T as b,j as c,g,$ as h,z as l,q as v};
