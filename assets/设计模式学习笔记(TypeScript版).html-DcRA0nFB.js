import{_ as i,c as s,o as a,b as n}from"./app-DhVIxAwx.js";const h="/assets/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-CKkIxp7d.png",t={},l=n('<h1 id="设计模式学习笔记-typescript版" tabindex="-1"><a class="header-anchor" href="#设计模式学习笔记-typescript版"><span>设计模式学习笔记(TypeScript版)</span></a></h1><p><img src="'+h+`" alt=""></p><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><ul><li><a href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0typescript%E7%89%88">设计模式学习笔记(TypeScript版)</a><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E5%9E%8B_1_%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F">创建型:_1_工厂方法模式</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E5%9E%8B_2_%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F">创建型:_2_抽象方法模式</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E5%9E%8B_3_%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F">创建型:_3_单例模式</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E5%9E%8B_4_%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F">创建型:_4_建造者模式</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E5%9E%8B_5_%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F">创建型:_5_原型模式</a></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_6_%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F">结构型:_6_适配器模式</a><ul><li><a href="#%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F">对象适配器模式</a></li><li><a href="#%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F">类适配器模式</a></li></ul></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_7_%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F">结构型:_7_桥接模式</a></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_8_%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F">结构型:_8_组合模式</a></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_9_%E8%A3%85%E9%A5%B0%E5%99%A8">结构型:_9_装饰器</a></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_10_%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F">结构型:_10_外观模式</a></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_11_%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F">结构型:_11_享元模式</a></li><li><a href="#%E7%BB%93%E6%9E%84%E5%9E%8B_12_%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F">结构型:_12_代理模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_13_%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F">行为型:_13_责任链模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_14_%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F">行为型:_14_命令模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_15_%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F">行为型:_15_解释器模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_16_%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F">行为型:_16_迭代器模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_17_%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F">行为型:_17_中介者模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_18_%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F">行为型:_18_备忘录模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_19_%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F">行为型:_19_观察者模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_20_%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F">行为型:_20_状态模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_21_%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F">行为型:_21_策略模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_22_%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F">行为型:_22_模板方法模式</a></li><li><a href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B_23_%E8%AE%BF%E9%97%AE%E8%80%85">行为型:_23_访问者</a></li></ul></li></ul><h2 id="创建型-1-工厂方法模式" tabindex="-1"><a class="header-anchor" href="#创建型-1-工厂方法模式"><span>创建型:_1_工厂方法模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 抽象动物</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getAge</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 抽象动物工厂</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AnimalFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getAnimal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 具体动物工厂，继承抽象动物工厂</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RandomAnimalFactory</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AnimalFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 工厂负责封装创建的逻辑，比如这里封装的是随机产生动物的逻辑</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 它的另一个优点是在动物的构造函数参数很多时，将产品的创建和使用解耦</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getAnimal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  switch</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">Math</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">floor</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">Math</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">random</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   case</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">:</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Dog</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Fido&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 12</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   case</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">:</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Cat</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Garfield&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 15</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   default</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">:</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Dog</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Unknown&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 12</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 具体动物类，继承抽象动物</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Dog</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> age</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getAge</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">age</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 具体动物类，继承抽象动物</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Cat</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> age</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getAge</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">age</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> animal</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RandomAnimalFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getAnimal</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">animal</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建型-2-抽象方法模式" tabindex="-1"><a class="header-anchor" href="#创建型-2-抽象方法模式"><span>创建型:_2_抽象方法模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 抽象按钮组件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 抽象消息框组件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 抽象UI工厂</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 后续将实现实际工厂类A,用能创建实际按钮类a1和实际消息框类a2,他们是一组互相兼容的组件</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 后续将实现实际工厂类B,用能创建实际按钮类b1和实际消息框类b2,他们是一组互相兼容的组件</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 后续将实现实际工厂类C,用能创建实际按钮类c1和实际消息框类c2,他们是一组互相兼容的组件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UIFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MacOsButton</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;MacOsButton&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MacOsMessageBox</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;MacOsMessageBox&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowsButton</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;WindowsButton&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowsMessageBox</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;WindowsMessageBox&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LinuxButton</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;LinuxButton&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LinuxMessageBox</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;LinuxMessageBox&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MacOsUIFactory</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UIFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MacOsButton</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MacOsMessageBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowsUIFactory</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UIFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowsButton</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowsMessageBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LinuxUIFactory</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UIFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentButton</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LinuxButton</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComponentMessageBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LinuxMessageBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // let factory = new MacOsUIFactory();  // Mac OS UI</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // let factory = new WindowsUIFactory(); // Windows UI</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> factory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LinuxUIFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // Linux UI</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> componentButton</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> factory</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getComponentButton</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> componentMessageBox</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> factory</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getComponentMessageBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">componentButton</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">componentMessageBox</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建型-3-单例模式" tabindex="-1"><a class="header-anchor" href="#创建型-3-单例模式"><span>创建型:_3_单例模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 单例模式保证类只被实例化一次，防止只需要一个实例对象但却被重复实例化，浪费资源</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ImgDog</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> HTMLImageElement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 私有化构造方法</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 私有静态属性</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> INSTANCE</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ImgDog</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 静态代码块</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  ImgDog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#9CDCFE;">INSTANCE</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">src</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;image.png&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 初始化</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 静态方法，获取img实例</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getInstance</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> HTMLImageElement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ImgDog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#9CDCFE;">INSTANCE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> imgDog1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ImgDog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getInstance</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> imgDog2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ImgDog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getInstance</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">imgDog1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> imgDog2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建型-4-建造者模式" tabindex="-1"><a class="header-anchor" href="#创建型-4-建造者模式"><span>创建型:_4_建造者模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 车架</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Frame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 车座</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Seat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 自行车</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Brand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> frame</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Frame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> seat</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Seat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">Brand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setFrame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">frame</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Frame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">frame</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> frame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setSeat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">seat</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Seat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">seat</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> seat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 自行车建造者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BikeBuidler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> bike</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Bike</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> buildFrame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> buildSeat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getResult</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 指挥者，指挥建造者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Director</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> bikeBuilder</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BikeBuidler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bikeBuilder</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> bikeBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> construct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bikeBuilder</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">buildFrame</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bikeBuilder</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">buildSeat</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bikeBuilder</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getResult</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// ofo 自行车的建造者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OfoBikeBuilder</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BikeBuidler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setBrand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Ofo Bike&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 设置品牌</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> buildFrame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setFrame</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Frame</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;铝合金车架&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 建造和组装车脚</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> buildSeat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setSeat</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Seat</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;海绵坐垫&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 建造和组装车座</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getResult</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// mobile 自行车的建造者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MobileBikeBuilder</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BikeBuidler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setBrand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Mobile Bike&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 设置品牌</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> buildFrame</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setFrame</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Frame</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;碳纤维车架&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 建造和组装车脚</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> buildSeat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setSeat</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Seat</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;真皮坐垫&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 建造和组装车座</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getResult</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">bike</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ofoBike</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Director</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OfoBikeBuilder</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">construct</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> mobBike</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Director</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MobileBikeBuilder</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">construct</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ofoBike</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">mobBike</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/*</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">输出：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">Bike {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  Brand: &#39;Ofo Bike&#39;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  frame: Frame { name: &#39;铝合金车架&#39; },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  seat: Seat { name: &#39;海绵坐垫&#39; }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">Bike {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  Brand: &#39;Mobile Bike&#39;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  frame: Frame { name: &#39;碳纤维车架&#39; },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  seat: Seat { name: &#39;真皮坐垫&#39; }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">*/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建型-5-原型模式" tabindex="-1"><a class="header-anchor" href="#创建型-5-原型模式"><span>创建型:_5_原型模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Clonable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> deepClone</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Clonable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> clone</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Clonable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Clonable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Demo&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> clone</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Object</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">assign</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 浅拷贝</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> deepClone</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // return JSON.parse(JSON.stringify(this)); // 深拷贝，JSON序列化和反序列化，但其原型对象为{}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Object</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">assign</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#9CDCFE;"> JSON</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">parse</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#9CDCFE;">JSON</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stringify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 深克隆，原型对象为自身</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo1</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">deepClone</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo1</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo2</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // fasle 深克隆</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Demo</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo4</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo3</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">clone</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">demo3</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> demo4</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // true 浅拷贝</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-6-适配器模式" tabindex="-1"><a class="header-anchor" href="#结构型-6-适配器模式"><span>结构型:_6_适配器模式</span></a></h2><h3 id="对象适配器模式" tabindex="-1"><a class="header-anchor" href="#对象适配器模式"><span>对象适配器模式</span></a></h3><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 对象适配器模式就是以实现接口和聚合的方式来实现适配器</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 1. 有一个旧接口 有一个旧的类 ，旧的类实现了旧的接口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 被适配的接口，旧的接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> GetUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 旧的命名规范是函数开头大写</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 旧的User对象，实现的是旧的接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUser</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> GetUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Old_DingYigui&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 2. 有一个新的接口 也有新的实现了该接口的类，但不重要，还有一个函数，他的形参要求是一个实现了新接口的对象</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 目标接口，新的接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 新的命名规范是函数开头小写</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 新的User类 但不重要</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUser</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;New_DingYigui&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 根据新接口编写的函数：</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 某函数期待的对象是实现了新用户接口的类</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> welcome</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;欢迎你：&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 3. 定义适配器，使得 旧User接口 能够适配 新User接口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 旧的User对象 为了适配新的接口 所以实现新的接口，然后通过聚合的方式调用旧对象上的对应方法</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserToNewUser_Adapter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUser</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">OldUser</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> OldUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">OldUser</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">GetUserName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 报错，因为不适配</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // welcome(new OldUser()); // 因为函数要求形参是一个NewUserInterface类型 但 OldUser 是OldUserInterface类型</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 经过适配器的转换，不报错</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> welcome</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserToNewUser_Adapter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 因为 旧的User对象 放入 适配器 就能满足welcome函数形参的接口要求了</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类适配器模式" tabindex="-1"><a class="header-anchor" href="#类适配器模式"><span>类适配器模式</span></a></h3><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 对象适配器模式就是以实现接口和聚合的方式来实现适配器</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 1. 有一个旧接口 有一个旧的类 ，旧的类实现了旧的接口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 被适配的接口，旧的接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> GetUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 旧的命名规范是函数开头大写</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 旧的User对象，实现的是旧的接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUser</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> GetUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Old_DingYigui&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 2. 有一个新的接口 也有新的实现了该接口的类，但不重要，还有一个函数，他的形参要求是一个实现了新接口的对象</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 目标接口，新的接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 新的命名规范是函数开头小写</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 新的User类 但不重要</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUser</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;New_DingYigui&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 根据新接口编写的函数：</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 某函数期待的对象是实现了新用户接口的类</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> welcome</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;欢迎你：&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 3.定义新版本的OldUser，继承旧User对象， 实现新接口，使其适配新接口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserToNewUser_Adapter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUser</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewUserInterface</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">GetUserName</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 报错，因为不适配</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // welcome(new OldUser()); // 因为函数要求形参是一个NewUserInterface类型 但 OldUser 是OldUserInterface类型</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 经过适配器的转换，不报错</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> welcome</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OldUserToNewUser_Adapter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-7-桥接模式" tabindex="-1"><a class="header-anchor" href="#结构型-7-桥接模式"><span>结构型:_7_桥接模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 桥接模式和策略模式有些相似，</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 共同点是，都是一个对象对另一个接口的聚合</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 区别是，</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 策略模式是在强调：\`具体类\`对接口的聚合，多个实现类实现该接口</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 桥接模式是在强调：\`抽象类\`对接口的聚合，多个实现类实现该接口，多个具体类继承抽象类</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 策略模式属于行为模式，桥接模式属于结构型模式</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 案例：</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 策略模式：我要画圆。要实心圆，我能够用solidPen来配置。画虚线圆能够用dashedPen来配置。</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 桥接模式：同样是画圆，在windows下来画实心圆。就用windowPen+solidPen来配置。在unix下画实心圆就用unixPen+solidPen来配置。假设要再windows下画虚线圆。就用windowsPen+dashedPen来配置，要在unix下画虚线圆，就用unixPen+dashedPen来配置。</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 画圆方法中，策略仅仅是考虑算法的替换，而桥接考虑的则是不同平台下须要调用不同的工具，接口仅仅是定义一个方法。而详细实现则由详细实现类完毕。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 文件系统</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> readFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> writeFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 操作系统</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OS</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 操作系统聚合文件系统接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> readFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> writeFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Fat32</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> readFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;reading file from fat32&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;reading file from fat32&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> writeFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;writing file to fat32&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NTFS</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> readFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;reading file from ntfs&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;reading file from ntfs&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> writeFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;writing file to ntfs&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowOS</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OS</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fs</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> readFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;windows is reading file&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">readFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">path</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> writeFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;windows is writing file&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">writeFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">path</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> data</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Unix</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OS</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myFileSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fs</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> readFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;unix is reading file&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">readFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">path</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> writeFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">path</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;unix is writing file&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">writeFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">path</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> data</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> windowOS</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowOS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Fat32</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // Windows with fat32</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> windowOS</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> WindowOS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NTFS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // Windows with ntfs</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> windowOS</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">readFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/code/123.txt&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> windowOS</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">writeFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/code/123.txt&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;123&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> unixOS</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Unix</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NTFS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> //unix with ntfs</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> unixOS</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Unix</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Fat32</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // unix with fat32</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> unixOS</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">readFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/code/123.txt&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> unixOS</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">writeFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/code/123.txt&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;123&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-8-组合模式" tabindex="-1"><a class="header-anchor" href="#结构型-8-组合模式"><span>结构型:_8_组合模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getLevel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> print</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getSize</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> childs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">Component</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">component</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> remove</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">component</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> public</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> childs</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">Component</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getLevel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">component</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">childs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">component</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> remove</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">component</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">childs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">splice</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">childs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">indexOf</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">component</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">childs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">item</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">doSomething</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> print</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> array</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getLevel</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fill</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\\t</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  array</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">...</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">array</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">childs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">item</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">print</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getSize</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> size</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">childs</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">item</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">size</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getSize</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> size</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> size</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">size</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> size</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getLevel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;doSomething&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> print</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> array</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getLevel</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fill</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\\t</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  array</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">...</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">array</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getSize</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">size</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> menuRootComponent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;MenuRoot&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> menuRootComponent</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">  .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">  .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">  .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Menu&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)))</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">  .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">   new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Menu&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">    .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">    .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">    .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">    .</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">     new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MenuComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Menu&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItemComponent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Item&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    )</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  )</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;size:&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> menuRootComponent</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getSize</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#9CDCFE;">JSON</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stringify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">menuRootComponent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> menuRootComponent</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">print</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> menuRootComponent</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">doSomething</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/*</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> * Output:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    &quot;name&quot;: &quot;MenuRoot&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    &quot;level&quot;: 1,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    &quot;childs&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;level&quot;: 2</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;level&quot;: 2</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;name&quot;: &quot;Menu&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;level&quot;: 2,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;childs&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            ]</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;name&quot;: &quot;Menu&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;level&quot;: 2,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            &quot;childs&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;name&quot;: &quot;Menu&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;level&quot;: 3,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    &quot;childs&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                            &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                            &quot;level&quot;: 4</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                        },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                            &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                            &quot;level&quot;: 4</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                        },</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                        {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                            &quot;name&quot;: &quot;Item&quot;,</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                            &quot;level&quot;: 4</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                        }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                    ]</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            ]</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    ]</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">MenuRoot</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">         Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">         Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">         Menu</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">         Menu</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 Menu</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                         Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                         Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                         Item</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">*/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-9-装饰器" tabindex="-1"><a class="header-anchor" href="#结构型-9-装饰器"><span>结构型:_9_装饰器</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 咖啡类</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getCost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 咖啡类的装饰器：继承咖啡类，并聚合咖啡类</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CoffeeDecorator</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 被装饰的咖啡</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> beDecorated</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 美式咖啡</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AmericaCoffee</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;American coffee&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getCost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 10</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 意式咖啡</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ItalyCoffee</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Italian coffee&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getCost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 20</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 加糖</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SugerCoffeeDecorator</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CoffeeDecorator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getDescription</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot; with Suger&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 装饰后的描述是原描述+&quot; with Suger&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getCost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getCost</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 装饰后的价格是原价格+1</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 加牛奶</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MilkCoffeeDecorator</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CoffeeDecorator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Coffee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getDescription</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot; with Milk&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getCost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beDecorated</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getCost</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">() </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> americaCoffee</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AmericaCoffee</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 美式咖啡</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> decoratedWithSuger</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SugerCoffeeDecorator</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">americaCoffee</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 美式咖啡加糖</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> decoratedWithMilk</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MilkCoffeeDecorator</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">decoratedWithSuger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 美式咖啡加糖后再加牛奶</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">decoratedWithMilk</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getDescription</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">decoratedWithMilk</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getCost</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-10-外观模式" tabindex="-1"><a class="header-anchor" href="#结构型-10-外观模式"><span>结构型:_10_外观模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 外观模式非常简单，就是对于一个使用起来复杂度较高的系统，另外封装成一个类，</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 让这个类来接管如何使用这个系统，这种写法平时也会自然而然的写出来，没啥好说的</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Game</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;./Game&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> game</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Game</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 外观模式，把整个系统的复杂的调用细节再封装为一个类，通过这个类来运行这个系统</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> game</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">start</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-11-享元模式" tabindex="-1"><a class="header-anchor" href="#结构型-11-享元模式"><span>结构型:_11_享元模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 享元模式的概念和单例的概念有些类似，</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 但单例模式是一个对象只能被创建一个</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 享元模式是，一个对象能够被创建多次，但只是通过一个共享容器，让具有某一条件的对象只被初始化一次，而这种具体的条件可以很灵活的由创建工厂来控制</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Shape</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> draw</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Shape</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // private posX: number, // 要被共享，就只应当具有公共不变的属性</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // private posY: number,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> width</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> height</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> color</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> )</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // this.posX = posX;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // this.posY = posY;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> height</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> color</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setColor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">color</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> color</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> draw</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#9CDCFE;">JSON</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stringify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> undefined</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BoxFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> boxMap</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Map</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getBox</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">color</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">boxMap</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">has</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">boxMap</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">get</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">as</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> else</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> color</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">boxMap</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> BoxFactory</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;red&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> BoxFactory</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;red&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> BoxFactory</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getBox</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;pink&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;red&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Box</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;red&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 重复创建对象 不是同一个对象</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">box1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 是同一个对象，避免了重复创建对象，节省了内存</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">box2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> box3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 不是同一个对象，对于不存在的对象，会在第一次创建对象，</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="结构型-12-代理模式" tabindex="-1"><a class="header-anchor" href="#结构型-12-代理模式"><span>结构型:_12_代理模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interfaceA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> methodA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> methodB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> A</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interfaceA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> methodA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;A:methodA&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> methodB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;A:methodB&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ProxyA</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interfaceA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> a</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> A</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> a</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> methodA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Proxy:MethodA&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">methodA</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> methodB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Proxy:MethodB&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">methodB</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> proxyA</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ProxyA</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> A</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> proxyA</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">methodA</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> proxyA</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">methodB</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-13-责任链模式" tabindex="-1"><a class="header-anchor" href="#行为型-13-责任链模式"><span>行为型:_13_责任链模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> next</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setLevel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setNext</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">next</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> next</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> public</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> logMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> &gt;=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> else</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">logMsg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ErrorLogger</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> public</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">warn</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;error:&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DebugLogger</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> public</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;debug:&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> InfoLogger</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> public</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">level</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;info:&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> level</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LoggerChain</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> head</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AbsLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> info</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> InfoLogger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> debug</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DebugLogger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> error</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ErrorLogger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  info</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setLevel</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setNext</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">debug</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  debug</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setLevel</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setNext</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  error</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setLevel</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setNext</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  LoggerChain</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">head</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> info</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getLogger</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> LoggerChain</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">head</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> LoggerChain</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getLogger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">logMsg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;ha ha ha ha&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> LoggerChain</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getLogger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">logMsg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;ha ha ha ha&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> LoggerChain</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getLogger</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">logMsg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;ha ha ha ha&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-14-命令模式" tabindex="-1"><a class="header-anchor" href="#行为型-14-命令模式"><span>行为型:_14_命令模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 命令接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 灯</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> turnOn</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;light is turn on&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 开灯</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> turnOff</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;light is turn off&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 关灯</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> down</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;light is down&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 降低亮度</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> up</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;light is up&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 调高亮度</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开灯命令</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightTurnOnCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOn</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOff</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 关灯命令</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightTurnOffCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOff</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOn</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 降低亮度</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightDownCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">down</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">up</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 调高亮度</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightUpCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ligtht</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">up</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ligtht</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">down</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 电视</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TV</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> turnOn</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;TV is turn on&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 开灯</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> turnOff</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;TV is turn off&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 关灯</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开电视命令</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TVTurnOnCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> tv</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TV</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> tv</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOn</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOff</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 关电视命令</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TVTurnOffCommand</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> tv</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TV</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> tv</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> execute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOff</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> unexecute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">turnOn</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 命令触发器</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CommandInvoker</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行和撤销的历史记录</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> history_do</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ICommand</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> history_undo</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ICommand</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 一般命名为：setCommand(),但这里为了保持命名格式一致</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ToDoCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ICommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;执行命令：&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  ToDoCommand</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">execute</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行命令</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history_do</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 添加到历史记录</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history_undo</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 清除撤销历史记录</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UndoCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> UnDoCommand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history_do</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">pop</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 获取栈顶命令</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UnDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;撤销命令：&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   UnDoCommand</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">unexecute</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销命令</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history_undo</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UnDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 添加到撤销历史记录</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 重做命令</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RedoCommand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ReDoCommand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history_undo</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">pop</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 获取最后一条已撤销的命令</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ReDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;重做命令：&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   ReDoCommand</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">execute</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 重做</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history_do</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ReDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 添加到历史记录</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> light</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Ligtht</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 灯</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> tv</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TV</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 电视</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CommandInvoker</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 命令触发器（智能遥控器）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightTurnOnCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">light</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 开灯</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightTurnOffCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">light</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 关灯</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightUpCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">light</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 灯调亮</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightDownCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">light</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 灯调暗</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TVTurnOnCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 开电视</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TVTurnOffCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">tv</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 关电视</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">UndoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">UndoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">UndoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">UndoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 撤销</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">RedoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 重做</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">RedoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 重做</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ToDoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LightTurnOffCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">light</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 关灯</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> commandInvoker</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">RedoCommand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 重做，无法重做，因为撤销历史被覆盖</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-15-解释器模式" tabindex="-1"><a class="header-anchor" href="#行为型-15-解释器模式"><span>行为型:_15_解释器模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getValue</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">?.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">as</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Add</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> left</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> right</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Minus</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> left</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> right</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> left</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> right</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  context</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">setValue</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Pow</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Expression</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> left</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> right</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> interpret</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Math</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">pow</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">left</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">right</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Map</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">Variable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> setValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">variable</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">variable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">variable</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">get</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 上下文</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> a</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;a&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> b</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;b&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> c</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;c&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> d</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;d&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;result&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 赋值</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // a = 1</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">b</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // b = 2</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">c</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // c = 3</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // d = 4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // result = (a+b)-(c+d)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Minus</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> b</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">c</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> d</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 上下文</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> a</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;a&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> b</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;b&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Variable</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;result&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 赋值</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // a = 2</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">b</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // b = 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // result = (a+b)-(c+d)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SingleEqual</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Pow</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">a</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> b</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">interpret</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ctx</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// main2();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-16-迭代器模式" tabindex="-1"><a class="header-anchor" href="#行为型-16-迭代器模式"><span>行为型:_16_迭代器模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* eslint-disable no-var */</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 迭代器对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myIterator</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getNext</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> hasNext</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 可迭代接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myIterable</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getIterator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myIterator</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 获取迭代器对象</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 实现可迭代接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myList</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myIterable</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> push</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">item</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> pop</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> undefined</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">pop</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getIterator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myIterator</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> myList</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ListIterator</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ListIterator</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ListIterator</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  currentIndex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#E6E6E6;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">[]</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentIndex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  hasNext</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentIndex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  getNext</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">[</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentIndex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">]</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> };</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> myList</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> var</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> iterator</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getIterator</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 获取迭代器对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> while</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">iterator</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">hasNext</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">iterator</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getNext</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-17-中介者模式" tabindex="-1"><a class="header-anchor" href="#行为型-17-中介者模式"><span>行为型:_17_中介者模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 消息发送的中介者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgMediator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Map</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgReceiver</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> join</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">receiverId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> receiver</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgReceiver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 登录</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToReceiver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fromReceiverId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toReceiverId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToReceivers</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fromReceiverId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toReceiverIds</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#E6E6E6;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">[]</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fromReceiverId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 消息的接受者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgReceiver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgMediator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 消息发送者聚合了一个中介者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> receiveMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> fromUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 接收消息</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 使用中介者发送点对点消息</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToUsers</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toUserIds</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">string</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 使用中介者发送一对多消息</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> broadcastMessage</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 使用中介者发送广播消息</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 聊天室</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ChatRoom</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgMediator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> chatRoomId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> chatRoomName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Map</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgReceiver</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">chatRoomId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> chatRoomName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoomId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> chatRoomId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoomName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> chatRoomName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> join</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">UserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgReceiver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">has</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)) </span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToReceiver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fromUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">has</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">toUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)) </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">get</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">toUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">?.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">receiveMsg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fromUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   return</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToReceivers</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fromUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toUserIds</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#E6E6E6;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">[]</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> flag</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  toUserIds</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">toReceiverId</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">   if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToReceiver</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fromUserId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> toReceiverId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> flag</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fromUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgReceivers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">receiveMsg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> fromUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgReceiver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> protected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgMediator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> userId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> userName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> join</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MsgMediator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msgMediator</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)) </span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToReceiver</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> toUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> sendMsgToUsers</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> toUserIds</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">string</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToReceivers</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> toUserIds</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> broadcastMessage</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msgMediator</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToAll</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> receiveMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> fromUserId</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">\`用户</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">\${</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">收到从用户</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">\${</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">fromUserId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">发来的消息:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">\${</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getUserName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> chatRoom</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ChatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;111&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;测试&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user1&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;002&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user2&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;003&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user3&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user4</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;004&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user4&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user5</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;005&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user5&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user6</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;006&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user6&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user7</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;007&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user7&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user8</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;008&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;user8&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user1</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user2</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user3</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user4</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user5</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user6</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user7</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user8</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">chatRoom</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 点对点发送</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user1</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《私聊消息:哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user2</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user2</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《私聊消息:哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user3</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user3</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《私聊消息:哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user4</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user4</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《私聊消息:哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user5</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user5</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《私聊消息:哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user6</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user6</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUser</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《私聊消息:哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user7</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 一对多发送</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user7</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sendMsgToUsers</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《群发消息：哈喽》&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> [</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user1</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user2</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user3</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getUserId</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()])</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 广播发送</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user8</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">broadcastMessage</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;《广播消息:哈喽》&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-18-备忘录模式" tabindex="-1"><a class="header-anchor" href="#行为型-18-备忘录模式"><span>行为型:_18_备忘录模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 备忘录模式，记录某对象的状态</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Memento</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> textContent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">textContent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">textContent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> textContent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> getTextContent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">textContent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TextEditor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> textContent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> typing</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">text</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">textContent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> text</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 保存状态</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> save</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Memento</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Memento</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">textContent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 恢复状态</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> restore</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">memento</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Memento</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> undefined</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">memento</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">textContent</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> memento</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">getTextContent</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MementoHistoryManager</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> mementos</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Map</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Memento</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">describe</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> memento</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Memento</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">mementos</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">describe</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> memento</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> get</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">describe</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">mementos</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">get</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">describe</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> remove</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">describe</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">mementos</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">delete</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">describe</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> editor</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TextEditor</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> history</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MementoHistoryManager</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> editor</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">typing</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;hi this is the init state.&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 输入内容</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> history</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;快照1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> editor</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">save</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 保存为快照1</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">editor</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> //TextEditor { context: &#39;hi this is the init state.&#39; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> editor</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">typing</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;hhhhhhhhhhhhhhhhhh.&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 输入内容</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">editor</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> //TextEditor { context: &#39;hi this is the init state.hhhhhhhhhhhhhhhhhh.&#39; }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> history</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;快照2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> editor</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">save</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 保存为快照2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> editor</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">restore</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">history</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">get</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;快照1&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 恢复快照1</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">editor</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> //TextEditor { context: &#39;hi this is the init state.&#39; }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-19-观察者模式" tabindex="-1"><a class="header-anchor" href="#行为型-19-观察者模式"><span>行为型:_19_观察者模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 可观察对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObservable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">observer</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObserver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> remove</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">observer</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObserver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> notify</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 观察者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObserver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 消息发布者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MessagePublisher</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObservable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> currentMessage</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  setInterval</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentMessage</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;hahaha&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Date</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">now</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;被观察者：我发布了新消息:&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentMessage</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">notify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 通知被观察者</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  },</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 500</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 注册、移除、通知观察者的逻辑</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> observers</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Set</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">IObserver</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 观察者集合</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">observer</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObserver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // 添加观察者</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">observers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">observer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> remove</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">observer</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObserver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // 移除观察者</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">observers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">delete</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">observer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> notify</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // 通知所有观察者</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">observers</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">item</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 消息监听者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MessageReceiver</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> IObserver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> target</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MessagePublisher</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">target</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> target</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">target</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;观察者：收到了被观察的消息推送：&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">target</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentMessage</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> publisher</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MessagePublisher</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> receiver1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MessageReceiver</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">publisher</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> receiver2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> MessageReceiver</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">publisher</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-20-状态模式" tabindex="-1"><a class="header-anchor" href="#行为型-20-状态模式"><span>行为型:_20_状态模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> State</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // abstract inputHandler(context: Context): void; // 通过输入处理函数，可以实现只能从某种状态到某种状态的切换</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> currentState</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> State</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> InitState</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> changeState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">state</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> State</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentState</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> state</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">currentState</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">doSomething</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TiredState</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> State</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;精疲力尽的做某事&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> InitState</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> State</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> doSomething</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">context</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;元气满满的做某事&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> someone</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Context</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> someone</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">doSomething</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> someone</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">changeState</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> TiredState</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> someone</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">doSomething</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-21-策略模式" tabindex="-1"><a class="header-anchor" href="#行为型-21-策略模式"><span>行为型:_21_策略模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 策略模式</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> flyStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FlyStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 行为是接口，具体什么行为由子类定义</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> jumpStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> JumpStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  private</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> runStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RunStrategy</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> )</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">flyStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> flyStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">jumpStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> jumpStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">runStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> runStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> fly</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">flyStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fly</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> jump</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">jumpStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">jump</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> run</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">runStrategy</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">run</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 飞行策略</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FlyStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> fly</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> JumpStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> jump</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RunStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> run</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 默认的飞行策略</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultFlyStrategy</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FlyStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> fly</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Default Fly&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 不会飞的飞行策略</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantFlyStrategy</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FlyStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> fly</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Can&#39;t Fly&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultJumpStrategy</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> JumpStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> jump</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Default Jump&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantJumpStrategy</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> JumpStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> jump</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Can&#39;t Jump&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultRunStrategy</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RunStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> run</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Default Run&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantRunStrategy</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RunStrategy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> run</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Can&#39;t Run&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> bird</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultFlyStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultJumpStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantRunStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;bird:&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> bird</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fly</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> bird</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">jump</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> bird</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">run</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dog</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantFlyStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultJumpStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultRunStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;dog:&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fly</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">jump</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dog</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">run</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> duck</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Animal</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> DefaultFlyStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantJumpStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CantRunStrategy</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;duck:&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> duck</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">fly</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> duck</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">jump</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> duck</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">run</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-22-模板方法模式" tabindex="-1"><a class="header-anchor" href="#行为型-22-模板方法模式"><span>行为型:_22_模板方法模式</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 模板方法是指：有某一系统按某规定顺序执行，但其中某一阶段的具体实现是未知的</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 解决方法是使用抽象方法，或者使用hook钩子函数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">abstract</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SomeSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> beforeStage2Hooks</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 钩子函数列表，私有化，防止被赋值为空数组</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> afterStage2Hooks</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Array</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#04A5E5;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> []</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> beforeStage2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">hook</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> ()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // beforeStage3钩子函数添加</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beforeStage2Hooks</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">hook</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> afterStage2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">hook</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> ()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">afterStage2Hooks</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">push</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">hook</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> stage1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;stage1&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> stage2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;stage2&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> abstract</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> stage3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 阶段3 的具体实现是未知的</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> private</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> stage4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;stage4&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> start</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stage1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">beforeStage2Hooks</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">hook</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> hook</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行某些注入的操作</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stage2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">afterStage2Hooks</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">forEach</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">hook</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> hook</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 执行某些注入的操作</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stage3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">stage4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Subsystem</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SomeSystem</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constructor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  super</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">beforeStage2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   // 通过钩子函数，实现在阶段2之前执行某些操作</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;before stage2&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">  }</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> stage3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // 给出阶段3的具体实现</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;stage3&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> let</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> system</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Subsystem</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> system</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">afterStage2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // 通过钩子函数，实现在阶段2之后执行某些操作</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;after stage2&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> system</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">start</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 启动系统</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="行为型-23-访问者" tabindex="-1"><a class="header-anchor" href="#行为型-23-访问者"><span>行为型:_23_访问者</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 访问者接口</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitDisplay</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">display</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Display</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitMouse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">mouse</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Mouse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitKeyBoard</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">keyBoard</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> KeyBoard</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitDisk</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">disk</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Disk</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 具体访问者</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UpdatePackage</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitDisplay</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">display</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Display</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // do something</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  display</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 升级</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitMouse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">mouse</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Mouse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  mouse</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitKeyBoard</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">keyBoard</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> KeyBoard</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  keyBoard</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> visitDisk</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">disk</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Disk</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  disk</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 电脑</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Computer</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> display</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Display</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> mouse</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Mouse</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> keyBoard</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> KeyBoard</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> disk</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Disk</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visiter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">display</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">visiter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">mouse</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">visiter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">keyBoard</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">visiter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">  this</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">disk</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">visiter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">interface</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComputerPart</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visiter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Display</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComputerPart</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visiter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  visiter</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visitDisplay</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Mouse</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComputerPart</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visiter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  visiter</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visitMouse</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> KeyBoard</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComputerPart</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visiter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  visiter</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visitKeyBoard</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Disk</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ComputerPart</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;v0.1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visiter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PcPartVisiter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  visiter</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">visitDisk</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> computer</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Computer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">computer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> computer</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;--shiki-light-font-weight:bold;--shiki-dark-font-weight:inherit;">new</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> UpdatePackage</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">())</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> console</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">log</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">computer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">main</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,53),k=[l];function e(p,r){return a(),s("div",null,k)}const d=i(t,[["render",e],["__file","设计模式学习笔记(TypeScript版).html.vue"]]),y=JSON.parse('{"path":"/%E7%90%86%E8%AE%BA/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(TypeScript%E7%89%88)/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(TypeScript%E7%89%88).html","title":"设计模式学习笔记(TypeScript版)","lang":"zh-CN","frontmatter":{"title":"设计模式学习笔记(TypeScript版)","date":"2023-01-10T21:21:00.000Z","cover":"./cover/23种设计模式学习笔记.png","tag":["笔记","设计模式","design pattens","typescript"],"category":"笔记","star":true,"description":"设计模式学习笔记(TypeScript版) 目录 设计模式学习笔记(TypeScript版) 目录 创建型:_1_工厂方法模式 创建型:_2_抽象方法模式 创建型:_3_单例模式 创建型:_4_建造者模式 创建型:_5_原型模式 结构型:_6_适配器模式 对象适配器模式 类适配器模式 结构型:_7_桥接模式 结构型:_8_组合模式 结构型:_9_装饰器...","head":[["meta",{"property":"og:url","content":"https://dingdingdang.online/%E7%90%86%E8%AE%BA/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(TypeScript%E7%89%88)/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(TypeScript%E7%89%88).html"}],["meta",{"property":"og:site_name","content":"YiguiDing的Blog小站"}],["meta",{"property":"og:title","content":"设计模式学习笔记(TypeScript版)"}],["meta",{"property":"og:description","content":"设计模式学习笔记(TypeScript版) 目录 设计模式学习笔记(TypeScript版) 目录 创建型:_1_工厂方法模式 创建型:_2_抽象方法模式 创建型:_3_单例模式 创建型:_4_建造者模式 创建型:_5_原型模式 结构型:_6_适配器模式 对象适配器模式 类适配器模式 结构型:_7_桥接模式 结构型:_8_组合模式 结构型:_9_装饰器..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-28T11:27:55.000Z"}],["meta",{"property":"article:author","content":"丁毅桂"}],["meta",{"property":"article:tag","content":"笔记"}],["meta",{"property":"article:tag","content":"设计模式"}],["meta",{"property":"article:tag","content":"design pattens"}],["meta",{"property":"article:tag","content":"typescript"}],["meta",{"property":"article:published_time","content":"2023-01-10T21:21:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-28T11:27:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"设计模式学习笔记(TypeScript版)\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-10T21:21:00.000Z\\",\\"dateModified\\":\\"2023-11-28T11:27:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"丁毅桂\\",\\"email\\":\\"2449695354@qq.com\\"}]}"],["meta",{"name":"baidu-site-verification","content":"codeva-PwE9Ts6nMl"}]]},"headers":[{"level":2,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":2,"title":"创建型:_1_工厂方法模式","slug":"创建型-1-工厂方法模式","link":"#创建型-1-工厂方法模式","children":[]},{"level":2,"title":"创建型:_2_抽象方法模式","slug":"创建型-2-抽象方法模式","link":"#创建型-2-抽象方法模式","children":[]},{"level":2,"title":"创建型:_3_单例模式","slug":"创建型-3-单例模式","link":"#创建型-3-单例模式","children":[]},{"level":2,"title":"创建型:_4_建造者模式","slug":"创建型-4-建造者模式","link":"#创建型-4-建造者模式","children":[]},{"level":2,"title":"创建型:_5_原型模式","slug":"创建型-5-原型模式","link":"#创建型-5-原型模式","children":[]},{"level":2,"title":"结构型:_6_适配器模式","slug":"结构型-6-适配器模式","link":"#结构型-6-适配器模式","children":[{"level":3,"title":"对象适配器模式","slug":"对象适配器模式","link":"#对象适配器模式","children":[]},{"level":3,"title":"类适配器模式","slug":"类适配器模式","link":"#类适配器模式","children":[]}]},{"level":2,"title":"结构型:_7_桥接模式","slug":"结构型-7-桥接模式","link":"#结构型-7-桥接模式","children":[]},{"level":2,"title":"结构型:_8_组合模式","slug":"结构型-8-组合模式","link":"#结构型-8-组合模式","children":[]},{"level":2,"title":"结构型:_9_装饰器","slug":"结构型-9-装饰器","link":"#结构型-9-装饰器","children":[]},{"level":2,"title":"结构型:_10_外观模式","slug":"结构型-10-外观模式","link":"#结构型-10-外观模式","children":[]},{"level":2,"title":"结构型:_11_享元模式","slug":"结构型-11-享元模式","link":"#结构型-11-享元模式","children":[]},{"level":2,"title":"结构型:_12_代理模式","slug":"结构型-12-代理模式","link":"#结构型-12-代理模式","children":[]},{"level":2,"title":"行为型:_13_责任链模式","slug":"行为型-13-责任链模式","link":"#行为型-13-责任链模式","children":[]},{"level":2,"title":"行为型:_14_命令模式","slug":"行为型-14-命令模式","link":"#行为型-14-命令模式","children":[]},{"level":2,"title":"行为型:_15_解释器模式","slug":"行为型-15-解释器模式","link":"#行为型-15-解释器模式","children":[]},{"level":2,"title":"行为型:_16_迭代器模式","slug":"行为型-16-迭代器模式","link":"#行为型-16-迭代器模式","children":[]},{"level":2,"title":"行为型:_17_中介者模式","slug":"行为型-17-中介者模式","link":"#行为型-17-中介者模式","children":[]},{"level":2,"title":"行为型:_18_备忘录模式","slug":"行为型-18-备忘录模式","link":"#行为型-18-备忘录模式","children":[]},{"level":2,"title":"行为型:_19_观察者模式","slug":"行为型-19-观察者模式","link":"#行为型-19-观察者模式","children":[]},{"level":2,"title":"行为型:_20_状态模式","slug":"行为型-20-状态模式","link":"#行为型-20-状态模式","children":[]},{"level":2,"title":"行为型:_21_策略模式","slug":"行为型-21-策略模式","link":"#行为型-21-策略模式","children":[]},{"level":2,"title":"行为型:_22_模板方法模式","slug":"行为型-22-模板方法模式","link":"#行为型-22-模板方法模式","children":[]},{"level":2,"title":"行为型:_23_访问者","slug":"行为型-23-访问者","link":"#行为型-23-访问者","children":[]}],"git":{"createdTime":1700226391000,"updatedTime":1701170875000,"contributors":[{"name":"YiguiDing","email":"2449695354@qq.com","commits":2}]},"readingTime":{"minutes":22.69,"words":6808},"filePathRelative":"理论/设计模式学习笔记(TypeScript版)/设计模式学习笔记(TypeScript版).md","localizedDate":"2023年1月10日","excerpt":"","autoDesc":true}');export{d as comp,y as data};
