import{_ as k,c as e,a as i,b as r,e as E,w as t,r as p,o as d,d as s}from"./app-DQ3m-K7z.js";const y="/assets/image-10-Cx1b_ZcS.png",g="/assets/image-7-BvVYuZjj.png",C={};function F(c,l){const n=p("CodeTabs");return d(),e("div",null,[l[4]||(l[4]=i("h2",{id:"_09-实现close-loop-current-control闭环电流控制",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#_09-实现close-loop-current-control闭环电流控制"},[i("span",null,"09.实现close_loop_current_control闭环电流控制")])],-1)),l[5]||(l[5]=i("h3",{id:"具体实现",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#具体实现"},[i("span",null,"具体实现")])],-1)),r(n,{data:[{id:"<code v-pre>BLDCMotor.cpp</code>"},{id:"<code v-pre>BLDCMotor.hpp</code>"}]},{title0:t(({value:h,isActive:a})=>l[0]||(l[0]=[i("code",null,"BLDCMotor.cpp",-1)])),title1:t(({value:h,isActive:a})=>l[1]||(l[1]=[i("code",null,"BLDCMotor.hpp",-1)])),tab0:t(({value:h,isActive:a})=>l[2]||(l[2]=[i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Arduino.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "BLDCMotor.hpp"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," polePairs"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," power_supply_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"polePairs"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," polePairs"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"power_supply_voltage"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," power_supply_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"connectDriver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"BLDCDriver"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}},"driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"driver"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"connectSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"Sensor"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"connectCurrentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"CurrentSensor"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}},"currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"currentSensor"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"initFOC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"initSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"alignSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"initDriver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"enableDriver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#569CD6"}},"true"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"setPhraseVoltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"initSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"connectMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"alignSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"loopFOC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"        this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // this->open_loop_voltage_control(0, 1.0f);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"close_loop_current_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0.12f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@details")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," *  电角度=机械角度*极对数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," *  "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," [0,2PI] => [0,UINT16_MAX]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"electricalAngle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"getPositon"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," polePairs"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * 设置相电压")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@param"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," int16_t [-32768,32767] 表示 [-1,1] 精度：1/32768 = 0.0000305")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@param"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," int16_t [-32768,32767] 表示 [-1,1]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@param"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," e_angle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," uint16_t [0,65535] 表示 [0,2PI] 精度：360°/65535 = 0.00549°")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"setPhraseVoltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," e_angle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," sin"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," cos"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 计算三角函数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"    _sincos"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"e_angle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"sin"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"cos"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 帕克逆变换")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_alpha "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"cos "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"sin "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," INT16_MAX"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_beta "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"sin "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"cos "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," INT16_MAX"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 克拉克逆变换(等幅值形式)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_a "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_alpha"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_b "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_alpha "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _INT16_SQRT3_ "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_beta "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," INT16_MAX"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_c "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_a "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_b"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 设置相电压")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"setPhraseVoltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_a"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_b"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_c"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"open_loop_voltage_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target_ud"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target_uq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage_ud "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," _constrain"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"limit_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target_ud"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," limit_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage_uq "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," _constrain"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"limit_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target_uq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," limit_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_d "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"directron"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"direction"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"voltage_ud "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," power_supply_voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," INT16_MAX"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_q "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"directron"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"direction"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"voltage_uq "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," power_supply_voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," INT16_MAX"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," e_angle "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"electricalAngle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"setPhraseVoltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," e_angle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * 获取Q轴电流")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"CurrentDQ"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"getCurrentDQ"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    CurrentDQ i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"getCurrentDQ"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"electricalAngle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"());")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        .d "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"current_d_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        .q "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"current_q_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * 电流闭环控制")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"close_loop_current_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target_i_d "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target_i_q "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," _constrain"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"limit_current"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," limit_current"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    CurrentDQ current "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"getCurrentDQ"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," error_d "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target_i_d "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," current"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," error_q "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," target_i_q "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," current"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_d "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"pid_id_controller"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"error_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_q "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"pid_iq_controller"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"error_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"    this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"open_loop_voltage_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * 获取机械角度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"shaftAngle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," shaft_angle_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"getPositons"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"());")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," * 获取机械角度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"shaftVelocity"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," shaft_velocity_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}},"this"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"getVelocity"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"());")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:t(({value:h,isActive:a})=>l[3]||(l[3]=[i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," __BLDCMotor_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," __BLDCMotor_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," <stdint.h>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "foc_utils.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "BLDCDriver.hpp"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "LowPassFilter.hpp"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "CurrentSensor.hpp"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Sensor.hpp"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Timer.hpp"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "pid.hpp"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"class"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}}," BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," :"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Timer")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    enum"),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}}," MotorDirectrion"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," :"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int8_t")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#9CDCFE"}},"        UNKNOW"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#9CDCFE"}},"        ANTI_CLOCK_WISE"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#9CDCFE"}},"        CLOCK_WISE"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"public"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 极对数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," polePairs"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 供电电压")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," power_supply_voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 12.0f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 限制电压")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," limit_voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4.0f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 限制速度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," limit_speed "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100.0f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // 限制电流")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," limit_current "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4.0f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // directron")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    MotorDirectrion direction "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#E6E6E6"}}," MotorDirectrion"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"::"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ANTI_CLOCK_WISE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // filter")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    LowPassFilter current_q_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    LowPassFilter current_d_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    LowPassFilter shaft_angle_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"20"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    LowPassFilter shaft_velocity_filter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"20"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    // pid-controller")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    PIDControler pid_iq_controller"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 50"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0.01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 12"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    PIDControler pid_id_controller"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 50"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0.01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 12"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"private"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    //")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    BLDCDriver "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"driver "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," nullptr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    Sensor "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"sensor "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," nullptr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    CurrentSensor "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"currentSensor "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," nullptr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"public"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}},"    BLDCMotor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," polePairs"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," power_supply_voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," connectDriver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"BLDCDriver"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}},"driver"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," connectSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"Sensor"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}},"sensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," connectCurrentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"CurrentSensor"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}},"currentSensor"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," initFOC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," loopFOC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 获取电角度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," electricalAngle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 设置相电压")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@param"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," int16_t [-32768,32767] 表示 [-1,1] 精度：1/32768 = 0.0000305")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@param"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," int16_t [-32768,32767] 表示 [-1,1]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@param"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," e_angle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}}," uint16_t [0,65535] 表示 [0,2PI] 精度：360°/65535 = 0.00549°")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," setPhraseVoltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_d"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," u_q"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," e_angle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 开环电压控制")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," open_loop_voltage_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target_ud"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target_uq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 获取dq轴电流")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-light-font-style":"italic","--shiki-dark":"#4EC9B0","--shiki-dark-font-style":"inherit"}},"    CurrentDQ"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," getCurrentDQ"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 闭环电流控制")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," close_loop_current_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 获取机械角度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," shaftAngle"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 闭环速度控制")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," close_loop_speed_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 获取机械角度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," shaftVelocity"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"    /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     * 闭环位置控制")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-light-font-style":"italic","--shiki-dark":"#6A9955","--shiki-dark-font-style":"inherit"}},"     */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-light-font-style":"italic","--shiki-dark":"#DCDCAA","--shiki-dark-font-style":"inherit"}}," close_loop_position_control"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-light-font-style":"italic","--shiki-dark":"#9CDCFE","--shiki-dark-font-style":"inherit"}}," target"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),l[6]||(l[6]=E('<h3 id="实现效果" tabindex="-1"><a class="header-anchor" href="#实现效果"><span>实现效果</span></a></h3><ul><li>使用pid控制器</li><li>设置i.d电流为0A</li><li>设置i.q电流为2.5A</li></ul><p><img src="'+y+'" alt="alt text"></p><p><strong>堵转时的pid积分控制电流波形</strong></p><p><img src="'+g+`" alt="alt text"></p><p><code>09.close_loop_current_control.ino</code></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &lt;Arduino.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &lt;Wire.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;BLDCMotor.hpp&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;BLDCDriver.hpp&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Sensor.hpp&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;foc_utils.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;typedef.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;pwm.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">BLDCMotor motor </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> BLDCMotor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 12</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_En</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 8</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_Ua</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 5</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_Ub</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 9</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_Uc</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 6</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;">PwmOut</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> pwmA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;">D5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;">PwmOut</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> pwmB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;">D9</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;">PwmOut</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> pwmC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;">D6</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">BLDCDriver driver </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> BLDCDriver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // init driver</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    []()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      pinMode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">M1_En</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> OUTPUT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // enable</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // pinMode(M1_Ua, OUTPUT); // a</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // pinMode(M1_Ub, OUTPUT); // b</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // pinMode(M1_Uc, OUTPUT); // c</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // period 50us = 20,000hz; pulse 0 us = 0%</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      pwmA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">begin</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20000.0f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0.0f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      pwmB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">begin</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20000.0f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0.0f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      pwmC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">begin</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20000.0f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0.0f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // enable or disable driver</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    [](</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">bool</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> enable</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      digitalWrite</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">M1_En</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> enable </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">?</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> HIGH </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> LOW</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // enable</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // set pwm to driver</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    [](</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int16_t</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> u_a</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> int16_t</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> u_b</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> int16_t</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> u_c</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // 设置占空比</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // [-32768,32768] =&gt; [-1,1] =&gt; [-50,50] =&gt; [0,100]</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      pwmA</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">pulse_perc</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">u_a </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 32768.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 设置百分比</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      pwmB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">pulse_perc</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">u_b </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 32768.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      pwmC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">pulse_perc</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">u_c </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 32768.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> AS5600_ADDR</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;"> 0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">36</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> AS5600_RAW_ANGLE</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;"> 0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0c</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> AS5600_ANGLE</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;"> 0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0e</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Sensor sensor </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Sensor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    []()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">begin</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    []()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">beginTransmission</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">AS5600_ADDR</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">AS5600_ANGLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">endTransmission</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">      Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">requestFrom</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">AS5600_ADDR</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">      uint16_t</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> data </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">data </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">read</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">data </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Wire</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">read</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // Wire.endTransmission();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // as5600 12bit精度，左移4位变成16位</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      data </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;&lt;=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">      return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;CurrentSensor.hpp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_Ia</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> A0</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_Ib</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> A2</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> M1_Ic</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> I_R</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0.01f</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 10mΩ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">CurrentSensor currentSensor </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> CurrentSensor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    []()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      pinMode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">M1_Ia</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> INPUT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      pinMode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">M1_Ib</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> INPUT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // Arduino 板上的标准分辨率为 10 位 (0-1023)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      analogReadResolution</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // UNO R4 支持高达 14 位(0-16383)的分辨率</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      analogReference</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">AR_DEFAULT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 默认参考电压 5 V</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // analogReference(AR_INTERNAL); // 内置参考电压 1.5 V</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    },</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    []()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // [0,16383] =&gt; [0,5]</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">      return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> CurrentABC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">          // i = u/r</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          .a </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">analogRead</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">M1_Ia</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 16383.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 5.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> -</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2.5f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0.01f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          .b </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> -</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">analogRead</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">M1_Ib</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 16383.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 5.0f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> -</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2.5f</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0.01f</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // b电路接反了 加符号</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">      };</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setup</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  Serial</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">begin</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">115200</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  motor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">connectDriver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">driver</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  motor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">connectSensor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sensor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  motor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">connectCurrentSensor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">currentSensor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  motor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">initFOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> loop</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  motor</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">loopFOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7))])}const D=k(C,[["render",F]]),f=JSON.parse('{"path":"/%E7%94%B5%E5%AD%90/FOC%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/09.%E5%AE%9E%E7%8E%B0close_loop_current_control%E9%97%AD%E7%8E%AF%E7%94%B5%E6%B5%81%E6%8E%A7%E5%88%B6.html","title":"09.实现close_loop_current_control闭环电流控制","lang":"zh-CN","frontmatter":{"title":"09.实现close_loop_current_control闭环电流控制","date":"2024-09-25T00:43:00.000Z","index":true,"article":false,"order":9,"description":"09.实现close_loop_current_control闭环电流控制 具体实现 实现效果 使用pid控制器 设置i.d电流为0A 设置i.q电流为2.5A alt text 堵转时的pid积分控制电流波形 alt text 09.close_loop_current_control.ino","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"09.实现close_loop_current_control闭环电流控制\\",\\"description\\":\\"09.实现close_loop_current_control闭环电流控制 具体实现 实现效果 使用pid控制器 设置i.d电流为0A 设置i.q电流为2.5A alt text 堵转时的pid积分控制电流波形 alt text 09.close_loop_current_control.ino\\"}"],["meta",{"property":"og:url","content":"https://dingdingdang.online/%E7%94%B5%E5%AD%90/FOC%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/09.%E5%AE%9E%E7%8E%B0close_loop_current_control%E9%97%AD%E7%8E%AF%E7%94%B5%E6%B5%81%E6%8E%A7%E5%88%B6.html"}],["meta",{"property":"og:site_name","content":"YiguiDing的Blog小站"}],["meta",{"property":"og:title","content":"09.实现close_loop_current_control闭环电流控制"}],["meta",{"property":"og:description","content":"09.实现close_loop_current_control闭环电流控制 具体实现 实现效果 使用pid控制器 设置i.d电流为0A 设置i.q电流为2.5A alt text 堵转时的pid积分控制电流波形 alt text 09.close_loop_current_control.ino"}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-02T13:46:49.000Z"}],["meta",{"property":"article:published_time","content":"2024-09-25T00:43:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-02T13:46:49.000Z"}],["meta",{"name":"baidu-site-verification","content":"codeva-PwE9Ts6nMl"}]]},"git":{"createdTime":1727196336000,"updatedTime":1733147209000,"contributors":[{"name":"YiguiDing","username":"YiguiDing","email":"2449695354@qq.com","commits":3,"url":"https://github.com/YiguiDing"}]},"readingTime":{"minutes":0.34,"words":101},"filePathRelative":"电子/FOC算法实现过程记录/09.实现close_loop_current_control闭环电流控制.md","excerpt":"","autoDesc":true}');export{D as comp,f as data};
