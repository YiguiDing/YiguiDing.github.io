import{_ as n,o as s,c as a,e as p}from"./app-545c325f.js";const t="/assets/typescript学习笔记-a0adea28.png",e="/assets/2022-12-12-12-06-11-2ba8c66a.png",o="/assets/2022-12-12-12-19-18-fee84f7f.png",c="/assets/2022-12-12-12-27-12-e147b3f8.png",l="/assets/2022-12-12-12-26-10-8d37fd11.png",i="/assets/2022-12-12-12-30-48-22019bb7.png",u="/assets/2022-12-12-12-34-03-aeeb76d2.png";const r={},k=p('<h1 id="typescript学习笔记" tabindex="-1"><a class="header-anchor" href="#typescript学习笔记" aria-hidden="true">#</a> TypeScript学习笔记</h1><p><img src="'+t+'" alt=""></p><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录" aria-hidden="true">#</a> 目录</h2><ul><li><a href="#typescript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">TypeScript学习笔记</a><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFtypescript">什么是TypeScript</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">基本使用</a><ul><li><a href="#%E5%AE%89%E8%A3%85typescript%E7%BC%96%E8%AF%91%E5%99%A8tsc">安装Typescript编译器tsc</a></li><li><a href="#%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E6%89%A7%E8%A1%8C">编写代码、编译、执行</a></li><li><a href="#%E4%BD%BF%E7%94%A8ts-node%E7%AE%80%E5%8C%96ts%E6%89%A7%E8%A1%8C%E6%AD%A5%E9%AA%A4">使用ts-node简化ts执行步骤</a></li></ul></li><li><a href="#js%E5%8E%9F%E7%94%9F%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3">js原生类型注解</a><ul><li><a href="#%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%89%B9%E6%9C%89%E5%86%99%E6%B3%95"><strong>数组类型的两种特有写法</strong></a></li><li><a href="#%E5%87%BD%E6%95%B0%E5%BD%A2%E5%8F%82%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8Bvoid%E7%B1%BB%E5%9E%8B"><strong>函数形参、返回值的类型、void类型</strong></a></li><li><a href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><strong>函数类型</strong></a></li><li><a href="#%E5%87%BD%E6%95%B0%E5%BD%A2%E5%8F%82%E7%9A%84%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0"><strong>函数形参的可选参数</strong></a></li><li><a href="#%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><strong>对象类型</strong></a></li></ul></li><li><a href="#ts%E6%96%B0%E5%A2%9E%E7%B1%BB%E5%9E%8B">ts新增类型</a><ul><li><a href="#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"><strong>联合类型</strong></a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><strong>类型别名</strong></a></li><li><a href="#%E6%8E%A5%E5%8F%A3"><strong>接口</strong></a></li><li><a href="#%E5%85%83%E7%BB%84"><strong>元组</strong></a></li><li><a href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B"><strong>字面量类型</strong></a></li><li><a href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><strong>枚举类型</strong></a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E8%AE%BA"><strong>类型推论</strong></a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><strong>类型断言</strong></a></li><li><a href="#any%E7%B1%BB%E5%9E%8B"><strong>any类型</strong></a></li><li><a href="#ts%E7%9A%84typeof%E8%BF%90%E7%AE%97%E7%AC%A6"><strong>ts的typeof运算符</strong></a></li></ul></li><li><a href="#ts%E9%AB%98%E7%BA%A7%E7%B1%BB%E5%9E%8B">ts高级类型</a><ul><li><a href="#class%E7%B1%BB"><strong>class类</strong></a></li><li><a href="#%E7%B1%BB-extends%E7%BB%A7%E6%89%BF"><strong>类-extends继承</strong></a></li><li><a href="#%E7%B1%BB-implements%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3"><strong>类-implements实现接口</strong></a></li><li><a href="#%E7%B1%BB%E7%9A%84%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6public-protected-private"><strong>类的访问修饰符public protected private</strong></a></li><li><a href="#readonly%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7"><strong>readonly只读属性</strong></a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9%E6%80%A7"><strong>类型兼容性</strong></a><ul><li><a href="#%E7%B1%BB%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9%E6%80%A7"><strong>类的类型兼容性</strong></a></li><li><a href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9%E6%80%A7"><strong>接口的类型兼容性</strong></a></li><li><a href="#%E5%87%BD%E6%95%B0%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9%E6%80%A7"><strong>函数的类型兼容性</strong></a></li></ul></li><li><a href="#%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B"><strong>交叉类型</strong></a></li><li><a href="#%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%BB%A7%E6%89%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><strong>交叉类型和继承的区别</strong></a></li><li><a href="#%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0"><strong>泛型函数</strong></a></li><li><a href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B%E6%94%B6%E7%BC%A9"><strong>泛型类型收缩</strong></a></li><li><a href="#%E5%A4%9A%E4%B8%AA%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%94%AF%E6%8C%81%E5%92%8Ckeyof%E7%9A%84%E4%BD%BF%E7%94%A8"><strong>多个泛型类型的支持和keyof的使用</strong></a></li><li><a href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><strong>泛型接口</strong></a></li><li><a href="#%E7%B1%BB%E7%9A%84%E6%B3%9B%E5%9E%8B"><strong>类的泛型</strong></a></li><li><a href="#%E6%B3%9B%E5%9E%8B%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B-partial-readonly-pick-record"><strong>泛型工具类型 <code>Partial</code> <code>Readonly</code> <code>Pick</code> <code>Record</code></strong></a></li><li><a href="#%E7%B4%A2%E5%BC%95%E7%AD%BE%E5%90%8D%E7%B1%BB%E5%9E%8B"><strong>索引签名类型</strong></a></li><li><a href="#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B"><strong>映射类型</strong></a></li><li><a href="#%E5%88%A9%E7%94%A8%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0partial"><strong>利用映射类型实现Partial</strong></a></li><li><a href="#%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%AF%A2%E7%B1%BB%E5%9E%8B"><strong>索引查询类型</strong></a></li></ul></li><li><a href="#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><strong>类型声明文件</strong></a><ul><li><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><strong>第三方库的类型声明文件的使用</strong></a></li><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><strong>自定义类型声明文件的使用</strong></a></li><li><a href="#%E7%BB%99%E5%B7%B2%E6%9C%89js%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><strong>给已有js文件编写类型声明文件</strong></a></li></ul></li></ul></li></ul><h2 id="什么是typescript" tabindex="-1"><a class="header-anchor" href="#什么是typescript" aria-hidden="true">#</a> 什么是TypeScript</h2><ul><li><p>TypeScript是JavaScript的超集</p></li><li><p><code>TypeScript = Type + JavaScript</code> 即在js的基础上增加了类型支持</p></li><li><p>TypeScript由微软开发，是开源的</p></li></ul><p><img src="'+e+'" alt=""></p><p><strong>为什么要为js添加类型支持</strong></p><ul><li>原生js是动态类型编程语言， <ul><li>执行期间做类型检查，</li><li>类型错误只有在代码运行时才能发现（bug晚发现），</li><li>bug难找，难改，开发效率低。</li></ul></li><li>typescript是静态类型编程语言， <ul><li>编译期间做类型检查，</li><li>类型错误在代码编写时(配合开发工具)，编译时就能发现（bug早发现），</li><li>bug好找，好改，开发效率高。</li></ul></li></ul><p><strong>ts优势</strong><br><img src="'+o+'" alt=""></p><p><strong>类型注解</strong></p><ul><li>为变量添加类型约束，约束变量age类型为number，</li><li>若赋值为非number类型则报错</li></ul><h2 id="基本使用" tabindex="-1"><a class="header-anchor" href="#基本使用" aria-hidden="true">#</a> 基本使用</h2><h3 id="安装typescript编译器tsc" tabindex="-1"><a class="header-anchor" href="#安装typescript编译器tsc" aria-hidden="true">#</a> 安装Typescript编译器tsc</h3><p><img src="'+c+`" alt=""></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-g</span> typescript
tsc <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+l+'" alt=""></p><h3 id="编写代码、编译、执行" tabindex="-1"><a class="header-anchor" href="#编写代码、编译、执行" aria-hidden="true">#</a> 编写代码、编译、执行</h3><p><img src="'+i+'" alt=""></p><h3 id="使用ts-node简化ts执行步骤" tabindex="-1"><a class="header-anchor" href="#使用ts-node简化ts执行步骤" aria-hidden="true">#</a> 使用ts-node简化ts执行步骤</h3><blockquote><p>注意：需要package.json文件 否则报错</p></blockquote><p><img src="'+u+`" alt=""></p><h2 id="js原生类型注解" tabindex="-1"><a class="header-anchor" href="#js原生类型注解" aria-hidden="true">#</a> js原生类型注解</h2><p><strong>js原生类型:<code>number string boolean null undefined symbol</code></strong></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">var</span> a<span class="token operator">:</span><span class="token builtin">number</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b<span class="token operator">:</span><span class="token builtin">string</span><span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c<span class="token operator">:</span><span class="token builtin">boolean</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d<span class="token operator">:</span><span class="token keyword">null</span><span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token operator">=</span><span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f<span class="token operator">:</span><span class="token builtin">symbol</span><span class="token operator">=</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output:</span>
<span class="token number">1</span>
<span class="token number">1</span>        
<span class="token boolean">true</span>     
<span class="token keyword">null</span>     
<span class="token keyword">undefined</span>
<span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>js原生对象类型:<code>object</code></strong></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">var</span> g<span class="token operator">:</span>object<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> h<span class="token operator">:</span>object<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> i<span class="token operator">:</span><span class="token function-variable function">object</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> j<span class="token operator">:</span><span class="token function-variable function">object</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> k<span class="token operator">:</span><span class="token function-variable function">object</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">[</span><span class="token builtin">Function</span><span class="token operator">:</span> a<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token builtin">Function</span><span class="token operator">:</span> j<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token builtin">Function</span><span class="token operator">:</span> k<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数组类型的两种特有写法" tabindex="-1"><a class="header-anchor" href="#数组类型的两种特有写法" aria-hidden="true">#</a> <strong>数组类型的两种特有写法</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 数组类型的两种写法</span>
<span class="token keyword">var</span> l<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> m<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output</span>
<span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数形参、返回值的类型、void类型" tabindex="-1"><a class="header-anchor" href="#函数形参、返回值的类型、void类型" aria-hidden="true">#</a> <strong>函数形参、返回值的类型、void类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">funA</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> funB <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">// 箭头函数的返回值类型的写法</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> funC <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">//void无返回值类型</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数类型" tabindex="-1"><a class="header-anchor" href="#函数类型" aria-hidden="true">#</a> <strong>函数类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">var</span> <span class="token function-variable function">funC</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">funC</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数形参的可选参数" tabindex="-1"><a class="header-anchor" href="#函数形参的可选参数" aria-hidden="true">#</a> <strong>函数形参的可选参数</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">mySlice</span><span class="token punctuation">(</span>start<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>end<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="对象类型" tabindex="-1"><a class="header-anchor" href="#对象类型" aria-hidden="true">#</a> <strong>对象类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">var</span> obj<span class="token operator">:</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token comment">// ;号可以去掉</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span> isUser<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// 中间的分号不能去掉</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
    greet<span class="token operator">?</span><span class="token operator">:</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span> <span class="token comment">// ?号 表示可选参数</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&quot;hahahah&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ts新增类型" tabindex="-1"><a class="header-anchor" href="#ts新增类型" aria-hidden="true">#</a> ts新增类型</h2><p><strong>ts新增类型</strong></p><ul><li>联合类型 <code>|</code></li><li>自定义类型（类型别名）</li><li>接口</li><li>元祖</li><li>字面量类型</li><li>枚举类型</li><li>void</li><li>any</li></ul><h3 id="联合类型" tabindex="-1"><a class="header-anchor" href="#联合类型" aria-hidden="true">#</a> <strong>联合类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 联合类型</span>
<span class="token keyword">var</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类型别名" tabindex="-1"><a class="header-anchor" href="#类型别名" aria-hidden="true">#</a> <strong>类型别名</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 类型别名</span>
<span class="token keyword">type</span> <span class="token class-name">myType</span> <span class="token operator">=</span> Arrary<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="接口" tabindex="-1"><a class="header-anchor" href="#接口" aria-hidden="true">#</a> <strong>接口</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> personA<span class="token operator">:</span>IPerson<span class="token punctuation">;</span>
<span class="token comment">// 接口继承接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Point2D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Point3D</span> <span class="token keyword">extends</span> <span class="token class-name">Point2D</span> <span class="token punctuation">{</span>z<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="元组" tabindex="-1"><a class="header-anchor" href="#元组" aria-hidden="true">#</a> <strong>元组</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 元组</span>
<span class="token keyword">var</span> position<span class="token operator">:</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1.4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> position<span class="token operator">:</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1.4</span><span class="token punctuation">,</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="字面量类型" tabindex="-1"><a class="header-anchor" href="#字面量类型" aria-hidden="true">#</a> <strong>字面量类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 字面量类型</span>
<span class="token keyword">var</span> aaa <span class="token operator">=</span> <span class="token string">&quot;stringA&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// aaa 的 类型 为 string 即 字符串类型</span>
<span class="token keyword">const</span> bbb <span class="token operator">=</span> <span class="token string">&quot;stringB&quot;</span><span class="token punctuation">;</span> <span class="token comment">// bbb 的 类型 为 &quot;stringB&quot; 即 字面量类型</span>
<span class="token keyword">var</span> ccc<span class="token operator">:</span><span class="token string">&quot;stringC&quot;</span><span class="token operator">|</span><span class="token string">&quot;stringD&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;stringC&quot;</span> <span class="token comment">// ccc 的 类型为 两个字面量类型之一</span>
<span class="token keyword">function</span> <span class="token function">changeDirection</span><span class="token punctuation">(</span>direction<span class="token operator">:</span><span class="token string">&quot;up&quot;</span><span class="token operator">|</span><span class="token string">&quot;down&quot;</span><span class="token operator">|</span><span class="token string">&quot;left&quot;</span><span class="token operator">|</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 字面量类型的应用</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;up&quot;</span><span class="token operator">:</span>
            <span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;down&quot;</span><span class="token operator">:</span>
            <span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;left&quot;</span><span class="token operator">:</span>
            <span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;right&quot;</span><span class="token operator">:</span>
            <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">changeDirection</span><span class="token punctuation">(</span><span class="token string">&quot;down&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="枚举类型" tabindex="-1"><a class="header-anchor" href="#枚举类型" aria-hidden="true">#</a> <strong>枚举类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 枚举类型</span>
<span class="token comment">// enum Direction{Up=&quot;up&quot;,Down=&quot;down&quot;,Left=&quot;left&quot;,Right=&quot;right&quot;};// 字符串枚举，没有自增长行为，需依次赋值</span>
<span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>Up<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>Down<span class="token punctuation">,</span>Left<span class="token punctuation">,</span>Right<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 数字枚举，有自增长行为，第一个为0后续依次+1</span>
<span class="token keyword">function</span> <span class="token function">changeDirection</span><span class="token punctuation">(</span>direction<span class="token operator">:</span>Direction<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// 作用</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span>Up<span class="token operator">:</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span>Down<span class="token operator">:</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span>Left<span class="token operator">:</span>
        <span class="token keyword">case</span> Direction<span class="token punctuation">.</span>Right<span class="token operator">:</span>
    <span class="token punctuation">}</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">changeDirection</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Down<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 枚举原理1</span>
<span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>Up<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>Down<span class="token punctuation">,</span>Left<span class="token punctuation">,</span>Right<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 数字枚举，有自增长行为，第一个为0后续依次+1</span>
<span class="token comment">// 编译后：</span>
<span class="token keyword">var</span> Direction<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Direction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Direction<span class="token punctuation">[</span>Direction<span class="token punctuation">[</span><span class="token string">&quot;Up&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Up&quot;</span><span class="token punctuation">;</span>
    Direction<span class="token punctuation">[</span>Direction<span class="token punctuation">[</span><span class="token string">&quot;Down&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Down&quot;</span><span class="token punctuation">;</span>
    Direction<span class="token punctuation">[</span>Direction<span class="token punctuation">[</span><span class="token string">&quot;Left&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Left&quot;</span><span class="token punctuation">;</span>
    Direction<span class="token punctuation">[</span>Direction<span class="token punctuation">[</span><span class="token string">&quot;Right&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Right&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Direction <span class="token operator">||</span> <span class="token punctuation">(</span>Direction <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output</span>
<span class="token punctuation">{</span>
    <span class="token string-property property">&#39;0&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Up&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;1&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Down&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;2&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Left&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;3&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Right&#39;</span><span class="token punctuation">,</span>
    Up<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    Down<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    Left<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    Right<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译原理2</span>
<span class="token comment">// 编译前：</span>
<span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>Up<span class="token operator">=</span><span class="token string">&quot;up&quot;</span><span class="token punctuation">,</span>Down<span class="token operator">=</span><span class="token string">&quot;down&quot;</span><span class="token punctuation">,</span>Left<span class="token operator">=</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span>Right<span class="token operator">=</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 字符串枚举，没有自增长行为，需依次赋值</span>
<span class="token comment">// 编译后：</span>
<span class="token keyword">var</span> Direction<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Direction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Direction<span class="token punctuation">[</span><span class="token string">&quot;Up&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">;</span>
    Direction<span class="token punctuation">[</span><span class="token string">&quot;Down&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;down&quot;</span><span class="token punctuation">;</span>
    Direction<span class="token punctuation">[</span><span class="token string">&quot;Left&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;left&quot;</span><span class="token punctuation">;</span>
    Direction<span class="token punctuation">[</span><span class="token string">&quot;Right&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Direction <span class="token operator">||</span> <span class="token punctuation">(</span>Direction <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output:</span>
<span class="token comment">// { Up: &#39;up&#39;, Down: &#39;down&#39;, Left: &#39;left&#39;, Right: &#39;right&#39; }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类型推论" tabindex="-1"><a class="header-anchor" href="#类型推论" aria-hidden="true">#</a> <strong>类型推论</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span><span class="token comment">//声明变量时赋初值，变量a将自带类型</span>
a<span class="token operator">=</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
<span class="token keyword">let</span> b<span class="token punctuation">;</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
b<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> <span class="token comment">// 不报错</span>


<span class="token comment">//----------------------------------------</span>
<span class="token keyword">function</span> <span class="token function">funA</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token comment">//函数返回值将自动推断为number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类型断言" tabindex="-1"><a class="header-anchor" href="#类型断言" aria-hidden="true">#</a> <strong>类型断言</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">var</span> alink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLAnchorElement <span class="token comment">// 写法1</span>
<span class="token keyword">var</span> alink <span class="token operator">=</span> <span class="token operator">&lt;</span>HTMLAnchorElement<span class="token operator">&gt;</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// 写法2</span>

alink<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;https://baidu.com&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="any类型" tabindex="-1"><a class="header-anchor" href="#any类型" aria-hidden="true">#</a> <strong>any类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">var</span> a<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span><span class="token punctuation">{</span>kkk<span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// a是any类型</span>
<span class="token keyword">var</span> b<span class="token punctuation">;</span>              <span class="token comment">// b是any类型</span>
<span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token comment">// d是any类型</span>
    <span class="token keyword">return</span> d<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ts的typeof运算符" tabindex="-1"><a class="header-anchor" href="#ts的typeof运算符" aria-hidden="true">#</a> <strong>ts的typeof运算符</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>    <span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> personA<span class="token operator">:</span>Person<span class="token punctuation">;</span>
    <span class="token keyword">var</span> personB<span class="token operator">:</span> <span class="token keyword">typeof</span> personA<span class="token punctuation">;</span> <span class="token comment">// typeof支持变量        personB 的 类型 和 personA 一致</span>
    <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token keyword">typeof</span> personA<span class="token punctuation">.</span>age<span class="token punctuation">;</span> <span class="token comment">// typeof支持对象的属性  </span>
    <span class="token keyword">var</span> result<span class="token operator">:</span> <span class="token keyword">typeof</span> <span class="token function">funA</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// typeof不支持上述两种之外的其他形式的类型</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ts高级类型" tabindex="-1"><a class="header-anchor" href="#ts高级类型" aria-hidden="true">#</a> ts高级类型</h2><ul><li><p>class类</p></li><li><p>类型兼容性</p></li><li><p>交叉类型</p></li><li><p>泛型和keyof</p></li><li><p>索引签名类型和索引查询类型</p></li><li><p>映射类型</p></li></ul><h3 id="class类" tabindex="-1"><a class="header-anchor" href="#class类" aria-hidden="true">#</a> <strong>class类</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token comment">// 未初始化,有类型</span>
    age<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化，有类型</span>
    gender <span class="token comment">// any类型</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>gender<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// 构造函数不需要返回值类型</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token operator">=</span>gender<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;dyg&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类-extends继承" tabindex="-1"><a class="header-anchor" href="#类-extends继承" aria-hidden="true">#</a> <strong>类-extends继承</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    
    <span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
        age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span> <span class="token comment">// extends是js自带的关键字</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;汪汪汪&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">&quot;??&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dog<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类-implements实现接口" tabindex="-1"><a class="header-anchor" href="#类-implements实现接口" aria-hidden="true">#</a> <strong>类-implements实现接口</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token builtin">string</span>
        age<span class="token operator">:</span><span class="token builtin">number</span>
        gender<span class="token operator">:</span><span class="token string">&#39;雌&#39;</span><span class="token operator">|</span><span class="token string">&quot;雄&quot;</span>
        <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
        age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
        gender<span class="token operator">:</span> <span class="token string">&quot;雌&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;雄&quot;</span><span class="token punctuation">;</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>gender<span class="token operator">:</span><span class="token string">&quot;雌&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;雄&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;汪汪汪&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;雄&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类的访问修饰符public-protected-private" tabindex="-1"><a class="header-anchor" href="#类的访问修饰符public-protected-private" aria-hidden="true">#</a> <strong>类的访问修饰符public protected private</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Example</span><span class="token punctuation">{</span>
        <span class="token keyword">public</span> name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 在类的外部可见 （实例对象可以访问到）。此外，public是默认的 也可以省略</span>
        <span class="token keyword">protected</span> age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 在本类、子类的内部可见（实例对象无法访问到）</span>
        <span class="token keyword">private</span> gender<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 在本类的内部可见 （实例对象无法访问到，子类无法访问到）</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>gender<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token operator">=</span>gender<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">private</span> <span class="token function">__myFun__</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 私有函数</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是一个内部辅助函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="readonly只读属性" tabindex="-1"><a class="header-anchor" href="#readonly只读属性" aria-hidden="true">#</a> <strong>readonly只读属性</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Example</span><span class="token punctuation">{</span>
      <span class="token keyword">readonly</span> age<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 1. 经 readonly 修饰的属性，有注解，只能在 变量赋初始值 和 constructor中 赋值</span>
        <span class="token keyword">readonly</span> height <span class="token operator">=</span> <span class="token number">170</span><span class="token punctuation">;</span> <span class="token comment">// 2. 经 readonly 修饰的属性 ，不加注解，则为字面量类型</span>
        <span class="token comment">// 3. 接口 和 对象 中都可以使用readonly关键字修饰</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
            <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">171</span> <span class="token comment">// 报错</span>
        <span class="token punctuation">}</span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> example <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    example<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 报错，无法修改</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类型兼容性" tabindex="-1"><a class="header-anchor" href="#类型兼容性" aria-hidden="true">#</a> <strong>类型兼容性</strong></h3><p><strong>两种类型系统</strong></p><ul><li>结构化类型系统(structural type system) <ul><li>也叫鸭子类型(duck typing)</li><li>对于对象类型来说：如果y的成员至少与x相同，则x兼容y（成员多的可以赋值给成员少的）</li><li>typescript</li></ul></li><li>标明类型系统(Nominal Type System) <ul><li>c# java</li></ul></li></ul><h4 id="类的类型兼容性" tabindex="-1"><a class="header-anchor" href="#类的类型兼容性" aria-hidden="true">#</a> <strong>类的类型兼容性</strong></h4><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">class</span> <span class="token class-name">Point2D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">class</span> <span class="token class-name">Point3D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>z<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> point1<span class="token operator">:</span>Point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point2D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Point2D 向下兼容 Point</span>
    <span class="token keyword">const</span> point2<span class="token operator">:</span>Point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point3D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Point3D 向下兼容 Point</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="接口的类型兼容性" tabindex="-1"><a class="header-anchor" href="#接口的类型兼容性" aria-hidden="true">#</a> <strong>接口的类型兼容性</strong></h4><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>type<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>gender<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name">Human</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> humanA<span class="token operator">:</span>Human <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        gender<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> animalA<span class="token operator">:</span>Animal <span class="token operator">=</span> humanA<span class="token punctuation">;</span> <span class="token comment">// Human 向下兼容 Animal</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point1D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point2D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point3D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>z<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span>

    <span class="token keyword">let</span> p3<span class="token operator">:</span>Point3D <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>z<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// </span>
    <span class="token keyword">let</span> p2<span class="token operator">:</span>Point2D <span class="token operator">=</span> p3<span class="token punctuation">;</span>            <span class="token comment">// Point3D 向下兼容 Point2D</span>
    <span class="token keyword">let</span> p1<span class="token operator">:</span>Point1D <span class="token operator">=</span> p3<span class="token punctuation">;</span>            <span class="token comment">// Point2D 向下兼容 Point1D</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="函数的类型兼容性" tabindex="-1"><a class="header-anchor" href="#函数的类型兼容性" aria-hidden="true">#</a> <strong>函数的类型兼容性</strong></h4><ul><li>形式参数少的可以赋值给形式参数多的</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">SumA</span><span class="token punctuation">(</span>numA<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>numB<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>numC<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> numA<span class="token operator">+</span>numB<span class="token operator">+</span>numC<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">SumB</span><span class="token punctuation">(</span>numA<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>numB<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> numA<span class="token operator">+</span>numB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> <span class="token function-variable function">funA</span><span class="token operator">:</span><span class="token punctuation">(</span>numA<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>numB<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>numC<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">number</span><span class="token punctuation">;</span>
    funA<span class="token operator">=</span>SumA<span class="token punctuation">;</span><span class="token comment">// funA 兼容 SumA</span>
    funA<span class="token operator">=</span>SumB<span class="token punctuation">;</span><span class="token comment">// funA 兼容 SumB</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>函数形式参数相同位置的参数类型要相同或兼容</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 要相同</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">type</span> <span class="token class-name">fun1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>   
    <span class="token keyword">type</span> <span class="token class-name">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>   

    <span class="token keyword">var</span> f1<span class="token operator">:</span>fun1<span class="token punctuation">;</span>
    <span class="token keyword">var</span> f2<span class="token operator">:</span>fun2<span class="token punctuation">;</span>
    f1 <span class="token operator">=</span> f2<span class="token punctuation">;</span>        <span class="token comment">// 形式参数相同位置的参数类型要相同</span>
    f2 <span class="token operator">=</span> f1<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 要兼容</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point2D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point3D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>z<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">type</span> <span class="token class-name">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token operator">:</span>Point2D<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>   
    <span class="token keyword">type</span> <span class="token class-name">fun3</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token operator">:</span>Point3D<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>   

    <span class="token keyword">var</span> f2<span class="token operator">:</span><span class="token function-variable function">fun2</span><span class="token operator">=</span><span class="token punctuation">(</span>pos<span class="token operator">:</span>Point2D<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> f3<span class="token operator">:</span><span class="token function-variable function">fun3</span><span class="token operator">=</span><span class="token punctuation">(</span>pos<span class="token operator">:</span>Point3D<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// f3 = f2; // fun3 兼容 fun2 类型，可理解为将对象属性展开为函数形式参数，形式参数少的可以赋值给形式参数多的</span>
    f2 <span class="token operator">=</span> f3<span class="token punctuation">;</span> <span class="token comment">// 严格模式会报错，同上，理解为将对象属性拆开为函数形式参数，有3个形式参数的函数不能赋值给有2个的</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>函数的返回值类型：遵循一般类型的规则</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point2D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name">Point3D</span><span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>z<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token keyword">type</span> <span class="token class-name">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token operator">:</span>Point2D<span class="token punctuation">)</span><span class="token operator">=&gt;</span>Point2D<span class="token punctuation">;</span>   
    <span class="token keyword">type</span> <span class="token class-name">fun3</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token operator">:</span>Point2D<span class="token punctuation">)</span><span class="token operator">=&gt;</span>Point3D<span class="token punctuation">;</span>   
    
    <span class="token keyword">var</span> f2<span class="token operator">:</span><span class="token function-variable function">fun2</span><span class="token operator">=</span><span class="token punctuation">(</span>pos<span class="token operator">:</span>Point2D<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> pos<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> f3<span class="token operator">:</span><span class="token function-variable function">fun3</span><span class="token operator">=</span><span class="token punctuation">(</span>pos<span class="token operator">:</span>Point2D<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>pos<span class="token punctuation">,</span>z<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    f2 <span class="token operator">=</span> f3<span class="token punctuation">;</span> <span class="token comment">// 兼容   对象元素多的可以赋值给少的</span>
    f3 <span class="token operator">=</span> f2<span class="token punctuation">;</span> <span class="token comment">// 不兼容 对象元素少的不能赋值给多的</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="交叉类型" tabindex="-1"><a class="header-anchor" href="#交叉类型" aria-hidden="true">#</a> <strong>交叉类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name">Contact</span><span class="token punctuation">{</span>phone<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">type</span> <span class="token class-name">PersonDetail</span> <span class="token operator">=</span> Person <span class="token operator">&amp;</span> Contact<span class="token punctuation">;</span> <span class="token comment">// 交叉类型就是将两个类型复合</span>

    <span class="token keyword">var</span> personDetail<span class="token operator">:</span> PersonDetail <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">&quot;dyg&quot;</span><span class="token punctuation">,</span>
        phone<span class="token operator">:</span><span class="token string">&quot;123&quot;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="交叉类型和继承的区别" tabindex="-1"><a class="header-anchor" href="#交叉类型和继承的区别" aria-hidden="true">#</a> <strong>交叉类型和继承的区别</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 1.</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">{</span>
        a<span class="token operator">:</span><span class="token builtin">string</span> <span class="token comment">// 报错</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2.</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span><span class="token punctuation">;</span> <span class="token comment">// a 将变为 never类型 表示永远不存在的值的类型</span>
    <span class="token keyword">var</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>
    <span class="token keyword">var</span> b<span class="token operator">:</span><span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span>
    <span class="token keyword">var</span> c<span class="token operator">:</span><span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>  <span class="token comment">// 报错</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3.</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">{</span><span class="token function-variable function">fun</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span><span class="token punctuation">{</span><span class="token function-variable function">fun</span><span class="token operator">:</span><span class="token punctuation">(</span>num<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span><span class="token punctuation">;</span> <span class="token comment">// fun的类型将变为： (()=&gt;void) &amp;&amp; ((num:number)=&gt;void) 类型</span>
    <span class="token keyword">var</span> c<span class="token operator">:</span><span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token function-variable function">fun</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    c<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 方法的重载</span>
    c<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// 方法的重载</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="泛型函数" tabindex="-1"><a class="header-anchor" href="#泛型函数" aria-hidden="true">#</a> <strong>泛型函数</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 泛型函数</span>
    <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span>voiceType<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>voice<span class="token operator">:</span>voiceType<span class="token punctuation">)</span><span class="token operator">:</span>voiceType<span class="token punctuation">{</span>
        <span class="token keyword">return</span> voice
    <span class="token punctuation">}</span>

    <span class="token comment">// 泛型函数的调用</span>
    <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;你好!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">12345</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 简化版的泛型函数调用</span>
    <span class="token function">echo</span><span class="token punctuation">(</span><span class="token string">&quot;你好！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 简化后 voiceType 将被自动推断为字面量类型</span>
    <span class="token function">echo</span><span class="token punctuation">(</span><span class="token number">12345</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="泛型类型收缩" tabindex="-1"><a class="header-anchor" href="#泛型类型收缩" aria-hidden="true">#</a> <strong>泛型类型收缩</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 泛型类型的收缩</span>
    <span class="token comment">// 1.指定更加明确的类型</span>
        <span class="token comment">// function myEcho&lt;voiceType&gt;(voice:voiceType[]):voiceType[]{</span>
        <span class="token comment">//     console.log(voice.length);</span>
        <span class="token comment">//     return voice</span>
        <span class="token comment">// }</span>
    <span class="token comment">// 2.添加类型收缩约束</span>
    <span class="token keyword">interface</span> <span class="token class-name">LengthAble</span><span class="token punctuation">{</span>length<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span>voiceType <span class="token keyword">extends</span> LengthAble<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>voice<span class="token operator">:</span>voiceType<span class="token punctuation">)</span><span class="token operator">:</span>voiceType<span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>voice<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> voice
    <span class="token punctuation">}</span>

    <span class="token comment">// 泛型函数的调用</span>
    <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;你好!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 简化版的泛型函数调用</span>
    <span class="token function">echo</span><span class="token punctuation">(</span><span class="token string">&quot;你好！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 简化后 voiceType 将被自动推断为字面量类型</span>
    <span class="token function">echo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// </span>
    <span class="token function">echo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>msg<span class="token operator">:</span><span class="token string">&quot;hahahah&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="多个泛型类型的支持和keyof的使用" tabindex="-1"><a class="header-anchor" href="#多个泛型类型的支持和keyof的使用" aria-hidden="true">#</a> <strong>多个泛型类型的支持和keyof的使用</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 多个泛型类型</span>
    <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">hash</span><span class="token generic class-name"><span class="token operator">&lt;</span>typeKey<span class="token punctuation">,</span>typeValue<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span>typeKey<span class="token punctuation">,</span>value<span class="token operator">:</span>typeValue<span class="token punctuation">)</span><span class="token operator">:</span>typeValue<span class="token punctuation">{</span>
        <span class="token keyword">return</span> value
    <span class="token punctuation">}</span>
    <span class="token comment">// keyof </span>
    <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValue</span><span class="token generic class-name"><span class="token operator">&lt;</span>typeObj<span class="token punctuation">,</span>typeKey <span class="token keyword">extends</span> <span class="token keyword">keyof</span> typeObj<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span>typeObj<span class="token punctuation">,</span>key<span class="token operator">:</span>typeKey<span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="泛型接口" tabindex="-1"><a class="header-anchor" href="#泛型接口" aria-hidden="true">#</a> <strong>泛型接口</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 接口泛型,注意接口没有类型推断机制,使用泛型接口需显式指定类型</span>
    <span class="token keyword">interface</span> <span class="token class-name">IdFuncs<span class="token operator">&lt;</span>IdType<span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
        <span class="token function-variable function">id</span><span class="token operator">:</span><span class="token punctuation">(</span>value<span class="token operator">:</span>IdType<span class="token punctuation">)</span><span class="token operator">=&gt;</span>IdType<span class="token punctuation">;</span>
        <span class="token function-variable function">ids</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>IdType<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> obj<span class="token operator">:</span>IdFuncs<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">id</span><span class="token punctuation">(</span>value<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> value <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">ids</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">MapItem<span class="token operator">&lt;</span>keyType<span class="token punctuation">,</span>ValueType<span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
        key<span class="token operator">:</span>keyType<span class="token punctuation">;</span>
        value<span class="token operator">:</span>ValueType<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> item<span class="token operator">:</span>MapItem<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        key<span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类的泛型" tabindex="-1"><a class="header-anchor" href="#类的泛型" aria-hidden="true">#</a> <strong>类的泛型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

    <span class="token keyword">class</span> <span class="token class-name">ExampleClass<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token operator">:</span>Type<span class="token punctuation">;</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span>value<span class="token operator">:</span>Type<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>default <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
        <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token operator">:</span>Type<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>default
        <span class="token punctuation">}</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> ex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ExampleClass</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类的泛型支持类型推断,在构造函数的形式参数使用了泛型类的所有类型变量的情况下可以省略类型推断</span>
    ex<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">321</span><span class="token punctuation">)</span>
    ex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="泛型工具类型-partial-readonly-pick-record" tabindex="-1"><a class="header-anchor" href="#泛型工具类型-partial-readonly-pick-record" aria-hidden="true">#</a> <strong>泛型工具类型 <code>Partial</code> <code>Readonly</code> <code>Pick</code> <code>Record</code></strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

    <span class="token comment">// 泛型工具类型 : Partial Readonly </span>
    <span class="token keyword">interface</span> <span class="token class-name">Props</span><span class="token punctuation">{</span>
        id<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
        title<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
        children<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">type</span> <span class="token class-name">PartialProps</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 创建新类型 使得所有属性变成可选类型，即不是必须的</span>
    <span class="token keyword">type</span> <span class="token class-name">ReadonlyProps</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 创建新类型 使得所有属性变成只读类型</span>
    <span class="token keyword">type</span> <span class="token class-name">PickProps</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span><span class="token string">&quot;id&quot;</span><span class="token operator">|</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span> <span class="token comment">// 创建新类型 从原类型中选择一组属性构造新类型</span>
    <span class="token keyword">type</span> <span class="token class-name">RecordObj</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">&quot;id&quot;</span><span class="token operator">|</span><span class="token string">&quot;hash&quot;</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 创建记录类型 键名不同，键值相同</span>

    <span class="token keyword">var</span> p1<span class="token operator">:</span>Props <span class="token operator">=</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> p2<span class="token operator">:</span>PartialProps <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">// 可以没有</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> p3<span class="token operator">:</span>ReadonlyProps <span class="token operator">=</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// p3.id = &quot;123&quot; // 报错</span>
    <span class="token keyword">var</span>  p4<span class="token operator">:</span>PickProps <span class="token operator">=</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> p5<span class="token operator">:</span>RecordObj <span class="token operator">=</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1111&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        hash<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;12132&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;11211&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="索引签名类型" tabindex="-1"><a class="header-anchor" href="#索引签名类型" aria-hidden="true">#</a> <strong>索引签名类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 索引签名类型：用于无法确定对象中具体的属性名或者说属性个数任意的场景</span>
    <span class="token keyword">interface</span> <span class="token class-name">AnyObj</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>key<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token comment">// 类型为字符串的键 的值 为number类型</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> obj1<span class="token operator">:</span>AnyObj <span class="token operator">=</span> <span class="token punctuation">{</span>
        a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        ab<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
        abc<span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">interface</span> <span class="token class-name">myArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
        <span class="token punctuation">[</span>index<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token constant">T</span><span class="token comment">// 类型为number的键 的值为 T类型</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> myarry<span class="token operator">:</span>myArray<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    myarry<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="映射类型" tabindex="-1"><a class="header-anchor" href="#映射类型" aria-hidden="true">#</a> <strong>映射类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 映射类型：</span>
    <span class="token comment">// + 映射类型基于索引签名，所以也使用了[]符号</span>
    <span class="token comment">// + key in PropKeys 表示 key可以是联合类型中的任意一个</span>
    <span class="token comment">// + 映射类型只能在类型别名中使用，不能在接口中使用</span>
    <span class="token comment">// + type1 和 type2 type3 等效</span>
    <span class="token keyword">type</span> <span class="token class-name">Type1</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> c<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
    <span class="token keyword">type</span> <span class="token class-name">PropKeys</span> <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">type</span> <span class="token class-name">Type2</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key <span class="token keyword">in</span> PropKeys<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
    <span class="token keyword">type</span> <span class="token class-name">Type3</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="利用映射类型实现partial" tabindex="-1"><a class="header-anchor" href="#利用映射类型实现partial" aria-hidden="true">#</a> <strong>利用映射类型实现Partial</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Partial实现原理</span>
    <span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>Key <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>Key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="索引查询类型" tabindex="-1"><a class="header-anchor" href="#索引查询类型" aria-hidden="true">#</a> <strong>索引查询类型</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 索引查询类型</span>
    <span class="token keyword">type</span> <span class="token class-name">Parps</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> c<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">type</span> <span class="token class-name">TypeA</span> <span class="token operator">=</span> Parps<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 查询Parps中a属性的类型 即number类型</span>
    <span class="token keyword">type</span> <span class="token class-name">TypeAB</span> <span class="token operator">=</span> Parps<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 即为 number | string 类型</span>
    <span class="token keyword">type</span> <span class="token class-name">TypeABC</span> <span class="token operator">=</span> Parps<span class="token punctuation">[</span><span class="token keyword">keyof</span> Parps<span class="token punctuation">]</span> <span class="token comment">// 即为 number | string | boolean 类型</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="类型声明文件" tabindex="-1"><a class="header-anchor" href="#类型声明文件" aria-hidden="true">#</a> <strong>类型声明文件</strong></h2><p>TS中有两种文件类型:</p><ul><li>1.ts文件 <ul><li>1.既包含类型信息又可执行代码。</li><li>2.可以被编译为.js文件，然后，执行代码。3.用途:编写程序代码的地方。</li></ul></li><li>2.d.ts文件。 <ul><li>1．只包含类型信息的类型声明文件。</li><li>2．不会生成.js 文件，仅用于提供类型信息。3.用途:为JS提供类型信愈。</li></ul></li><li>总结: <ul><li>.ts是 implementation(代码实现文件）;</li><li>.d.ts是declaration(类型声明文件)。如果要为JS库提供类型信息，要使用.d.ts 文件。</li></ul></li></ul><h3 id="第三方库的类型声明文件的使用" tabindex="-1"><a class="header-anchor" href="#第三方库的类型声明文件的使用" aria-hidden="true">#</a> <strong>第三方库的类型声明文件的使用</strong></h3><ul><li><p>第三方库会自带 index.d.ts 文件 文件的路径由 package.json 的typing或types字段给出</p></li><li><p>第三库如果没有自带类型声明文件，可以使用由DefinitelyTyped提供的类型声明文件，</p><ul><li>下载方式为 <code>npm i --save-dev @types/第三方库名</code></li></ul></li></ul><h3 id="自定义类型声明文件的使用" tabindex="-1"><a class="header-anchor" href="#自定义类型声明文件的使用" aria-hidden="true">#</a> <strong>自定义类型声明文件的使用</strong></h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 文件mytypes.d.ts</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token constant">A</span> <span class="token punctuation">}</span><span class="token comment">//导出声明的类型</span>

<span class="token comment">// 文件index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">A</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./myTypes&quot;</span> <span class="token comment">// 导入声明的类型</span>
<span class="token keyword">var</span> a<span class="token operator">:</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="给已有js文件编写类型声明文件" tabindex="-1"><a class="header-anchor" href="#给已有js文件编写类型声明文件" aria-hidden="true">#</a> <strong>给已有js文件编写类型声明文件</strong></h3><ul><li><p>ts引入js文件时，会引入同名的.d.ts文件</p></li><li><p>declare关键字：用于类型声明，声明一个已经存在的变量的类型</p></li><li><p>对于type interface等的ts独有的类型，声明可以省略declare关键字</p></li><li><p>对于let function等的类型 声明不能省略declare关键字</p></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">let</span> count<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token comment">// 为已有全局变量做类型声明</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token comment">// 为已有函数做类型声明</span>
<span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">OBJ</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span><span class="token constant">OBJ</span><span class="token punctuation">,</span>add<span class="token punctuation">,</span><span class="token constant">A</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,120),d=[k];function v(m,b){return s(),a("div",null,d)}const y=n(r,[["render",v],["__file","typescript学习笔记.html.vue"]]);export{y as default};
