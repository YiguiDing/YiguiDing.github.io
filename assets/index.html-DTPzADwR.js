import{_ as e,r,c as d,d as n,w as l,b as k,a as i,e as s,o as E}from"./app-CXKNEoV8.js";const p="/assets/image-24-BaQw_AWa.png",y="/assets/image-1-CyFyrZDP.png",g="/assets/image-23-B5ihtP1P.png",C="/assets/image-2-CHr1FY8x.png",c="/assets/image-3-Drf0_hFZ.png",F="/assets/image-4-CtFoChRh.png",o="/assets/image-Be_yRDMn.png",D="/assets/image-11-Cg_VZhDy.png",A="/assets/image-26-CmjN3ILW.png",f="/assets/image-27-CJhZgwds.png",u="/assets/image-28-wW1DbcuD.png",m="/assets/image-29-DgRw3Mnt.png",v="/assets/image-30-DF1xTnzN.png",_="/assets/image-31-Hr-_gw-G.png",b="/assets/image-32-6GarvIFc.png",B="/assets/image-25-D9e8ah6Z.png",I="/assets/image-5-CJ9IWJGt.png",S="/assets/image-6-CVLpab6n.png",P="/assets/image-7-CV5MsY2U.png",T="/assets/image-9-b8CNtCzf.png",x="/assets/image-8-BpPrQI9R.png",R="/assets/image-10-biq1-qbr.png",M="/assets/image-12-lVdsRGFd.png",O="/assets/image-14-zFcOHS-6.png",L="/assets/image-13-eiMo-DQc.png",G="/assets/image-15-C3G42yj8.png",W="/assets/image-17-BGINZ3wP.png",N="/assets/image-16-8Vq75ZBY.png",U="/assets/image-18-CXS3Td8x.png",w="/assets/image-20-CIPN06K6.png",H="/assets/image-19-D9wwyMdh.png",K="/assets/image-21-DYNgp3yX.png",z="/assets/image-33-DcWOXKaa.png",V="/assets/image-34-JMbhFK70.png",X="/assets/image-35-CikH_tUW.png",Q="/assets/image-52-CKus5wZM.png",q="/assets/image-37-CjhR8yOb.png",Y="/assets/image-38-D_6HqWQR.png",j="/assets/image-39-OV68Ob3m.png",Z="/assets/image-43-CsOoXKR6.png",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAd0AAACJCAYAAABpVeI7AAAJMUlEQVR4nO3dsZVbRRQGYIlD6mRJSJzZiWugCOqhAAqhAoqghk1wRkLCJi5ABBgs1tJqJb2Z+8/M90UcmwPyvTP3nzd6C/vD4XDYAQDNfVP9AQBgFUIXADoRugDQidAFgE6ELgB08m31BwCgkU/7L3/9xg+qJNj7kaExPL19/99fP/zxe+EngRscD3/qCN5yF0P3eNgDXOvh8WP1R+Czpw/vqj/CtF77MOR6mWkdD3vDBkggdK/k1D6mh8ePghco5+3lKwhcAO7hSRfozq1Dex4SMt30ItWyb896A3NsDd7cfOlFw2X3yXOn9k3Dt2jP9WS5fnSs+6UXbmer/T256HoZbuTN/jx60p+aX8f18r02PDles3hnOzlurvGthEGTR0/6U/PredKFKxk0efSkPzW/jdAN4XuoMRg0efSkPzW/ndANIHDHYNDk0ZMsZtZlQreYoTEGbynDPzwk3EfoFjLIx6BPmQz//jwk3E/oFjHIx6BPmQRuf/bCNoRuGIt3DPpUx9NWfwJ3O0K3gFP6GPQpj+GfRc2vJ3Q7M8jHoE95BG4Ne2FbQrcj12Jj0Kc8AreGvbA9oduJoTEGfRqLnrRjL7QhdItZvDkMmUyuN/uzF9oRuh0YGvkMmUz2ThZ1v5/QbczQyCdwM/k+sYaZ1ZbQbcjizSdwM+lLDQed9oRuIxbv2Az2OgK3hrr3IXQbsHjH4CYij71TQ937EbodWbw5BO5Y9KWGum9P6G7MMM/n6j+TvVND3fsSuhuyePO5Rstk79RwAO1P6G7E4s0ncDPZOzXshxpCdwMW79j0qI69U0Pd6wjdO1m8Y9OjOvZOHnVv6+nte6HbisWbT4/qCNw6vj+v8W/dhW4DFm8+PcqkL235/rzefvfLn4fqDzGKw4/ff/Vr+1//LPgkXKJXOfSixqm6P314d/Lv/e7n3zb79/710w9N//kjOq6JJ12Aha0eiK09P4QIXYBFCdy2Tj31C12ABQnctk4F7m4ndAGWI3Dr7A+Hw4svUp16223FNwyf3r7fPTx+/Po33rR/D00PLnteo9690qPTzu2bpw/vmtZHP3a73af9V7/074tUan+fS3/Gl34sy5PuK3jNPpv+jGe2IZzGz0HXufRz0EL3AgM9m/7k0ps8Aret16x5ofsCQwNuY+/UUfs8x4cdocuw/OfsMhn6ddS+zmvnkdA9w+LNJnAz2Td11D7PqXkkdE+weLPpTyZ9qaP2ec49AAjdZyzebN7KzGTfwOsI3SMGejb9GY++tOfAk+eldS90PzPQs+lPLt+v11H7PJdqL3QvsHjrCdxchn4dT7h5XrPuhe7O4EgmcHMZ+nXsizr3rvvlQ1fgjkl/ahn6mdS+rS3W/dKh66SezYEok8CtZV+MbdnQNTiyGSyZ7Jta9kWdrR7Slg3dcyzeegbLePSmPTdzdbas/ZKha6jnMlhy2Td13DDU2XomLRe6BkcugyWXfZNJ/dtq8RCwVOgaHLkEbi63D7XMrbksE7oGRy6Bm0tvagncOq1qv0ToGhy59CaX3tTyoFCn5WFnidA9x+DIpTe1BG4t9a/T+rAzfei6nsmlN+PRm1rq31aPw87UoWuo59KbXHpTS/3zbFn7aUPX9yG5DJVcelNL/ev0qv2Uoev7kFwOQ7n0ppb61+l52JkudAVuLr3JpTe11L9O78POdKF7joVby1DJpTe51L+tirU/Vej6PiSToZ5Lb+qZW3la1n6a0LVwMxnqY9KbPsytOlW1nyJ0vYAwHkOlnoFfy9yqU7n2hw9dT1K5DPVcelPL3KpTfdgZPnTPsXBrGeq5qocO59kfbSUcdoYOXYM9k77kShg6q7M/8vSs/bCha+Fm8hSVS+DWM7fqpNR+yNBNKR7/Z6jn0pt6DqR1kjJjuNC1cDMZ6mPSmz7sjzppmTFU6Fq4mfQlW9Ipn//Tg7YSZ9NQoXuOhVsncVHzhcCtpwd5Kms/TOhauGPRl3pp12orMrfqpNZ+iNBNLd7q9CWXG4h6Dj11kmdTfOhauJmSF/XqBG49PaiTnhnRoWvhZhK4ueyZbHrQ1gjrPzZ0RyjeitJPkZxmz/TjUJonqfaxoXtOUvFW4yCUzbCvpwd1Rql9ZOiOUryVCNxs9kw9t0B1Rlr/caE7UvFWIXCzGfb17JE6o63/qNAdrXgrMEyy6U82PWhrxPUfE7ojFm92epJNfzK4ncuTXPuY0D0nuXir0pN6AjeDwK0zau0jQnfU4s1MT8akP/34OqzOyPOpPHRHLt6s9CSb/tRz01Bn9MNOaegaHnlGX9Cz059sZldbMxx2ykLX8Mgzw4Kemf5k8LCQZ6Tal4Su4ZFHT7LpTwaBW2eW2pd/p3tstOLNwkDPpj8Z3M7VmSVwd7uC0J2peDMw0LPpTwZ9qDPbYadr6ArcLAbJuPQngz60NeOM6ha6s51WZjbqYp6NQ2oGfcgzcu27hO6Mp5XRGSTZHFIz2Cd1Zq1989AVuHlmXcyzsGcyOPjUmXlGlb29PEPxRmSQZBO4GfShzuwzqmnoznxaGZFBkk1/8ulDnVlq3yx0BW4WAz2b/uQwu+qsUPsmoTv79cBoDPRx6U9fKwz9VKvUfvPQNeCz6Ee+VYZNOg8LdVbaA91epJqxeOkEbj6DPoO9Ume1PbBp6K50WhmZfmQw6PPpQ51Za79Z6ArcLPqRTeDmsFfqrFj7TUJ3xcIl049sAjeHvVJn1drfHbqr3cen049xzT5s0tgrdVau/V2h68SeRT/yrXq6T2Ov1Fm99k3eXl6hcGlWX8gjELj59KLOKrW/OXQNkBwCN9/K12lpzK46an9j6CpcDoGbT49ymF111P4fZf+XIe5nmOfToxxuG+qo/Rffvvi7n/a7h8cr/mmf9vd9miRvDtWf4GaGeQaBOwa9qLNi7c8/6c4UoLcI//O7qhmXHuXQizqr1t718kRWXcQj0aMcelFn5drvD4fD6XvU8Ce9Hp4+vPvq1x4eP774+2Q47hN57J32Tu0BdW/ntQeJ89/pvjksHbznFqdFC8CtXnyRSsAAwHZ8pwsAnQhdpuSWhtU93wP2RIbzL1J9dvyjKSu/cZZAL/Lp0RnH74cM/DPwcK+LoQsAbMP1MgB0InQBoBOhCwCdCF0A6EToAkAnfwMUB0FC7fWbmQAAAABJRU5ErkJggg==",$="/assets/image-50-CQKP9CyK.png",ii="/assets/image-41-BXUdSgz4.png",si="/assets/image-42-DMAWh_V9.png",li="/assets/image-51-QquQ3gv1.png",ti="/assets/image-53-FTBa43IU.png",hi="/assets/image-55-BaKzCcwH.png",ai="/assets/image-54-CnV2jryy.png",ni="/assets/image-56-CyMOwCWL.png",ki="/assets/image-57-D1p0o0ul.png",ei="/assets/image-22-Rv28hyYn.png",ri="/assets/image-44-J9qNbOeE.png",di="/assets/image-45-MZ3bcOdz.png",Ei="/assets/image-46-GEhwrhVr.png",pi="/assets/image-47-BDNSfoSu.png",yi="/assets/image-48-tth3Ws3o.png",gi="/assets/image-49-B51bLmQf.png",Ci="/assets/image-36-DJlLM5N6.png",ci="/assets/image-58-Ds-nyQIV.png",Fi="/assets/image-59-gX-sW9GP.png",oi="/assets/image-62-DmN45T_J.png",Di="/assets/image-63-DXme0K0k.png",Ai="/assets/image-60-MJfjW8pb.png",fi="/assets/image-61-CgqppyYx.png",ui="/assets/image-64-Dzdgda4x.png",mi="/assets/image-65-H--wAFGj.png",vi="/assets/image-66-BlzkEWZO.png",_i="/assets/image-67-B5SpbUrS.png",bi="/assets/image-68-CCVIKwDx.png",Bi="/assets/image-69-CB56Bh0k.png",Ii="/assets/image-70-CyHY3Lwd.png",Si="/assets/image-71-DNOK2Po2.png",Pi="/assets/image-72-ChRGyghG.png",Ti="/assets/image-73-DjGsupC2.png",xi="/assets/image-74-DPMBz75n.png",Ri="/assets/image-75-BW6eJADO.png",Mi="/assets/image-76-DIN_I4HQ.png",Oi="/assets/image-77-CUmGJdVx.png",Li="/assets/image-78-BEWf0xpy.png",Gi="/assets/image-79-E6Sbnq8-.png",Wi="/assets/image-80-9i3Heh4v.png",Ni="/assets/image-81-B86ZBbJF.png",Ui="/assets/image-82-BIcGbu3r.png",wi="/assets/image-83-CTwhzeyZ.png",Hi="/assets/image-84-B01OOlhp.png",Ki="/assets/image-85-DW2qHy5P.png",zi="/assets/image-86-CVJbyGND.png",Vi="/assets/image-87-DRsL8zWu.png",Xi="/assets/image-88-CqIaGCr7.png",Qi="/assets/image-89-Bp9KyQEh.png",qi="/assets/image-91-Df0U_t9J.png",Yi="/assets/image-90-COu0Ci0I.png",ji="/assets/image-92-D-tezU5-.png",Zi="/assets/image-93-DVL34nXW.png",Ji="/assets/image-94-P2SlWEmu.png",$i="/assets/image-95-BVt0-IG6.png",is="/assets/image-96-CAW-sxU4.png",ss="/assets/image-97-iXPzJIEj.png",ls="/assets/image-102-BBQV5k-A.png",ts="/assets/image-98-D-EnMUO3.png",hs="/assets/image-99-onB9YqTS.png",as="/assets/image-100-DvQT_7Xi.png",ns="/assets/image-101-CWK7yrlE.png",ks="/assets/image-107-D9X-Xi3p.png",es="/assets/image-104-DSW23DXk.png",rs="/assets/image490-V0cjUmBb.jpeg",ds="/assets/image-108-DuLBjQRl.png",Es="/assets/image491-dlfrAtI1.jpeg",ps="/assets/image-103-Dou0z9p_.png",ys="/assets/image492-BWUZ9oMY.jpeg",gs="/assets/image-106-BF0dRI7m.png",Cs="/assets/image-132-D4CXRnn7.png",cs="/assets/image-133-C5ddseeR.png",Fs="/assets/image-134-B1qaixXV.png",os="/assets/image-135-BZzwinp-.png",Ds="/assets/image-105-wIhj16Fp.png",As="/assets/image-109-D2bmTqcf.png",fs="/assets/image-110-3Flcmz1T.png",us="/assets/image-111-tAfOiW_q.png",ms="/assets/image-112-Dd2HaOkB.png",vs="/assets/image-113-1_34qrtV.png",_s="/assets/image-114-DYi_6zaK.png",bs="/assets/image-115-BAIXhUkE.png",Bs="/assets/image-116-CjBU-fbu.png",Is="/assets/image-117-CtXtovrB.png",Ss="/assets/image-119-DkYxnmvt.png",Ps="/assets/image-120-BNhyYemW.png",Ts="/assets/image-122-BUveOiel.png",xs="/assets/image-118-CKbd9vnt.png",Rs="/assets/image-121-KQrwb_JD.png",Ms="/assets/image-123-Bk7G2wwf.png",Os="/assets/image-124-Hu9XAQKX.png",Ls="/assets/image-125-DfOuLF5n.png",Gs="/assets/image-126-93ya8FgY.png",Ws="/assets/image-127-CP2RRd2B.png",Ns="/assets/image-128-CqIwatDq.png",Us="/assets/image-129-05Jich81.png",ws="/assets/image-130-DKMmU0WO.png",Hs="/assets/image-131-7Pvt0UgT.png",Ks="/assets/image-136-Dk41UI6k.png",zs="/assets/image-137-DXvg4QMc.png",Vs="/assets/SPI-Working-Data-Transfer-CjIb6iL5.gif",Xs="/assets/image-138-Dd9pBCL3.png",Qs="/assets/image-139-bUUIVBJe.png",qs="/assets/image-140-d3jC0e_-.png",Ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAe8AAACzCAYAAACgspT1AAAPF0lEQVR4nO3dfVjVZZ7H8c+kdmwFhURHFp/Ix8vAuQQVNNkpEFMHc3wMY9QecJQ1KY+uWVtW7k41VymJ26XbIBbWqoumrrrjiKJBKro+AB5HTb3YRtlGY4JNakWuqf0DPHkUFTwHftznvF9//e6bw+/68g8fvj/u333/pKKi4gcBAABj3GN1AQAAoGEIbwAADEN4AwBgGMIbAADDEN4AABiG8AYAwDCENwAAhiG8AQAwDOENAIBhCG8AAAxDeAMAYBjCGwAAwxDeAAAYhvAGAMAwhDcAAIYhvAEAMAzhDQCAYQhvAAAMQ3gDAGAYwhsAAMMQ3gAAGIbwBgDAMIQ3AACGIbwBADAM4Q0AgGEIbwAADEN4AwBgGMIbAADDEN4AABiG8AYAwDCENwAAhiG8AQAwDOENAIBhCG8AAAxDeAMAYBjCGwAAwxDeAAAYhvAGAMAwhDcAAIYhvAEAMAzhDQCAYQhvAAAMQ3gDAGAYwhsAAMMQ3gAAGIbwBgDAMIQ3AACGIbwBADAM4Q0AgGEIbwAADEN4AwBgmJZWFwCzBAQEWF0C3FBRUWF1CQA8gM4b8CGnTp2yugQAHkB4Az4kOjpasbGxVpcBwE2EN+Bjjh49qjVr1lhdBgA3/KSiouIHq4sA0LjWrVunWbNmOcehoaE6duyYhRUBcAedN+ADEhMTFRUV5RyXlJRo+fLlFlYEwB2EN+Aj5s6d6zJeunSpKisrLaoGgDsIb8BHjBw5Uo8++qhzXF5erqVLl1pYEYC7xf+8AR9y8OBBlwCXJIfDoc6dO1tUEYC7QecN+JCoqCg9/vjjLnN034B56LwBH3P69GmXxWuSlJ+fr/DwcIsqAtBQdN6Aj+nTp4/La2MS3TdgGjpvwAddunRJYWFhunr1qnNu69atiomJsbAqAPVF5w34oI4dO8put7vM0X0D5qDzBnzU1atXFR4erosXLzrnsrKy9Nhjj1lYFYD6oPMGfNS9995L9w0YivAGfNjMmTPVp08f57iwsFBZWVkWVgSgPox/bH7lzw7t27lD+Qf2a/vh87WzXTTwF0M1ZNDDeujnP1MPv1b1v2F1pc4V/V452w7qs/xPdfqbmum2fX6umGFRGjEsRhFhndTa4z8JYI3169dr5syZznH37t1VWFhoYUUA7sTc8L5ySv8+Z4rmZJeo6rYf9NMg+wfKWDBc3W6buNX66kC6npj0T/qvO2z3bAudpLcz39CUAR3UgD8LgGZr5MiRKigocI5ff/11PffccxZWBOB2zAzv8nwtip2o9JKa2LYFPaTxsx5XQkRn3SdJf/lcebk7tX5rrr6sDWJbTLr2fTJNPetM22qd/ThRD8/erZqP+6lvQqKeHDtavdtL0v/pwtE92vkfm5VTXFb7x0KIUrZ+pjdjAhv5hwUa386dOzV58mTnuF27dnI4HPL397ewKgC3YmB4X9b+RdEanV4qKUTj3t+oFZP71v0Y+8oX2vXGVCWlF6tKUkjqf6pg8VDd9Ouo5GONiZ6t/CrJ1n+hNm+cpyEd6kr5an11bK0W/CpVm0ol2WL0XsFWJYV69icErJCYmKgdO3Y4x3PnztWrr75qYUUAbsW88L70iZJ6P63tkkIW7lbhwsg7PLou1575gzQuo0xSvN4/ma3Jwa6fOPJWT8W9VSbZfqHMwo81PrjOGzlVn83UmIF2FUgKmr9TJ18ezONzGO/QoUMaMWKEy1xxcbG6du1qUUUAbsW41ebVJ/ZruyQpUvMm3im4JSlQj8x7Q/GS/IL/W4eK/3LD18+qKKes5nJqssbcIbglqVXPqVo8P0iyBcl/X6FON+xHAJqlwYMHa8qUKS5zvDoGNE/Gdd4lWSM1ILVAUoq2Vryp+m3meEWVlS3kV+eq83y9GDBGKyRFpx/Tjmn1ewZeXVmpv/r5seocXuXMmTMaNGiQy1xeXp769+9vUUUA6mJc5313Wt8iuO9eK4IbXqhXr15KSUlxmaP7Bpof48K7jV/72qtjKinxxB3/Ru2Cau948oKqPXFLwGB2u12tW//4p+nmzZuVl5dnYUUAbmRceHfsF6N+kqQCrdx2wgNh21uRo2ySpKrMj7W73O0bAkbr0KHDTdumLlmyxKJqANTFuPBW37F6Pr7m8o+vTNaiPV+5GeD+enjqHAVJUtU6TZ+WqVNX3K4SMJrdblenTp2c408//VRbtmyxsCIA1zMvvBWscW+mK8YmSaVaMS5Mg2es1GfnKu86xFsNnq3VKSGSpKp8u6J7xmvxNof+TIjDR7Vs2ZJDS4BmzLjV5teUF69U8uiF2n3dVqa2oIc0fv6TeiY2XmG9Axq2oKy6VDsWJmj6quu3W/VT34Rf6++fGq+4qD4K8fCiN6C5GzJkiE6ePOkcL1u2TNOnT7ewIgCSweEtqWYHtff+US+nbdOpG/YjtwX1V3zKAi1MGq6wTvWN8Wp9dWyT3nn5JX2wr+yGPdP9FBybpBftv9b4qB4ix+ELsrOzNWPGDOe4a9euKi4utrAiAJLp4X3NtZPAVq3Vsuv2M69hU+ikt5X5xhQNqHPL07rVnFb2iVZnZF23n3ktv0Gyf5ChBcO78boYvN6oUaN04MAB5/i1117T888/b2FFALwjvK9XXanS0we1e81SLf5gn8qupa5fnN7bu05JdZ9McltXKj6XI2er3l2Spm3OFt+m0NQNyl0cI44mgTfLycnRpEmTnOO2bdvK4XCobdu2FlYF+DYDF6zdQSs/hYTFadpvt+vsF0XaYB8kP0mq3K3ZYxcp/y5eBWsd0FsDJ83TRwUlOrMnXZNCbZKqVJI+UdOyzvJuOLxafHy8Ro8e7Rx/8803LF4DLOZ9nfdNqnU2a7weSs1XlaR+bxVo/6y+7t2yPF8vDhujFaWSbFOVfXa54jk5EV7s8OHDGj58uMtcUVGRunXrZlFFgG/zvs77Jq3Uc1q63o6uGf1xVY5OuHvLwBi9tDKl9t3wNdq477K7dwSatYEDB+qJJ55wmaP7BqzjA+EtSaEaOjmy5vLMF7rkgefc/tEj9Mva6zP/c9H9GwLN3I3vfX/44YcqKiqyqBrAt/lIeEstWl5bqObQ+QseuGGrls7jSI+c+dIDNwSat549e2r27Nkuc3TfgDXMCu8vjys3e6VeS3lB6+/6UJIwdel87fqyzhVsV9Y78/Wr9P13vfAsslc9DgEHvIDdbtd9993nHG/ZskV79+61sCLAN5kV3i3OaNWMhXp37b9q2R9ONeAbL+v0/oKay17d1NH5tpi/KvY+p9R/ztC236zV3ob86/pEoXbVXvb625824BsBc7Vv355tU4FmwKzw7jhEY68dSvJOhvbU97Wvkk16d13NZdDYKPW+7kv9Y590Ljxbkl3f174uK/+jZTojSYpX7M9Yag7fYbfbFRz849OmvLw8bd682cKKAN9jVngrWKPmpipEksoylFifE8DKi7U89R9U03dHa1HSYF2/TUurwUl6veaUExXYx9bjlLJqle54SbNWlEmSglJSNYqn5vAhLVq00Lx581zm6L6BpmVYeEv+Q+dq5Q0ngL2Q9Zk+v1ihH3P8iir+5NDurBcUH/53eiW/SpJNMen/oimhN94xVJPT3nY9pSxxibY5/qSyyh9jvLqyTJ8fztaSxMGKSFyjUkkKSdHqBTGi74avSU5OVr9+/Zzj4uJirV692sKKAN9i6CYt5SpemazRC3er8s4flmyhmrR8rZZP7nvLvcirS3doYcJ0rSqpusUnXPkNekXZ/5aqIQ3YLx3wJhs2bFBycrJz3KVLFx0/ftzCigDfYVznXSNQ/Wdt1NlTOXrfnqD+QbY6P+UXHKmEVz5SgeOQfneb4JakViEjteTQOR3Z8JamxAbXbKl6I1uQQmNnKn1bkc7mzCO44dMmTpyooUOHOsfnz59XWlqahRUBvsPQzrsOVyp08X+vdc0t1Ob+IDeP7axWZdnX+vavtUNbO/00gDPEgOvt2rVLEydOdI79/f11/PhxBQQEWFgV4P28J7wBWCIpKUnbt293jlNTU7V48WILKwK8H+ENwC1HjhxRXFycy1xhYaG6d+9uUUWA9zP0f94AmovIyEglJSW5zPHqGNC46LwBuO3cuXOKjIx0mduzZ48GDBhgUUWAd6PzBuC2Hj166Nlnn3WZo/sGGg+dNwCP+PrrrxUWFqbvvvvOObdp0yY98sgjFlYFeCc6bwAecf/993NoCdBE6LwBeMz333+v8PBwlZaWOucyMzM1fvx4C6sCvA+dNwCPueeee+i+gSZAeAPwqGeeeUYPPvigc+xwOJSZmWlhRYD3IbwBeFxd3fcPP/AfOsBTCG8AHjdhwgQNGzbMOb5w4QKPzwEPYsEagEaRm5vrslCtTZs2cjgcCgwMtLAqwDvQeQNoFLGxsUpISHCOv/32W7pvwEPovAE0mqNHjyo2NvamuQceeMCiigDvQOcNoNFERERo6tSpLnN034D76LwBNKqSkpKbDijJzc1VRESERRUB5qPzBtCoQkNDNWfOHJc5um/APXTeABpdeXm5wsPDVVlZ6ZzbuHGj4uLiLKwKMBedN4BGFxgYeNPGLWlpaRZVA5iPzhtAkwkLC9OFCxec41WrVmnChAkWVgSYic4bQJPh0BLAMwhvAE3m6aefVnh4uHN84sQJZWRkWFgRYCYemwNoUps2bdJTTz1ldRlAvVVUVFhdwk3ovAE0qXHjxikmJsbqMgCjEd4Ampzdbte0adNUWFhodSmAkXhsDsBSAQEBVpcA3FZzfGze0uoCAPi25viLEWjueGwOAIBhCG8AAAxDeAMAYBjCGwAAwxDeAAAYhvAGAMAwhDcAAIYhvAEAMAzhDQCAYQhvAAAMQ3gDAGAYwhsAAMMQ3gAAGIbwBgDAMIQ3AACGIbwBADAM4Q0AgGEIbwAADEN4AwBgGMIbAADDEN4AABiG8AYAwDCENwAAhiG8AQAwDOENAIBhCG8AAAxDeAMAYBjCGwAAwxDeAAAYhvAGAMAwhDcAAIYhvAEAMAzhDQCAYQhvAAAMQ3gDAGAYwhsAAMMQ3gAAGIbwBgDAMIQ3AACGIbwBADAM4Q0AgGEIbwAADEN4AwBgGMIbAADDEN4AABiG8AYAwDCENwAAhiG8AQAwDOENAIBhCG8AAAxDeAMAYBjCGwAAwxDeAAAY5v8Bxh0LGfAxwMcAAAAASUVORK5CYII=",js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAi8AAADhCAYAAAAAqVWpAAANfElEQVR4nO3df2zV9b3H8deumrrYpbjLdZegGDI0hCBmYzrkx344+GPSXIJRnCUjW6aJzSKZuGnJBln8w7G4zK2OHMLEGTZR59yyrJ2LiC5rZczc5EZAg7/CrBKnc6GN/AHxj90/jgKVAoW2nn7OeTz+Oqe2b75/mWc+53y/74/09/f/OwAAhfiPWl8AAMCpEC8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAURbwAAEURLwBAUcQLAFAU8QIAFEW8AABFES8AQFHECwBQFPECABRFvAAARREvAEBRxAsAUBTxAgAU5cxaXwAA9W/ChAm1vgRGUX9/f03/fScvAIyZ3t7e9PX11foyqDMf6e/v/3etLwKA+jMwMJDW1tbs2rWr1pfCKHPyAkBdqlQqwoUx4eQFgFE3MDCQWbNmZWBg4PDPurq6Mn/+/BpeFfXCyQsAo65SqQwKl8WLFwsXRo14AWBU9fX1pVKpDPpZe3t7ja6GeiReABhVTl0Ya+IFgFHT19eXLVu2HH7f0tKSjo6OGl4R9Ui8ADBq1q1bN+jUpa2tLZdcckkNr4h65G4jAEZFb29vWltbD79vaWlJT09PpkyZUsOroh45eQFgVKxbt27Q+/b2duHCmBAvAIxYd3d3ent7D79vaWlxhxFjRrwAMGJD3Rrd0tJSo6uh3okXAEZky5Ytg05dpkyZ4tSFMSVeADhtAwMDx5y6dHR0OHVhTIkXAE7bB5cvzp8/P21tbTW8IhqBW6Xfc/Afu/P0439Kz1+3p/t/X3vvpxfkM4vn5orLvpB5n780n2w+61Qm5h+7n87jf+rJX7d358jIz2Tx3Cty2Rfm5fOXfjKnNBJgHLF8kVoRLwf35Nc3X5+bH9mbQyf8xeZctur+3Hvbwlx49slG/jo3X39zHtl74olpviyr7r83ty28MCcZCTDurFu3btDt0YsXL84DDzxQwyuiUTR2vOzvydorr0nne5HRNHFerr7purR++vx8NEn+9WL+8uTjefgPT+aNA9U/aVrQmad/uyLTjnNisr9nba68pjPVkU2ZOO/q3HRdaz59/kdTHfmXPPn4w/nDk2+kOrIpCzqfzm9XTItDGKAUfX19WbBggVMXaqKB4+WdbF87J1d17ksyOUs3PprKsulDn4AcfDVP3PnVLO/cmUNJJq/8Y3bcMTcfO2bk9qydc1WqI5dm46OVLJs+9JnKwVefyJ1fXZ7OnYeSTM7KP+7IHXOPmQgwLq1evXrQF3WduvBhatwv7L61Nes79yVJJndszsbjhUuSnH1hFt7x+zx0w8Qkyb7Ou/PYG0ONXF8Nl0xOx+aNxw2X6siFueP3D6U6cl86734sQ4wEGHcsX6TWGjZe3n1ue7qTJLNz6zWzh/GRzbn54q13ZlGS5kl/zzM7//XBiXlue3ViZt+aa2YP40Ogc7+YW+9clKQ5k/7+TI4ZCTAOWb5IrZ1Z6wuolddf2/3eq8tz0bRh/tGk/8kvXl+a5iFvEXo9R0ZelOGP/EVeX9rsriOgCL29vU5dqLmGjZfTc3aam0d7ZHNGeyTAWBlq+aIH0vFha9iPjc5p/s/3Xv1f9u4dlYk5MnJvRmUkwDhi+SLjRcPGy3kzFmRGkmRHNnQ9l3dHPjEzFlQnZseGdD038okA44nli4wXDRsvmb4k31pUffn8mmVZ+9Q/Rxww05d8K9WRz2fNsrV56p8CBqgPli8ynjRuvGRSlv6gMwuakmRfKktn5vIbN6T3lQOnHzGTluYHnQtSHVnJ0pmX58YNvXnlgIgByjUwMHDMd10sX6SWGvghdVX7d27IDVd1ZNuBIz9rmjgvV3/7a/nGlYsy8+IJp/jo/v3ZueGGXNWxLUdGVp+0++2vfSNXLpqZiydYBgCU44NrAObPn5+urq4aXhGNruHjJUn1Cbrrv5vv3d2VPQcG/6emibOyqP22dCxfmJn/PfzoOPjqE1n/3e/l7q49GTyyKRNnLUr7bR1ZvnBmTmEkwIfO8kXGI/FytHcP5JVnH8vWTQ/mp0ftM6pqytRr78p9d16fT/3X8B/K8u6BV/LsY1uz6cGfHrXP6P2RU3PtXfflzus/lVMYCfChsXyR8Ui8HM+7B7Lvhb9l2y9/nDvufzpvv78guvlLWf/nh7L8eJsZTzhyX17427b88sd35P6n386Rkevz54eWH3fZI0AtWL7IeNXAX9g9ibOaM3nml7Lih915+dVn85tVl1UfJndgW765ZG169p/OyMmZ+aUV+WH3y3n12d9k1WXVx9Md2PbNLFnbk9MYCTBmKpXKoHBZvHixcGFccPIybO/m5c1XZ97KnhxKMmPdjmy/afoIR76czVfPy8qeQ0lmZN2O7RnpSIDR8MFTl5aWlnR1ddlhxLjg5GXYzsq0FZ25a0713fObtua5EY+clhWdd6U68vls2jriiQCjwvJFxjPxckqmZu6y2dWXL72at0bj8S1T5+bIyLdG4Um/ACNj+SLjnXg5RWec+f63anfntddHZWKOjHwtozISYAQsX2S8a8x4eWNXnnxkQ77ffnsePu0NijNzwflHj3wyj2z4ftpvf/j0lzLOvCDnn/y3AMbMB5cvWgPAeHRmrS+gJs54KZtu7Eh3khmXfj3XDftbsu/khe07qi8vujDnHXVr8xkvbcqNHd1JZuTSr183/C/evvNCjow8L+6WBmrJqQslaMyTl/OuyJL3lzL+6N48Ndx7lPf+Lj95qPpy4pLP5uJBI5ccXsr4o3ufGvZtz3t/95NUR07Mks9efJLfBhg7lUolu3btOvx+ypQpaWtrq+EVwdAaM14yKV++ZWUmJ8nb9+YrK+7LnoMn+ZP9O3PPyu+kekgyJ2uXXz74lGTSl3PLysmpjvxKVty3JycfeU9Wfue9Y5c5a7P8cucuQG0MDAykUqkM+pnli4xXDRovycfm3pIN7dXYONSzKnOmLcrtm3vz4pv9R0XHwfT37c62zbdn0SWfy5qeQ0masqDzZ7l+6jETM/eWDamOPJSeVXMybdHt2dz7Yt7sPypjDvanb/e2bL59US753JpURy5I58+uzzEjAT4klUolfX19h9/Pnz/fqQvjVoM/pG6oDdAn0DQ1197zYO5ZNv34m6b378yGG65Kx7ZhTUzT1Gtzz4P3ZNl0GxqB2rB8kdI07MlL1bmZddOjeXnP1mxc1ZpZE5uG/K3mSbPTuuZX2bH7mfz8ROGSJOfOyk2Pvpw9WzdmVeusDD2yOZNmt2bNr3Zk9zM/Fy5ATVkDQGka/ORlCAf78+bA+ysTz8g5H5+Y5hF+FeVg/5s5MvKcfHxis7uKgHHB8kVK1Ji3Sp/I2RPyiVE+CDl7widOfFoDUCNOXShRg39sBNC4+vr6rAGgSOIFoEFZvkipfOcFoAH19vamtbX18PuWlpbs3LnTc10ogpMXgAZkDQAlEy8ADcbyRUonXgAayMDAgFMXiideABrIli1bLF+keOIFoEFYvki9EC8ADcLyReqFW6UBGoDli9QTJy8ADcAaAOqJeAGoc319fcd818Wt0ZRMvADUuaHWADh1oWTiBaCO7dq1K93d3Yfft7S0OHWheOIFoI6tXr160KlLe3u75YsUz91GAHXK8kXqlZMXgDplDQD1SrwA1CHLF6ln4gWgzli+SL0TLwB1xvJF6p14Aagjli/SCMQLQB2xfJFGcGatL4DGNGHChFpfAjSEjo6OWl8CjDonLwB1yvJF6pV4AagzPT09aWtrc2s0dcsTdqkJHxvB2Onv76/1JcCY8p0XasL/XAE4XT42AgCKIl4AgKKIFwCgKOIFACiKeAEAiiJeAICiiBcAoCjiBQAoingBAIoiXgCAoogXAKAo4gUAKIp4AQCKIl4AgKKIFwCgKOIFACiKeAEAiiJeAICiiBcAoCjiBQAoingBAIoiXgCAoogXAKAo4gUAKIp4AQCKIl4AgKKIFwCgKOIFACiKeAEAiiJeAICiiBcAoCjiBQAoingBAIoiXgCAoogXAKAo4gUAKIp4AQCKIl4AgKKIFwCgKOIFACiKeAEAiiJeAICiiBcAoCjiBQAoingBAIoiXgCAoogXAKAo4gUAKIp4AQCKIl4AgKKIFwCgKOIFACiKeAEAiiJeAICiiBcAoCjiBQAoingBAIoiXgCAovw/u1z7R9BEt7YAAAAASUVORK5CYII=",Zs="/assets/image-143-B_GrAfJR.png",Js="/assets/image-144-DCiCznQ5.png",$s="/assets/image-145-Do0JXGa9.png",il="/assets/image-146-B3tEuvel.png",sl="/assets/image534-B6rto-NM.jpeg",ll="/assets/image535-Cpw2zLU1.jpeg",tl="/assets/image536-dY71ZpiR.jpeg",hl="/assets/image-150-BEXwKaeX.png",al="/assets/image-151-BHGayDZ5.png",nl="/assets/image-152-C3E98qx_.png",kl="/assets/image-153-B_AIQd4q.png",el="/assets/image-147-Bzi_n_W6.png",rl="/assets/image541-Bx7l5M5z.png",dl="/assets/image-148-BtS0Vd1M.png",El="/assets/image-149-CdjGbxGs.png",pl="/assets/image-154-Bh9iE6a-.png",yl="/assets/image-156-DUIBjQBx.png",gl="/assets/image-155-DJ07Tbsg.png",Cl="/assets/image-157-poDX2S-e.png",cl="/assets/image-158-CMsEoUQ0.png",Fl="/assets/image-159-B6thuLnm.png",ol="/assets/image-160-O1kOi92e.png",Dl="/assets/image-161-CelVUq08.png",Al="/assets/image-162-C-qwUALc.png",fl="/assets/image-163-CcIK2hhR.png",ul="/assets/image-164-CzqpGh-s.png",ml="/assets/image-165-D3wONlO9.png",vl="/assets/image-166-b7JXJb5X.png",_l="/assets/image-167-F5Fr-48V.png",bl="/assets/image-168-3WmGHSIY.png",Bl="/assets/image-169-D_6Sy4ar.png",Il="/assets/image-170-I0TQ30wR.png",Sl="/assets/image-171-sn78RUdk.png",Pl="/assets/image-172-D-yXYzy-.png",Tl="/assets/image-173-B2rUjuH3.png",xl="/assets/image-174-LPT7IMOs.png",Rl="/assets/image-175-LQVtMabw.png",Ml={},Ol=k('<h1 id="stm32及标准库学习笔记" tabindex="-1"><a class="header-anchor" href="#stm32及标准库学习笔记"><span>STM32及标准库学习笔记</span></a></h1><p><img src="'+p+'" alt="Alt text"></p><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><ul><li><a href="#stm32%E5%8F%8A%E6%A0%87%E5%87%86%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">STM32及标准库学习笔记</a><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#f103c8t6%E7%AE%80%E4%BB%8B">F103C8T6简介</a></li><li><a href="#f1x%E7%89%87%E4%B8%8A%E8%B5%84%E6%BA%90">F1X片上资源</a></li><li><a href="#%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84">系统结构</a></li><li><a href="#%E5%BC%95%E8%84%9A%E5%AE%9A%E4%B9%89">引脚定义</a></li><li><a href="#%E5%90%AF%E5%8A%A8%E9%85%8D%E7%BD%AE">启动配置</a></li><li><a href="#%E5%B7%A5%E7%A8%8B%E6%9E%B6%E6%9E%84">工程架构</a></li><li><a href="#hello_world">Hello_World</a></li><li><a href="#%E6%A0%87%E5%87%86%E5%A4%96%E8%AE%BE%E5%BA%93">标准外设库</a></li><li><a href="#rcc">RCC</a><ul><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D">基本介绍</a></li><li><a href="#rcc%E6%97%B6%E9%92%9F%E6%A0%91">RCC时钟树</a></li><li><a href="#%E6%A0%87%E5%87%86%E5%BA%93%E5%87%BD%E6%95%B0">标准库函数</a></li></ul></li><li><a href="#gpio">GPIO</a><ul><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-1">基本介绍</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81%E7%82%B9%E7%81%AF">案例代码：点灯</a></li></ul></li><li><a href="#%E4%B8%AD%E6%96%AD%E4%B8%8Envic">中断与NVIC</a><ul><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-2">基本介绍</a></li><li><a href="#stm32%E7%9A%84%E4%B8%AD%E6%96%AD">STM32的中断</a></li><li><a href="#exti%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD">EXTI外部中断</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81%E5%85%89%E7%94%B5%E8%AE%A1%E6%95%B0%E5%99%A8%E8%A7%A6%E5%8F%91%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD">案例代码：光电计数器触发外部中断</a></li></ul></li><li><a href="#tim%E5%AE%9A%E6%97%B6%E5%99%A8">TIM定时器</a><ul><li><a href="#%E6%A6%82%E5%BF%B5">概念</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E5%AE%9A%E6%97%B6%E5%99%A8">基本定时器</a></li><li><a href="#%E9%80%9A%E7%94%A8%E5%AE%9A%E6%97%B6%E5%99%A8">通用定时器</a></li><li><a href="#%E9%AB%98%E7%BA%A7%E5%AE%9A%E6%97%B6%E5%99%A8">高级定时器</a></li><li><a href="#%E6%97%B6%E5%9F%BA%E5%8D%95%E5%85%83">时基单元</a></li><li><a href="#%E8%BE%93%E5%87%BA%E6%AF%94%E8%BE%83">输出比较</a></li><li><a href="#%E8%BE%93%E5%85%A5%E6%AF%94%E8%BE%83">输入比较</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9A%E6%97%B6%E4%B8%AD%E6%96%AD">案例：定时中断</a><ul><li><a href="#%E6%A1%88%E4%BE%8B%E5%88%A9%E7%94%A8%E5%86%85%E9%83%A8%E6%97%B6%E9%92%9F%E6%BA%90%E5%AE%9E%E7%8E%B0setintervalcallbackms">案例：利用内部时钟源实现<code>setInterval(callback,ms)</code></a></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%88%A9%E7%94%A8%E5%A4%96%E9%83%A8%E6%97%B6%E9%92%9F%E6%BA%90%E5%AE%9E%E7%8E%B0setintervalcallbacktimes">案例：利用外部时钟源实现<code>setInterval(callback,times)</code></a></li></ul></li><li><a href="#%E6%A1%88%E4%BE%8Bled%E5%91%BC%E5%90%B8%E7%81%AF">案例：LED呼吸灯</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E8%88%B5%E6%9C%BA%E9%A9%B1%E5%8A%A8">案例：舵机驱动</a><ul><li><a href="#%E7%9B%B4%E6%B5%81%E7%94%B5%E6%9C%BA%E4%B8%8E%E9%A9%B1%E5%8A%A8%E7%94%B5%E8%B7%AF">直流电机与驱动电路</a></li></ul></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9A%E6%97%B6%E5%99%A8%E8%BE%93%E5%87%BA%E6%8D%95%E8%8E%B7%E6%B5%8B%E9%87%8F%E6%96%B9%E6%B3%A2">案例：定时器输出捕获——测量方波</a></li><li><a href="#%E7%BC%96%E7%A0%81%E5%99%A8%E6%8E%A5%E5%8F%A3">编码器接口</a></li><li><a href="#%E7%BC%96%E7%A0%81%E5%99%A8%E6%B5%8B%E4%BD%8D%E7%BD%AE%E6%B5%8B%E9%80%9F%E6%A1%88%E4%BE%8B">编码器测位置、测速案例</a></li></ul></li><li><a href="#adc%E6%A8%A1%E6%8B%9F%E6%95%B0%E5%AD%97%E8%BD%AC%E5%8C%96%E5%99%A8">ADC模拟/数字转化器</a><ul><li><a href="#adc%E6%A6%82%E5%BF%B5">ADC概念</a></li><li><a href="#adc%E5%8E%9F%E7%90%86">ADC原理</a></li><li><a href="#stm32_adc%E5%8E%9F%E7%90%86">STM32_ADC原理</a></li><li><a href="#adc%E7%9A%84%E6%A0%87%E5%87%86%E5%BA%93%E5%87%BD%E6%95%B0">ADC的标准库函数</a></li><li><a href="#adc%E6%A1%88%E4%BE%8B">ADC案例</a></li></ul></li><li><a href="#dma">DMA</a><ul><li><a href="#dma%E7%AE%80%E4%BB%8B">DMA简介</a></li><li><a href="#dma%E5%8E%9F%E7%90%86">DMA原理</a></li><li><a href="#dma%E6%A1%88%E4%BE%8B">DMA案例</a></li></ul></li><li><a href="#usart%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1">USART串口通信</a><ul><li><a href="#%E9%80%9A%E4%BF%A1">通信</a></li><li><a href="#%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E7%AE%80%E4%BB%8B">串口通信简介</a></li><li><a href="#usart%E5%A4%96%E8%AE%BE">USART外设</a></li><li><a href="#usart%E6%A0%87%E5%87%86%E5%BA%93%E5%87%BD%E6%95%B0">USART标准库函数</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%B8%B2%E5%8F%A3%E6%94%B6%E5%8F%91%E6%95%B0%E6%8D%AE%E5%AE%9E%E7%8E%B0printf">案例：串口收发数据；实现printf</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%B8%B2%E5%8F%A3%E4%B8%AD%E6%96%AD%E6%8E%A5%E6%94%B6%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE">案例：串口中断接收处理数据</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE">案例：实现简易通信协议</a></li></ul></li><li><a href="#i2c%E9%80%9A%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%AE%9E%E7%8E%B0">I2C通信软件实现</a><ul><li><a href="#%E7%AE%80%E4%BB%8B">简介</a></li><li><a href="#%E7%A1%AC%E4%BB%B6%E8%A7%84%E5%AE%9A">硬件规定</a></li><li><a href="#%E6%97%B6%E5%BA%8F%E8%A7%84%E5%AE%9A">时序规定</a></li><li><a href="#i2c%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F">I2C通信时序</a></li><li><a href="#i2c%E9%80%9A%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%AE%9E%E7%8E%B0-1">I2C通信软件实现</a></li></ul></li><li><a href="#i2c%E9%80%9A%E4%BF%A1%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0">I2C通信硬件实现</a><ul><li><a href="#%E7%AE%80%E4%BB%8B-1">简介</a></li><li><a href="#%E5%8A%9F%E8%83%BD%E6%A1%86%E5%9B%BE">功能框图</a></li><li><a href="#%E5%8A%9F%E8%83%BD%E7%AE%80%E5%9B%BE">功能简图</a></li><li><a href="#%E6%94%B6%E5%8F%91%E6%97%B6%E5%BA%8F">收发时序</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81">案例代码</a></li></ul></li><li><a href="#mpu6050">MPU6050</a><ul><li><a href="#%E7%AE%80%E4%BB%8B-2">简介</a></li><li><a href="#%E5%8F%AF%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0">可配置参数</a></li><li><a href="#%E8%8A%AF%E7%89%87%E6%A1%86%E5%9B%BE">芯片框图</a></li><li><a href="#%E8%8A%AF%E7%89%87%E7%94%B5%E5%99%A8%E7%89%B9%E6%80%A7">芯片电器特性</a></li><li><a href="#%E6%97%B6%E9%92%9F%E6%BA%90%E7%9A%84%E9%80%89%E6%8B%A9">时钟源的选择</a></li><li><a href="#%E4%B8%BB%E8%A6%81%E5%AF%84%E5%AD%98%E5%99%A8">主要寄存器</a></li><li><a href="#%E4%B8%BB%E8%A6%81%E5%AF%84%E5%AD%98%E5%99%A8%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E">主要寄存器详细说明</a></li><li><a href="#%E5%9F%BA%E4%BA%8E%E8%BD%AF%E4%BB%B6i2c%E5%AE%9E%E7%8E%B0mpu6050%E9%A9%B1%E5%8A%A8">基于软件I2C实现MPU6050驱动</a></li><li><a href="#%E5%9F%BA%E4%BA%8E%E7%A1%AC%E4%BB%B6i2c%E5%AE%9E%E7%8E%B0mpu6050%E9%A9%B1%E5%8A%A8">基于硬件I2C实现MPU6050驱动</a></li></ul></li><li><a href="#spi%E9%80%9A%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%AE%9E%E7%8E%B0">SPI通信软件实现</a><ul><li><a href="#%E7%AE%80%E4%BB%8B-3">简介</a></li><li><a href="#%E7%A1%AC%E4%BB%B6%E7%94%B5%E8%B7%AF">硬件电路</a></li><li><a href="#%E7%A7%BB%E4%BD%8D%E5%8F%91%E9%80%81%E8%BF%87%E7%A8%8B">移位发送过程</a></li><li><a href="#spi%E5%9F%BA%E6%9C%AC%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F">SPI基本通信时序</a><ul><li><a href="#%E8%B5%B7%E5%A7%8B%E6%9D%A1%E4%BB%B6">起始条件</a></li><li><a href="#%E7%BB%88%E6%AD%A2%E6%9D%A1%E4%BB%B6">终止条件</a></li><li><a href="#%E4%BA%A4%E6%8D%A2%E5%AD%97%E8%8A%82%E6%A8%A1%E5%BC%8F0">交换字节(模式0)</a></li><li><a href="#%E4%BA%A4%E6%8D%A2%E5%AD%97%E8%8A%82%E6%A8%A1%E5%BC%8F1">交换字节(模式1)</a></li><li><a href="#%E4%BA%A4%E6%8D%A2%E5%AD%97%E8%8A%82%E6%A8%A1%E5%BC%8F2">交换字节(模式2)</a></li><li><a href="#%E4%BA%A4%E6%8D%A2%E5%AD%97%E8%8A%82%E6%A8%A1%E5%BC%8F3">交换字节(模式3)</a></li></ul></li><li><a href="#spi%E9%80%9A%E4%BF%A1%E6%8C%87%E4%BB%A4">SPI通信指令</a><ul><li><a href="#%E5%8F%91%E9%80%81%E6%8C%87%E4%BB%A4">发送指令</a></li><li><a href="#%E6%8C%87%E5%AE%9A%E5%9C%B0%E5%9D%80%E5%86%99">指定地址写</a></li><li><a href="#%E6%8C%87%E5%AE%9A%E5%9C%B0%E5%9D%80%E5%86%99-1">指定地址写</a></li></ul></li><li><a href="#spi%E8%BD%AF%E4%BB%B6%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0">SPI软件模拟实现</a></li></ul></li><li><a href="#spi%E9%80%9A%E4%BF%A1%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0">SPI通信硬件实现</a><ul><li><a href="#%E7%AE%80%E4%BB%8B-4">简介</a></li><li><a href="#%E5%8E%9F%E7%90%86%E6%A1%86%E5%9B%BE">原理框图</a></li><li><a href="#%E5%8E%9F%E7%90%86%E7%AE%80%E5%9B%BE">原理简图</a></li><li><a href="#%E8%BF%9E%E7%BB%AD%E4%BC%A0%E8%BE%93%E5%8F%91%E9%80%81">连续传输发送</a></li><li><a href="#%E9%9D%9E%E8%BF%9E%E7%BB%AD%E4%BC%A0%E8%BE%93%E5%8F%91%E9%80%81">非连续传输发送</a></li><li><a href="#spi%E7%A1%AC%E4%BB%B6%E5%A4%96%E8%AE%BE%E5%AE%9E%E7%8E%B0">SPI硬件外设实现</a></li></ul></li><li><a href="#w25q64%E5%AD%98%E5%82%A8%E5%99%A8">W25Q64存储器</a><ul><li><a href="#%E8%8A%AF%E7%89%87%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD%E5%AE%9A%E4%B9%89">芯片引脚功能定义</a></li><li><a href="#%E8%8A%AF%E7%89%87%E5%86%85%E9%83%A8%E6%A1%86%E5%9B%BE">芯片内部框图</a></li><li><a href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">注意事项</a></li><li><a href="#%E6%8C%87%E4%BB%A4%E9%9B%86">指令集</a></li><li><a href="#%E5%9F%BA%E4%BA%8E%E8%BD%AF%E4%BB%B6spi%E5%AE%9E%E7%8E%B0">基于软件SPI实现</a></li><li><a href="#%E5%9F%BA%E4%BA%8E%E7%A1%AC%E4%BB%B6spi%E5%AE%9E%E7%8E%B0">基于硬件SPI实现</a></li></ul></li><li><a href="#bkp">BKP</a><ul><li><a href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1">注意事项</a></li><li><a href="#bkp%E6%A0%87%E5%87%86%E5%BA%93%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D">BKP标准库函数介绍</a></li><li><a href="#%E8%AF%BB%E5%86%99bkp">读写BKP</a></li><li><a href="#%E5%8E%9F%E7%90%86%E7%AE%80%E5%9B%BE-1">原理简图</a></li></ul></li><li><a href="#rtc">RTC</a><ul><li><a href="#%E5%8E%9F%E7%90%86%E6%A1%86%E5%9B%BE-1">原理框图</a></li><li><a href="#%E5%8E%9F%E7%90%86%E7%AE%80%E5%9B%BE-2">原理简图</a></li><li><a href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-2">注意事项</a></li><li><a href="#%E6%A0%87%E5%87%86%E5%BA%93%E5%87%BD%E6%95%B0-1">标准库函数</a></li><li><a href="#%E8%8E%B7%E5%8F%96rtc%E6%AF%AB%E7%A7%92%E7%BA%A7%E5%88%AB%E6%97%B6%E9%97%B4">获取RTC毫秒级别时间</a></li></ul></li><li><a href="#pwr">PWR</a><ul><li><a href="#%E4%BE%9B%E7%94%B5%E6%96%B9%E6%A1%88%E6%A1%86%E5%9B%BE">供电方案框图</a></li><li><a href="#%E4%B8%8A%E7%94%B5%E5%A4%8D%E4%BD%8D%E6%8E%89%E7%94%B5%E5%A4%8D%E4%BD%8D">上电复位、掉电复位</a></li><li><a href="#%E7%94%B5%E5%8E%8B%E8%BF%87%E4%BD%8E%E6%A3%80%E6%B5%8B">电压过低检测</a></li><li><a href="#%E4%B8%89%E7%A7%8D%E4%BD%8E%E5%8A%9F%E8%80%97%E6%A8%A1%E5%BC%8F">三种低功耗模式</a></li><li><a href="#%E4%B8%89%E7%A7%8D%E4%BD%8E%E5%8A%9F%E8%80%97%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E7%BB%86%E8%8A%82">三种低功耗模式的执行细节</a></li><li><a href="#%E9%99%8D%E4%BD%8E%E4%B8%BB%E9%A2%91">降低主频</a></li><li><a href="#%E6%B5%85%E7%9D%A1%E7%9C%A0%E6%A8%A1%E5%BC%8F%E4%B8%B2%E5%8F%A3%E5%94%A4%E9%86%92">浅睡眠模式——串口唤醒</a></li><li><a href="#%E6%B7%B1%E5%BA%A6%E7%9D%A1%E7%9C%A0%E6%A8%A1%E5%BC%8F%E5%81%9C%E6%9C%BA%E6%A8%A1%E5%BC%8F%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD%E5%94%A4%E9%86%92">深度睡眠模式——停机模式——外部中断唤醒</a></li><li><a href="#%E6%B7%B1%E5%BA%A6%E7%9D%A1%E7%9C%A0%E6%A8%A1%E5%BC%8F%E5%BE%85%E6%9C%BA%E6%A8%A1%E5%BC%8Frtc%E9%97%B9%E9%92%9F%E5%94%A4%E9%86%92wakeup%E5%94%A4%E9%86%92">深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒</a></li></ul></li><li><a href="#wdg%E7%9C%8B%E9%97%A8%E7%8B%97">WDG看门狗</a><ul><li><a href="#%E5%8E%9F%E7%90%86%E6%A1%86%E5%9B%BE-2">原理框图</a></li><li><a href="#%E7%8B%AC%E7%AB%8B%E7%9C%8B%E9%97%A8%E7%8B%97%E9%94%AE%E5%AF%84%E5%AD%98%E5%99%A8">独立看门狗键寄存器</a></li><li><a href="#%E7%8B%AC%E7%AB%8B%E7%9C%8B%E9%97%A8%E7%8B%97%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4">独立看门狗超时时间</a></li><li><a href="#%E7%AA%97%E5%8F%A3%E7%9C%8B%E9%97%A8%E7%8B%97%E6%A1%86%E5%9B%BE">窗口看门狗框图</a></li><li><a href="#%E7%AA%97%E5%8F%A3%E7%9C%8B%E9%97%A8%E7%8B%97%E6%97%B6%E5%BA%8F">窗口看门狗时序</a></li><li><a href="#%E7%AA%97%E5%8F%A3%E7%9C%8B%E9%97%A8%E7%8B%97%E7%9A%84%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4">窗口看门狗的超时时间</a></li><li><a href="#%E7%8B%AC%E7%AB%8B%E7%9C%8B%E9%97%A8%E7%8B%97%E5%92%8C%E7%AA%97%E5%8F%A3%E7%9C%8B%E9%97%A8%E7%8B%97%E7%9A%84%E5%8C%BA%E5%88%AB">独立看门狗和窗口看门狗的区别</a></li><li><a href="#iwdg%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81">IWDG案例代码</a></li><li><a href="#wwdg%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81">WWDG案例代码</a></li></ul></li><li><a href="#flash%E9%97%AA%E5%AD%98">Flash闪存</a><ul><li><a href="#%E9%97%AA%E5%AD%98%E6%A8%A1%E5%9D%97%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84">闪存模块组织结构</a></li><li><a href="#%E9%97%AA%E5%AD%98%E7%BB%93%E6%9E%84%E7%AE%80%E5%9B%BE">闪存结构简图</a></li><li><a href="#%E8%A7%A3%E9%94%81flash">解锁FLASH</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E9%92%88%E8%AF%BB%E5%8F%96%E5%AD%98%E5%82%A8%E5%99%A8">使用指针读取存储器</a></li><li><a href="#flash%E5%85%A8%E6%93%A6%E9%99%A4%E6%B5%81%E7%A8%8B">Flash全擦除流程</a></li><li><a href="#flash%E9%A1%B5%E6%93%A6%E9%99%A4%E6%B5%81%E7%A8%8B">Flash页擦除流程</a></li><li><a href="#flash%E5%8D%8A%E5%AD%9716bit%E5%86%99%E5%85%A5%E6%B5%81%E7%A8%8B">Flash半字（16bit）写入流程</a></li><li><a href="#%E9%80%89%E9%A1%B9%E5%AD%97%E8%8A%82">选项字节</a><ul><li><a href="#%E9%80%89%E9%A1%B9%E5%AD%97%E8%8A%82%E7%9A%84%E6%93%A6%E9%99%A4%E6%B5%81%E7%A8%8B">选项字节的擦除流程</a></li><li><a href="#%E9%80%89%E9%A1%B9%E5%AD%97%E8%8A%82%E7%9A%84%E5%86%99%E5%85%A5%E6%B5%81%E7%A8%8B">选项字节的写入流程</a></li></ul></li><li><a href="#%E5%99%A8%E4%BB%B6%E7%94%B5%E5%AD%90%E7%AD%BE%E5%90%8D">器件电子签名</a></li><li><a href="#%E4%B8%BB%E9%97%AA%E5%AD%98%E7%BC%96%E7%A8%8B">主闪存编程</a></li><li><a href="#%E6%A0%87%E5%87%86%E5%BA%93flash%E5%A4%96%E8%AE%BE">标准库Flash外设</a></li><li><a href="#flash%E6%93%A6%E9%99%A4%E5%92%8C%E5%86%99%E5%85%A5">FLash擦除和写入</a></li><li><a href="#flashstore%E5%AD%98%E5%82%A8">FLashStore存储</a></li><li><a href="#%E8%AF%BB%E5%8F%96%E8%8A%AF%E7%89%87%E5%AE%B9%E9%87%8F%E5%92%8Cid">读取芯片容量和ID</a></li></ul></li></ul></li></ul><h2 id="f103c8t6简介" tabindex="-1"><a class="header-anchor" href="#f103c8t6简介"><span>F103C8T6简介</span></a></h2><ul><li>系列：主流系列STM32F1</li><li>内核：ARM Cortex-M3</li><li>主频：72MHz</li><li>RAM：20K（SRAM）</li><li>ROM：64K（Flash）</li><li>供电：2.0~3.6V（标准3.3V）</li><li>封装：LQFP48</li><li><img src="'+y+'" alt="Alt text"></li></ul><p><img src="'+g+'" alt="Alt text"></p><h2 id="f1x片上资源" tabindex="-1"><a class="header-anchor" href="#f1x片上资源"><span>F1X片上资源</span></a></h2><table><thead><tr><th style="text-align:center;">英文缩写</th><th style="text-align:center;">名称</th><th style="text-align:center;">笔记</th></tr></thead><tbody><tr><td style="text-align:center;">NVIC</td><td style="text-align:center;">嵌套向量中断控制器</td><td style="text-align:center;">系统外设，内核中管理中断的设备，如配置中断优先级</td></tr><tr><td style="text-align:center;">SysTick</td><td style="text-align:center;">系统滴答定时器</td><td style="text-align:center;">系统外设，内核定时器，给操作系统提供定时服务</td></tr><tr><td style="text-align:center;">RCC</td><td style="text-align:center;">复位和时钟控制</td><td style="text-align:center;">用于对系统时钟进行配置、开启其他模块的时钟</td></tr><tr><td style="text-align:center;">GPIO</td><td style="text-align:center;">通用IO口</td><td style="text-align:center;">通用IO口，可点灯，读取按键</td></tr><tr><td style="text-align:center;">AFIO</td><td style="text-align:center;">复用IO口</td><td style="text-align:center;">复用IO口，可实现复用端口重定义和中断端口配置</td></tr><tr><td style="text-align:center;">EXTI</td><td style="text-align:center;">外部中断</td><td style="text-align:center;">配置好外部中断后，可用于触发中断</td></tr><tr><td style="text-align:center;">TIM</td><td style="text-align:center;">定时器</td><td style="text-align:center;">可用于实现定时中断、测频率、生成PWM、配置成编码器</td></tr><tr><td style="text-align:center;">ADC</td><td style="text-align:center;">模数转换器</td><td style="text-align:center;">内置12位模数转换器 ,可直接读取IO口模拟电压</td></tr><tr><td style="text-align:center;">DMA</td><td style="text-align:center;">直接内存访问</td><td style="text-align:center;">配置好后，可替代CPU完成搬运数据的工作</td></tr><tr><td style="text-align:center;">USART</td><td style="text-align:center;">同步/异步串口通信</td><td style="text-align:center;">UART是同步串口 USART是同步/异步串口</td></tr><tr><td style="text-align:center;">I2C</td><td style="text-align:center;">I2C通信</td><td style="text-align:center;">内置控制器，实现了直接使用硬件输出时序波形</td></tr><tr><td style="text-align:center;">SPI</td><td style="text-align:center;">SPI通信</td><td style="text-align:center;">同上</td></tr><tr><td style="text-align:center;">CAN</td><td style="text-align:center;">CAN通信</td><td style="text-align:center;">同上</td></tr><tr><td style="text-align:center;">USB</td><td style="text-align:center;">USB通信</td><td style="text-align:center;">USB从机模式接口</td></tr><tr><td style="text-align:center;">RTC</td><td style="text-align:center;">实时时钟</td><td style="text-align:center;">实现年月日时分秒的计时功能，可接外部配用电池</td></tr><tr><td style="text-align:center;">CRC</td><td style="text-align:center;">CRC校验</td><td style="text-align:center;">直接通过硬件电路完成数据校验</td></tr><tr><td style="text-align:center;">PWR</td><td style="text-align:center;">电源控制</td><td style="text-align:center;">可让芯片睡眠，省电</td></tr><tr><td style="text-align:center;">BKP</td><td style="text-align:center;">备份寄存器</td><td style="text-align:center;">在断电时通过备用电池完成保持数据的操作</td></tr><tr><td style="text-align:center;">IWDG</td><td style="text-align:center;">独立看门狗</td><td style="text-align:center;">在程序卡死一定的时间后，自动复位芯片</td></tr><tr><td style="text-align:center;">WWDG</td><td style="text-align:center;">窗口看门狗</td><td style="text-align:center;">同上</td></tr><tr><td style="text-align:center;">DAC</td><td style="text-align:center;">数模转换器</td><td style="text-align:center;">可在IO口直接输出模拟电压</td></tr><tr><td style="text-align:center;">SDIO</td><td style="text-align:center;">SD卡接口</td><td style="text-align:center;">读写SD卡</td></tr><tr><td style="text-align:center;">FSMC</td><td style="text-align:center;">可变静态存储控制器</td><td style="text-align:center;">扩展内存</td></tr><tr><td style="text-align:center;">USB OTG</td><td style="text-align:center;">USB主机接口</td><td style="text-align:center;">USB主机模式接口，可读写其他USB设备</td></tr></tbody></table><h2 id="系统结构" tabindex="-1"><a class="header-anchor" href="#系统结构"><span>系统结构</span></a></h2><p><strong>几个重要总线</strong></p><ul><li><code>ICode总线</code> 连接Flash闪存 主要用来加载指令（Instruction）如：程序</li><li><code>DCode总线</code> 连接Flash闪存 主要用来加载数据（Data）如：常量、调试参数</li><li><code>System总线</code> 系统总线，通过总线矩阵连接到其他部分，如：SRAM(内存) FSMC</li><li><code>AHB系统总线</code> AHB(先进高性能)总线，挂载其他最基本的外设和高性能外设 如：复位、时钟控制、SDIO <ul><li><code>APB2</code> APB(先进外设)总线 连接一般外设 <code>频率一般72Mhz</code> <code>连接重要的外设</code> 如：高级定时器，GPIO，ADC</li><li><code>APB1</code> APB(先进外设)总线 连接一般外设 <code>频率一般36Mhz</code> <code>连接次要的外设</code> 如：普通定时器，USB</li></ul></li><li><code>DMA总线</code> DMA(直接内存访问)总线 DMA外设可以通过该总线代替CPU完成数据搬运工作，如：从ADC模数转换外设中的读取数值复制到内存中</li><li><img src="'+C+'" alt="Alt text"></li></ul><h2 id="引脚定义" tabindex="-1"><a class="header-anchor" href="#引脚定义"><span>引脚定义</span></a></h2><p><strong>特殊端口笔记</strong></p><table><thead><tr><th style="text-align:center;">引脚号</th><th style="text-align:left;">名称</th><th style="text-align:left;">默认功能</th><th style="text-align:left;">笔记</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>电源</strong></td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">1</td><td style="text-align:left;">VBAT</td><td style="text-align:left;">VBAT</td><td style="text-align:left;">可接3v备用电池给RTC时钟和备份寄存器供电</td></tr><tr><td style="text-align:center;">8-9</td><td style="text-align:left;">VSSA VDDA</td><td style="text-align:left;">VSSA VDDA</td><td style="text-align:left;">内部模拟电路供电</td></tr><tr><td style="text-align:center;">23-24</td><td style="text-align:left;">VSS_1 VDD_1</td><td style="text-align:left;">VSS_1 VDD_1</td><td style="text-align:left;">主电源</td></tr><tr><td style="text-align:center;">35-36</td><td style="text-align:left;">VSS_2 VDD_2</td><td style="text-align:left;">VSS_2 VDD_2</td><td style="text-align:left;">主电源</td></tr><tr><td style="text-align:center;">47-48</td><td style="text-align:left;">VSS_3 VDD_3</td><td style="text-align:left;">VSS_3 VDD_3</td><td style="text-align:left;">主电源</td></tr><tr><td style="text-align:center;"><strong>时钟</strong></td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;">PC14-OSC32-IN</td><td style="text-align:left;">PC14</td><td style="text-align:left;">默认为PC14口 可外接32.768kMhz</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:left;">PC15-OSC32-OUT</td><td style="text-align:left;">PC15</td><td style="text-align:left;">默认为PC15口 可外接32.768kMhz</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:left;">OSC_IN</td><td style="text-align:left;">OSC_IN</td><td style="text-align:left;">默认为时钟输入 一般为8M</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:left;">OSC_OUT</td><td style="text-align:left;">OSC_OUT</td><td style="text-align:left;">默认为时钟输入 一般为8M</td></tr><tr><td style="text-align:center;"><strong>复位</strong></td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">7</td><td style="text-align:left;">NRST</td><td style="text-align:left;">NRST</td><td style="text-align:left;">低电平复位 N表示低电平</td></tr><tr><td style="text-align:center;"><strong>调试</strong></td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">34</td><td style="text-align:left;">PA13</td><td style="text-align:left;">JTMS/SWDIO</td><td style="text-align:left;">调试口 JTAG调试线1 / SWD调试线1</td></tr><tr><td style="text-align:center;">37</td><td style="text-align:left;">PA14</td><td style="text-align:left;">JTCK/SWCLK</td><td style="text-align:left;">调试口 JTAG调试线2 / SWD调试线2（共两根线）</td></tr><tr><td style="text-align:center;">38</td><td style="text-align:left;">PA15</td><td style="text-align:left;">JTDI</td><td style="text-align:left;">调试口 JTAG调试线3</td></tr><tr><td style="text-align:center;">39</td><td style="text-align:left;">PB3</td><td style="text-align:left;">JTDO</td><td style="text-align:left;">调试口 JTAG调试线4</td></tr><tr><td style="text-align:center;">40</td><td style="text-align:left;">PB4</td><td style="text-align:left;">NJTRST</td><td style="text-align:left;">调试口 JTAG调试线5（共五根线）</td></tr><tr><td style="text-align:center;"><strong>其他</strong></td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;">PC13-TARMPER-RTC</td><td style="text-align:left;">PC13</td><td style="text-align:left;">默认为PC13口 另外可以实现侵入检测或输出RTC校准时钟</td></tr><tr><td style="text-align:center;">10</td><td style="text-align:left;">PA0-WKUP</td><td style="text-align:left;">PA0</td><td style="text-align:left;">默认PA0 兼具唤醒功能，用于唤醒待机的STM32</td></tr><tr><td style="text-align:center;">20</td><td style="text-align:left;">BP2</td><td style="text-align:left;">BP2/BOOT1</td><td style="text-align:left;">BOOT1用来配置启动模式，配置成功后退化为BP2</td></tr><tr><td style="text-align:center;">44</td><td style="text-align:left;">BOOT0</td><td style="text-align:left;">BOOT0</td><td style="text-align:left;">BOOT0用来配置启动模式</td></tr></tbody></table><p><strong>所有引脚</strong></p><p><img src="'+c+'" alt="Alt text"></p><p>上图备注：</p><ul><li>红色：电源</li><li>蓝色：最小系统相关</li><li>绿色：IO口 功能口</li><li>类型：S电源 I输入 O输出</li><li>IO口电平：默认为3.3v；FT表示能够容忍5v电压</li><li>主功能： 该端口的默认功能</li><li>默认复用功能：该端口支持的其他功能</li><li>重定义功能：可将该端口上的功能重新映射到其他端口上</li></ul><h2 id="启动配置" tabindex="-1"><a class="header-anchor" href="#启动配置"><span>启动配置</span></a></h2><ul><li><code>BOOT1=x BOOT0=0</code> 从主闪存中加载程序并执行</li><li><code>BOOT1=0 BOOT0=1</code> 从系统存储器加载BootLoader程序并执行,该程序把从串口接收的数据写入主闪存，完成程序的烧录</li><li><code>BOOT1=1 BOOT0=1</code> 从内置SRAM启动，用于程序调试</li><li><img src="'+F+'" alt="Alt text"></li></ul><h2 id="工程架构" tabindex="-1"><a class="header-anchor" href="#工程架构"><span>工程架构</span></a></h2><p><strong>工程架构</strong></p><p><img src="'+o+`" alt="Alt text"></p><p><strong>项目结构</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">.</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">---Startup</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 启动Stm32所需的最基本的几个文件,这几个文件可以在标准外设库中找到</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---startup*stm32f10x*??.s</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 汇编启动文件，主要定义复位中断函数，在其中调用SystemInit();main();</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---system_stm32f10x.h</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---system_stm32f10x.c</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 定义了系统初始化函数SystemInit()负责初始化寄存器</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---core_cm3.h</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 内核寄存器描述</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---core_cm3.c</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 内核寄存器配置函数</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   \\---stm32f10x.h</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 外设寄存器描述，当定义USE_STDPERIPH_DRIVER后，将自动包含stm32f10x_conf.h</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">---StdPeriph_Lib</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 标准外设库</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---misc.h</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 内核中的外设</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---misc.c</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---stm32f10x_gpio.h</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # GPIO外设</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---stm32f10x_gpio.c</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   \\---......略</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">---User</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---main.c</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 用户代码</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---stm32f10x_conf.h</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 外设库配置文件，用来#include&lt;标准外设&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   +---stm32f10x_it.h</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   \\---stm32f10x_it.c</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> # 各种中断函数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="hello-world" tabindex="-1"><a class="header-anchor" href="#hello-world"><span>Hello_World</span></a></h2><p><strong>寄存器点灯</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;stm32f10x.h&quot;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 包含了外设寄存器描述</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 1.通过RCC寄存器 开启GPIO_C的时钟</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">    RCC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">-&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">APB2ENR</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;"> 0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00000010</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 2.通过GOPIO_C_CRH高寄存器 配置13号口的模式 为通用推挽输出模式、最大速度为50Mhz</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">    GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">-&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">CRH</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;"> 0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00300000</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 3.通过GPIO_C_ODR输出数据寄存器 配置C13口输出低电平</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">    GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">-&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ODR</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> &amp;=</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ~</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;">0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00002000</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>标准库点灯</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 定义 USE_STDPERIPH_DRIVER 后</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// \`stm32f10x.h\` 会通过条件编译自动包含 \`stm32f10x_conf.h\` 文件</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 要在 \`stm32f10x_conf.h\` 中配置： \`#include &quot;stm32f10x_gpio.h&quot;\` 还有rcc</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USE_STDPERIPH_DRIVER</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;stm32f10x.h&quot;</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 包含了外设寄存器描述</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 1. 启用APB2_GPIOC外设时钟</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    RCC_APB2PeriphClockCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">RCC_APB2Periph_GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ENABLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 2. 初始化GPIOC_13 为推挽输出、速度50MHz</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    GPIO_InitTypeDef GPIO_InitStruct </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_Pin_13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Speed_50MHz</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Mode_Out_PP</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">};</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    GPIO_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> &amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 3.设置输出低电平</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    GPIO_ResetBits</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Pin_13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="标准外设库" tabindex="-1"><a class="header-anchor" href="#标准外设库"><span>标准外设库</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">-</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> STM32F10x_StdPeriph_Lib_V3.5.0</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Libraries/</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">标准库</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> CMSIS/CM3/</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">CMSIS表示：通用微控制器软件接口标准</span><span style="--shiki-light:#7C7F93;--shiki-dark:#CE9178;">;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CM3表示：Cortex-M3</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">      -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> /CoreSupport/</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">内核支持</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> core_cm3.h</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">内核寄存器描述文件</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> core_cm3.c</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">内核寄存器配置函数</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">      -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> DeviceSupport/</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">外设支持</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> ST/STM32F10x/</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;"> \`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ST公司产品系列</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">          -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> \`启动文件,汇编代码,定义了复位中断和其他中断函数，复位中断函数中调用了SystemInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">和main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">            -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> arm/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ARM公司生产的芯片</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_ld_vl.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_md_vl.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_hd_vl.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_ld.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_md.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_hd.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_xl.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> startup_stm32f10x_cl.s</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">          -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x.h </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">外设寄存器描述文件；当定义了USE_STDPERIPH_DRIVER后，将自动包含stm32f10x_conf.h文件，该文件用于包含标准外设库</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">          -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> system_stm32f10x.c </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">定义了SystemInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">负责初始化寄存器</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">          -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> system_stm32f10x.h</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> STM32F10x_StdPeriph_Driver/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">标准外设驱动</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">      -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> inc/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">头文件</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> misc.h </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">内核中的外设</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x_dac.h</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x_gpio.h</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> ...略</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">      -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> src/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">具体实现</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> ...略</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">      -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Release_Notes.html</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">-</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Project/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">官方提供的工程案例和模板，可以作为使用库函数的参考</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> STM32F10x_StdPeriph_Examples/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">案例</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> STM32F10x_StdPeriph_Template/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">模板</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> RIDE/</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> EWARM/</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> HiTOP/</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> MDK-ARM/</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> TrueSTUDIO/</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x_conf.h </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">用来配置标准外设库头文件的配置文件，同时包含一个所有库函数都需要的参数检查函数定义</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x_it.c </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">用来存放中断函数</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x_it.h</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> system_stm32f10x.c</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> main.c 主函数</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    -</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Release_Notes.html 发布说明</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">-</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Utilities/ </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">官方用于测评STM32的程序</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">-</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Release_Notes.html </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">发布说明</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">-</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stm32f10x_stdperiph_lib_um.chm </span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">帮助文档</span><span style="--shiki-light:#179299;--shiki-dark:#CE9178;">\`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>启动文件的选择——型号分类及缩写</strong></p><table><thead><tr><th style="text-align:left;">文件</th><th style="text-align:left;">缩写</th><th>释义</th><th>释义</th><th>型号</th></tr></thead><tbody><tr><td style="text-align:left;">startup_stm32f10x_ld_vl.s</td><td style="text-align:left;">LD_VL(Value Line)</td><td>小容量产品超值系列</td><td>16~32K</td><td>STM32F100</td></tr><tr><td style="text-align:left;">startup_stm32f10x_md_vl.s</td><td style="text-align:left;">MD_VL(Value Line)</td><td>中容量产品超值系列</td><td>64~128K</td><td>STM32F100</td></tr><tr><td style="text-align:left;">startup_stm32f10x_hd_vl.s</td><td style="text-align:left;">HD_VL(Value Line)</td><td>大容量产品超值系列</td><td>256~512K</td><td>STM32F100</td></tr><tr><td style="text-align:left;">startup_stm32f10x_ld.s</td><td style="text-align:left;">LD(Low Density)</td><td>小容量产品</td><td>16~32K</td><td>STM32F101/102/103</td></tr><tr><td style="text-align:left;">startup_stm32f10x_md.s</td><td style="text-align:left;">MD(Medium Density)</td><td>中容量产品</td><td>64~128K</td><td>STM32F101/102/103</td></tr><tr><td style="text-align:left;">startup_stm32f10x_hd.s</td><td style="text-align:left;">HD(High Density)</td><td>大容量产品</td><td>256~512K</td><td>STM32F101/102/103</td></tr><tr><td style="text-align:left;">startup_stm32f10x_xl.s</td><td style="text-align:left;">XL(Extra Large)</td><td>加大容量产品</td><td>大于512K</td><td>STM32F101/102/103</td></tr><tr><td style="text-align:left;">startup_stm32f10x_cl.s</td><td style="text-align:left;">CL(Connectivity Line)</td><td>互联型产品</td><td>-</td><td>STM32F105/107</td></tr></tbody></table><h2 id="rcc" tabindex="-1"><a class="header-anchor" href="#rcc"><span>RCC</span></a></h2><h3 id="基本介绍" tabindex="-1"><a class="header-anchor" href="#基本介绍"><span>基本介绍</span></a></h3><blockquote><p>RCC复位和时钟控制外设</p></blockquote><p><strong>在系统结构中的位置</strong></p><ul><li>位于AHB系统总线上</li><li><img src="`+D+'" alt="Alt text"></li></ul><p><strong>RCC相关寄存器</strong></p><ul><li>时钟控制寄存器 <code>RCC_CR</code></li><li>时钟配置寄存器<code>RCC_CFGR</code></li><li>时钟中断寄存器 <code>RCC_CIR</code></li><li>APB2 外设复位寄存器 <code>RCC_APB2RSTR</code></li><li>APB1 外设复位寄存器 <code>RCC_APB1RSTR</code></li><li><strong>AHB 外设时钟使能寄存器</strong> <code>RCC_AHBENR</code></li><li><strong>APB2 外设时钟使能寄存器</strong> <code>RCC_APB2ENR</code></li><li><strong>APB1 外设时钟使能寄存器</strong> <code>RCC_APB1ENR</code></li><li>备份域控制寄存器 <code>RCC_BDCR</code></li><li>控制/状态寄存器 <code>RCC_CSR</code></li></ul><h3 id="rcc时钟树" tabindex="-1"><a class="header-anchor" href="#rcc时钟树"><span>RCC时钟树</span></a></h3><p><strong>时钟树</strong></p><ul><li>时钟树就是STM32内部产生和配置时钟并把配置好的时钟发送到各个外设的系统。</li><li>时钟是所有外设运行的基础，所以时钟也是最先需要配置的东西</li><li>在启动文件中,main函数之前，还有一个SystemInit()函数，该函数用于配置时钟树。</li></ul><p><strong>时钟产生流程</strong></p><ul><li>AHB左侧为时钟产生电路、右侧为时钟分配电路</li><li>在时钟产生电路，有四个震荡源 <ul><li>内部8Mhz高速RC振荡器（提供系统时钟）</li><li>外部4~16Mhz高速石英晶振（提供系统时钟；一般8M）</li><li>外部32.768khz低速晶振（给RTC电路提供时钟）</li><li>内部40Khz低速RC振荡器（给看门狗提供时钟）</li></ul></li><li>高速晶振用于提供系统时钟，AHB、APB1、APB2的时钟来源</li><li>内外高速时钟的选择 <ul><li>内外的高速晶振都可使用，只是石英振荡器比RC更稳定，</li><li>系统简单、不需要精确时钟则可使用内部RC振荡器</li></ul></li><li>SystemInit()默认配置时钟的流程 <ul><li>时钟产生 <ul><li>启动内部8Mhz</li><li>选择内部时钟为系统时钟，暂时以内部8Mhz运行</li><li><img src="'+A+'" alt="Alt text"></li><li>启动外部时钟，</li><li>配置外部时钟进入PLLMUL锁相环进行倍频得到8x9=72Mhz时钟</li><li>待锁相环输出稳定后，选择锁相环输出为系统时钟。</li><li><img src="'+f+'" alt="Alt text"></li><li>这样系统时钟就从8Mhz切换到了72Mhz</li></ul></li><li>时钟分配 <ul><li>系统时钟SYSCLK（72Mhz or 8Mhz）进入AHB总线预分频器</li><li>配置的预分频器系数为1，所以AHB得到时钟为SYSCLK/1=72Mhz</li><li><img src="'+u+'" alt="Alt text"></li><li>AHB得到的时钟再分配给<code>APB1</code>总线预分频器</li><li>配置的预分频器系数为2，所以APB1得到时钟为SYSCLK/2=36Mhz</li><li><img src="'+m+'" alt="Alt text"></li></ul></li><li>经过APB1预分频器后得到的时钟会再分配给通用定时器和基本定时器（定时器2~7） <ul><li>分配之前会做判断， <ul><li>APB1预分配系数为1则直接分配，</li><li>否则x2再分配<code>（这里就是这种情况）</code></li><li>保证定时器得到的系统时钟为72Mhz</li></ul></li><li><img src="'+v+'" alt="Alt text"></li></ul></li><li>AHB得到的时钟再分配给<code>APB2</code>总线内部预分频器</li><li>配置的预分频器系数为1，所以APB2得到时钟为SYSCLK/1=72Mhz</li><li><img src="'+_+'" alt="Alt text"></li><li>经过APB2预分配器后得到的时钟最终会送至高级定时器定时器1和8 <ul><li>分配之前会做判断， <ul><li>APB2预分配系数为1则直接分配，<code>（这里就是这种情况）</code></li><li>否则x2再分配</li><li>保证定时器得到的系统时钟为72Mhz</li></ul></li><li><img src="'+b+'" alt="Alt text"></li></ul></li></ul></li></ul><p><strong>可能出现的问题</strong></p><blockquote><p>如果外部时钟出现问题，那么系统时钟就无法从8Mhz切换到72Mhz，系统时钟就比预期慢了9倍，定时1秒，实际为9秒。</p></blockquote><p><strong>CSS(Clock Security System-时钟安全系统)</strong></p><ul><li>负责检测外部运行状态，</li><li>当外部时钟失效，就把外部时钟切换为内部时钟</li><li>在高级定时器中， <ul><li>当CSS检测到外部时钟失效时，</li><li>将发送一个时钟失效事件给高级定时器的刹车控制电路，</li><li>控制输出比较电路控制的电机立即停止，防止出现意外。</li></ul></li></ul><p><img src="'+B+'" alt="Alt text"></p><h3 id="标准库函数" tabindex="-1"><a class="header-anchor" href="#标准库函数"><span>标准库函数</span></a></h3><p><strong>RCC外设所有函数功能描述</strong></p><blockquote><p>感觉大概知道下有哪些功能就行了</p></blockquote><table><thead><tr><th style="text-align:left;">函数名 (加粗表示常用)</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">RCC_DeInit</td><td style="text-align:left;">将外设 RCC 寄存器重设为缺省值</td></tr><tr><td style="text-align:left;">RCC_HSEConfig</td><td style="text-align:left;">设置外部高速晶振（HSE）</td></tr><tr><td style="text-align:left;">RCC_WaitForHSEStartUp</td><td style="text-align:left;">等待 HSE 起振</td></tr><tr><td style="text-align:left;">RCC_AdjustHSICalibrationValue</td><td style="text-align:left;">调整内部高速晶振（HSI）校准值</td></tr><tr><td style="text-align:left;">RCC_HSICmd</td><td style="text-align:left;">使能或者失能内部高速晶振（HSI）</td></tr><tr><td style="text-align:left;">RCC_PLLConfig</td><td style="text-align:left;">设置 PLL 时钟源及倍频系数</td></tr><tr><td style="text-align:left;">RCC_PLLCmd</td><td style="text-align:left;">使能或者失能 PLL</td></tr><tr><td style="text-align:left;">RCC_SYSCLKConfig</td><td style="text-align:left;">设置系统时钟（SYSCLK）</td></tr><tr><td style="text-align:left;">RCC_GetSYSCLKSource</td><td style="text-align:left;">返回用作系统时钟的时钟源</td></tr><tr><td style="text-align:left;">RCC_HCLKConfig</td><td style="text-align:left;">设置 AHB 时钟（HCLK）</td></tr><tr><td style="text-align:left;">RCC_PCLK1Config</td><td style="text-align:left;">设置低速 AHB 时钟（PCLK1）</td></tr><tr><td style="text-align:left;">RCC_PCLK2Config</td><td style="text-align:left;">设置高速 AHB 时钟（PCLK2）</td></tr><tr><td style="text-align:left;">RCC_ITConfig</td><td style="text-align:left;">使能或者失能指定的 RCC 中断</td></tr><tr><td style="text-align:left;">RCC_USBCLKConfig</td><td style="text-align:left;">设置 USB 时钟（USBCLK）</td></tr><tr><td style="text-align:left;">RCC_ADCCLKConfig</td><td style="text-align:left;">设置 ADC 时钟（ADCCLK）</td></tr><tr><td style="text-align:left;">RCC_LSEConfig</td><td style="text-align:left;">设置外部低速晶振（LSE）</td></tr><tr><td style="text-align:left;">RCC_LSICmd</td><td style="text-align:left;">使能或者失能内部低速晶振（LSI）</td></tr><tr><td style="text-align:left;">RCC_RTCCLKConfig</td><td style="text-align:left;">设置 RTC 时钟（RTCCLK）</td></tr><tr><td style="text-align:left;">RCC_RTCCLKCmd</td><td style="text-align:left;">使能或者失能 RTC 时钟</td></tr><tr><td style="text-align:left;">RCC_GetClocksFreq</td><td style="text-align:left;">返回不同片上时钟的频率</td></tr><tr><td style="text-align:left;"><strong>RCC_AHBPeriphClockCmd</strong></td><td style="text-align:left;">使能或者失能 AHB 外设时钟</td></tr><tr><td style="text-align:left;"><strong>RCC_APB2PeriphClockCmd</strong></td><td style="text-align:left;">使能或者失能 APB2 外设时钟</td></tr><tr><td style="text-align:left;"><strong>RCC_APB1PeriphClockCmd</strong></td><td style="text-align:left;">使能或者失能 APB1 外设时钟</td></tr><tr><td style="text-align:left;">RCC_APB2PeriphResetCmd</td><td style="text-align:left;">强制或者释放高速 APB（APB2）外设复位</td></tr><tr><td style="text-align:left;">RCC_APB1PeriphResetCmd</td><td style="text-align:left;">强制或者释放低速 APB（APB1）外设复位</td></tr><tr><td style="text-align:left;">RCC_BackupResetCmd</td><td style="text-align:left;">强制或者释放后备域复位</td></tr><tr><td style="text-align:left;">RCC_ClockSecuritySystemCmd</td><td style="text-align:left;">使能或者失能时钟安全系统</td></tr><tr><td style="text-align:left;">RCC_MCOConfig</td><td style="text-align:left;">选择在 MCO 管脚上输出的时钟源</td></tr><tr><td style="text-align:left;">RCC_GetFlagStatus</td><td style="text-align:left;">检查指定的 RCC 标志位设置与否</td></tr><tr><td style="text-align:left;">RCC_ClearFlag</td><td style="text-align:left;">清除 RCC 的复位标志位</td></tr><tr><td style="text-align:left;">RCC_GetITStatus</td><td style="text-align:left;">检查指定的 RCC 中断发生与否</td></tr><tr><td style="text-align:left;">RCC_ClearITPendingBit</td><td style="text-align:left;">清除 RCC 的中断待处理位</td></tr></tbody></table><h2 id="gpio" tabindex="-1"><a class="header-anchor" href="#gpio"><span>GPIO</span></a></h2><h3 id="基本介绍-1" tabindex="-1"><a class="header-anchor" href="#基本介绍-1"><span>基本介绍</span></a></h3><ul><li>GPIO（General Purpose Input Output）通用输入输出口</li><li>可配置为8种输入输出模式</li><li>引脚电平：0V~3.3V，部分引脚可容忍5V</li><li>输出模式下可控制端口输出高低电平</li><li>输入模式下可读取端口的高低电平或电压</li></ul><p><strong>GPIO基本结构</strong></p><ul><li>这里的寄存器实际上共有7个 <ul><li>32bit配置寄存器x2 <code>GPIOx_CRL</code> <code>GPIOx_CRH</code> (4bit x 16 = 64bit)</li><li>32bit配置锁定寄存器x1 <code>GPIOx_LCKR</code></li><li>32bit数据寄存器x2 <code>GPIOx_IDR</code> <code>GPIOx_ODR</code> (输入/输出)</li><li>32bit置位/复位寄存器x1 <code>GPIOx_BSRR</code> (低16bit置位，高16bit复位) (可用于设置某位的同时清除另一位)</li><li>16bit复位寄存器x1 <code>GPIOx_BRR</code> (低16bit复位)</li></ul></li><li><img src="'+I+'" alt="Alt text"></li></ul><p><strong>GPIO位结构</strong></p><ul><li>这里值得注意的一些点： <ul><li>对<code>输出数据寄存器</code>操作会影响16个端口</li><li>对<code>位设置/清除寄存器</code>操作只影响具体的位</li><li>复用功能输入实际上是数字信号</li><li>GPIO模式决定了上拉电阻和下拉电阻是否启用，以及上下MOS管是否受控。</li></ul></li><li><img src="'+S+'" alt="Alt text"></li></ul><p><strong>八种GPIO模式</strong></p><table><thead><tr><th style="text-align:center;">模式名称</th><th style="text-align:center;">性质</th><th style="text-align:left;">特征</th></tr></thead><tbody><tr><td style="text-align:center;">浮空输入</td><td style="text-align:center;"><strong>数字输入</strong></td><td style="text-align:left;">可读取引脚电平，若引脚悬空，则电平不确定</td></tr><tr><td style="text-align:center;">上拉输入</td><td style="text-align:center;"><strong>数字输入</strong></td><td style="text-align:left;">可读取引脚电平，内部连接上拉电阻，悬空时默认高电平</td></tr><tr><td style="text-align:center;">下拉输入</td><td style="text-align:center;"><strong>数字输入</strong></td><td style="text-align:left;">可读取引脚电平，内部连接下拉电阻，悬空时默认低电平</td></tr><tr><td style="text-align:center;">模拟输入</td><td style="text-align:center;"><strong>模拟输入</strong></td><td style="text-align:left;">GPIO无效，引脚直接接入内部ADC</td></tr><tr><td style="text-align:center;">开漏输出</td><td style="text-align:center;"><code>数字输出</code></td><td style="text-align:left;">可输出引脚电平，高电平为高阻态，低电平接VSS</td></tr><tr><td style="text-align:center;">推挽输出</td><td style="text-align:center;"><code>数字输出</code></td><td style="text-align:left;">可输出引脚电平，高电平接VDD，低电平接VSS</td></tr><tr><td style="text-align:center;">复用开漏输出</td><td style="text-align:center;"><code>数字输出</code></td><td style="text-align:left;">由片上外设控制，高电平为高阻态，低电平接VSS</td></tr><tr><td style="text-align:center;">复用推挽输出</td><td style="text-align:center;"><code>数字输出</code></td><td style="text-align:left;">由片上外设控制，高电平接VDD，低电平接VSS</td></tr></tbody></table><p><strong>数字输入模式电路</strong></p><ul><li>特点 <ul><li>无法输出</li><li>浮空输入 上下拉电阻失效 电平不确定</li><li>上拉输入 上拉电阻有效 默认高电平</li><li>下拉输入 下拉电阻有效 默认低电平</li></ul></li><li><img src="'+P+'" alt="Alt text"></li></ul><p><strong>模拟输入模式电路</strong></p><ul><li>特点 <ul><li>肖特基触发器关闭，无法读取数字输入信号</li><li>输出电路断开，无法输出信号</li><li>引脚信号直接接入ADC</li></ul></li><li><img src="'+T+'" alt="Alt text"></li></ul><p><strong>数字输出模式电路</strong></p><ul><li>特点 <ul><li>上管无效为开漏输出</li><li>上下管都有效为推挽输出</li><li>肖特基触发器开启，可以读取到数字输入</li></ul></li><li><img src="'+x+'" alt="Alt text"></li></ul><p><strong>复用输出模式</strong></p><ul><li>特点 <ul><li>输出的控制权转交给片上外设</li><li>肖特基触发器开启，仍然能够读取数字输入</li></ul></li><li><img src="'+R+`" alt="Alt text"></li></ul><h3 id="案例代码-点灯" tabindex="-1"><a class="header-anchor" href="#案例代码-点灯"><span>案例代码：点灯</span></a></h3><p><strong>步骤</strong></p><ul><li>配置RCC外设开启相关端口的时钟</li><li>配置GPIO口输出模式</li><li>输出</li></ul><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USE_STDPERIPH_DRIVER</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;stm32f10x.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 1.启用APB2_GPIOC外设时钟</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    RCC_APB2PeriphClockCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">RCC_APB2Periph_GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ENABLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 2.初始化GPIOC_13 为推挽输出、速度50MHz</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    GPIO_InitTypeDef GPIO_InitStruct </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_Pin_13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Speed_50MHz</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Mode_Out_PP</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">};</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    GPIO_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> &amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 3.设置输出低电平</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    GPIO_WriteBit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_Pin_13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Bit_RESET</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="中断与nvic" tabindex="-1"><a class="header-anchor" href="#中断与nvic"><span>中断与NVIC</span></a></h2><h3 id="基本介绍-2" tabindex="-1"><a class="header-anchor" href="#基本介绍-2"><span>基本介绍</span></a></h3><ul><li><strong>中断：</strong> 在主程序运行过程中，出现了特定的<strong>中断触发条件</strong>（中断源），使得CPU暂停当前正在运行的程序，转而去处理<strong>中断程序</strong>，处理完成后又返回原来被暂停的位置继续运行</li><li><strong>中断优先级：</strong> 当有多个中断源同时申请中断时，CPU会根据中断源的轻重缓急进行裁决，优先响应更加紧急的中断源</li><li><strong>中断嵌套：</strong> 当一个中断程序正在运行时，又有新的更高优先级的中断源申请中断，CPU再次暂停当前中断程序，转而去处理新的中断程序，处理完成后依次进行返回</li></ul><p><strong>中断执行流程</strong></p><p><img src="`+M+'" alt="Alt text"></p><h3 id="stm32的中断" tabindex="-1"><a class="header-anchor" href="#stm32的中断"><span>STM32的中断</span></a></h3><p><strong>介绍</strong></p><ul><li>68个可屏蔽中断通道，包含EXTI、TIM、ADC、USART、SPI、I2C、RTC等多个外设</li><li>使用<strong>NVIC</strong>统一管理中断，每个中断通道都拥有<strong>16</strong>个可编程的优先等级，可对优先级进行分组，进一步设置抢占优先级和响应优先级</li></ul><p><strong>NVIC-嵌套中断向量控制器</strong></p><ul><li>是统一分配中断优先级和管理中断的<strong>内核外设</strong>，</li><li>负责根据中断的优先级决定中断的先后顺序，</li><li>以及是否要嵌套处理新的中断。</li><li><img src="'+O+'" alt="Alt text"></li></ul><p><strong>NVIC优先级分组</strong></p><ul><li>分组 <ul><li>NVIC的中断优先级由优先级寄存器的4位决定（共16个优先级）</li><li>这4位可以进行切分，分为</li><li>高n位的<strong>抢占优先级</strong>和</li><li>低(4-n)位的<strong>响应优先级</strong></li></ul></li><li>优先级 <ul><li><code>抢占优先级高的可以中断嵌套，</code></li><li><code>响应优先级高的可以优先排队，</code></li><li><code>抢占优先级和响应优先级均相同的按中断号排队</code></li></ul></li></ul><table><thead><tr><th style="text-align:center;">分组方式</th><th style="text-align:center;">抢占优先级</th><th style="text-align:center;">响应优先级</th></tr></thead><tbody><tr><td style="text-align:center;">分组0</td><td style="text-align:center;">0位，取值为0</td><td style="text-align:center;">4位，取值为0~15</td></tr><tr><td style="text-align:center;">分组1</td><td style="text-align:center;">1位，取值为0~1</td><td style="text-align:center;">3位，取值为0~7</td></tr><tr><td style="text-align:center;">分组2</td><td style="text-align:center;">2位，取值为0~3</td><td style="text-align:center;">2位，取值为0~3</td></tr><tr><td style="text-align:center;">分组3</td><td style="text-align:center;">3位，取值为0~7</td><td style="text-align:center;">1位，取值为0~1</td></tr><tr><td style="text-align:center;">分组4</td><td style="text-align:center;">4位，取值为0~15</td><td style="text-align:center;">0位，取值为0</td></tr></tbody></table><p><strong>STM32中断向量表</strong></p><ul><li>分类 <ul><li>灰色的都是内核的中断，一般用不到。 <ul><li>Reset复位中断，当产生复位事件时程序就会自动执行复位中断。</li></ul></li><li>其余部分为外设中断</li></ul></li><li>中断地址 <ul><li>外设申请中断时，会跳转到相应的中断地址执行程序</li><li>而中断跳转只能跳转到固定的地址</li><li>用户定义的中断处理函数在编译器编译后，其地址是不固定的</li><li>这就需要在跳转到中断地址后再次跳转到用户定义的中断函数，这部分工作将会由编译器自动完成（定义在了setup汇编文件中）。</li></ul></li><li><img src="'+L+'" alt="Alt text"></li></ul><h3 id="exti外部中断" tabindex="-1"><a class="header-anchor" href="#exti外部中断"><span>EXTI外部中断</span></a></h3><p><strong>介绍</strong></p><ul><li>EXTI（Extern Interrupt）外部中断</li><li><code>EXTI可以监测指定GPIO口的电平信号，当其指定的GPIO口产生电平变化时，EXTI将立即向NVIC发出中断申请，经过NVIC裁决后即可中断CPU主程序，使CPU执行EXTI对应的中断程序</code></li><li>支持的触发方式： <ul><li>上升沿</li><li>下降沿</li><li>双边沿</li><li>软件触发</li></ul></li><li>支持的GPIO口： <ul><li><strong>所有GPIO口</strong></li><li>但<strong>相同的Pin不能同时触发中断</strong>,就是说PA0和PB0不能同时作为中断触发源</li></ul></li><li>通道数（<strong>共20个通道</strong>）： <ul><li>16个GPIO_Pin</li><li>外加PVD输出</li><li>RTC闹钟</li><li>USB唤醒</li><li>以太网唤醒</li></ul></li><li>触发响应方式： <ul><li>中断响应：通道电压变化，申请中断，让CPU执行中断函数</li><li>事件响应：通道电压变化，触发事件，触发其他外设的操作</li></ul></li><li><strong>EXTI基本结构</strong><ul><li><img src="'+G+'" alt="Alt text"></li></ul></li></ul><p><strong>EXTI外部中断框图</strong></p><ul><li>下图左侧的输入线就是20个外部中断通道</li><li><strong>边沿检测电路</strong>根据<strong>上升沿触发选择寄存器</strong>和<strong>下降沿触发选择寄存器</strong>的值</li><li>决定输出到或门的值，然后输出到<strong>请求挂起寄存器</strong>，然后再输出至后续的与门。</li><li><strong>中断屏蔽寄存器</strong>就相当于是这个与门的开关，决定了中断信号能否发送至后续的NVIC</li><li>从或门输出的信号还将经过脉冲发生器，用来触发其他外设</li><li><img src="'+W+'" alt="Alt text"></li></ul><p><strong>AFIO中断引脚选择</strong></p><ul><li>AFIO主要用于引脚复用功能的选择和重定义</li><li>在STM32中，AFIO主要完成两个任务： <ul><li>复用功能引脚重映射</li><li><strong>中断引脚选择</strong></li></ul></li><li>下图的主要意思就是<strong>EXTIO只能是PA0~PG0中的其中一个</strong>，具体选择哪一个，由AFIO来控制</li><li><img src="'+N+`" alt="Alt text"></li></ul><h3 id="案例代码-光电计数器触发外部中断" tabindex="-1"><a class="header-anchor" href="#案例代码-光电计数器触发外部中断"><span>案例代码：光电计数器触发外部中断</span></a></h3><p><strong>基本步骤</strong></p><ol><li>开启GPIOx时钟</li><li>配置GPIOx_Pinx</li><li>开启AFIO时钟</li><li>配置AFIO，使GPIOx_Pinx通向 EXTIx中断信号</li><li>配置EXTI，启用EXTI_Linex</li><li>配置NVIC,设置EXTIxx_IRQn中断函数优先级</li><li>定义中断函数EXTIxx_IRQn <ul><li>在中断执行完毕后清除请求挂起寄存器对应的位</li></ul></li></ol><p><strong>配置GPIO_G_Pin_13口外部中断的示例代码</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;stm32f10x.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;stdint.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;CountSensor.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> * </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">@ref</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> 初始化光电计数器</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> */</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CountSensor_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * 配置GPIO</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 开启APB2_GPIO_C外设时钟</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    RCC_APB2PeriphClockCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">RCC_APB2Periph_GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ENABLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 初始化GPIO_C13为上拉输入模式</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    GPIO_InitTypeDef GPIO_InitStruct </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_Pin_13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Speed_50MHz</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_Mode_IPU</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">};</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    GPIO_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> &amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * 配置AFIO</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * AFIO用于配置引脚复用功能重映射 中断引脚</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 开启APB2_AFIO外设时钟</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    RCC_APB2PeriphClockCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">RCC_APB2Periph_AFIO</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ENABLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 配置AFIO的数据选择器联通GPIO_C13到EXTI电路</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    GPIO_EXTILineConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">GPIO_PortSourceGPIOC</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> GPIO_PinSource13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * 配置EXTI</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // EXTI外设时钟默认开启</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 配置EXTI</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    EXTI_InitTypeDef EXTI_InitStruct </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        EXTI_Line13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">          // 配置EXTI_Line13</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        EXTI_Mode_Interrupt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  // 中断模式</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        EXTI_Trigger_Falling</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 下降沿触发</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        ENABLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">               // 启用</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    };</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    EXTI_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">EXTI_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     * 配置NVCI</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // NVCI是内核外设，时钟默认开启</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 通过NVIC寄存器配置优先级分组（先占优先级和从占优先级）</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    NVIC_PriorityGroupConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">NVIC_PriorityGroup_2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 配置EXTI15_10_IRQn中断的优先级</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    NVIC_InitTypeDef NVIC_InitStruct </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        EXTI15_10_IRQn</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">        0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 先占优先级</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">        0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 从占优先级</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        ENABLE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    };</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    NVIC_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">NVIC_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> counter </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CountSensor_GetCounter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> counter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/**</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> * </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">@ref</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> 重写中断回调</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> */</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> EXTI15_10_IRQHandler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 获取EXTI状态</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">EXTI_GetITStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">EXTI_Line13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> SET</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        counter</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        // 清除中断请求挂起寄存器相应的位</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        EXTI_ClearITPendingBit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">EXTI_Line13</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tim定时器" tabindex="-1"><a class="header-anchor" href="#tim定时器"><span>TIM定时器</span></a></h2><h3 id="概念" tabindex="-1"><a class="header-anchor" href="#概念"><span>概念</span></a></h3><ul><li>TIM（Timer）定时器</li><li>定时器可以对<strong>输入的时钟</strong>进行<strong>计数</strong>，并在计数值达到设定值时触发中断 <ul><li><strong>输入时钟可以是系统时钟、外部输入</strong></li><li><strong>对高精度时钟计数，实际就是计时</strong><ul><li>对系统时钟72Mhz计数72次，就是1us</li></ul></li></ul></li><li>由<strong>预分频器</strong>、<strong>16位计数器</strong>、<strong>自动重装寄存器</strong>组成的时基单元，在72MHz计数时钟下可以实现最大59.65s的定时 <ul><li><strong>预分频器</strong>，可以对时钟进行分频，</li><li><strong>16位计数器</strong>,用来执行计数定时的计数器，每来一个时钟，计数器加1</li><li>单个定时器最大定时时长： <code>(1/72Mhz) * 65536 * 65536 = 59.65232355555556 s</code></li><li>两个定时器级联最大定时时长：<code>59.65s * 65536 * 65536 ≈ 8千多年</code></li><li>三个定时器级联最大定时时长：<code>8K * 65536 * 65536 ≈ 34万亿年</code></li></ul></li><li>具备基本的<strong>定时中断功能</strong>，而且还包含<strong>内外时钟源选择</strong>、<strong>输入捕获</strong>、<strong>输出比较</strong>、编码器接口、主从触发模式等多种功能</li><li>根据复杂度和应用场景分为了<strong>高级定时器</strong>、<strong>通用定时器</strong>、<strong>基本定时器</strong>三种类型</li></ul><p><strong>定时器类型</strong></p><blockquote><p>STM32F103C8T6定时器资源：TIM1、TIM2、TIM3、TIM4</p></blockquote><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">编号</th><th style="text-align:left;">总线</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:left;">高级定时器</td><td style="text-align:left;">TIM1、TIM8</td><td style="text-align:left;">APB2</td><td style="text-align:left;">拥有通用定时器全部功能，并额外具有重复计数器、死区生成、互补输出、刹车输入等功能</td></tr><tr><td style="text-align:left;">通用定时器</td><td style="text-align:left;">TIM2、TIM3、TIM4、TIM5</td><td style="text-align:left;">APB1</td><td style="text-align:left;">拥有基本定时器全部功能，并额外具有内外时钟源选择、输入捕获、输出比较、编码器接口、主从触发模式等功能</td></tr><tr><td style="text-align:left;">基本定时器</td><td style="text-align:left;">TIM6、TIM7</td><td style="text-align:left;">APB1</td><td style="text-align:left;">拥有定时中断、主模式触发DAC的功能</td></tr></tbody></table><h3 id="基本定时器" tabindex="-1"><a class="header-anchor" href="#基本定时器"><span>基本定时器</span></a></h3><p><strong>基本定时器框图</strong></p><ul><li><strong><code>CK_PSC</code>时钟：</strong> 一般直接使用<code>CK_INT</code>（内部时钟72Mhz）作为定时器时钟</li><li><strong>时基单元：</strong> 预分频器+计数器+自动重装寄存器 <ul><li><strong>预分频器：</strong> 对时钟进行降频 <ul><li>写0 输出 72/1 Mhz （不分频/也叫1分频）</li><li>写1 输出 72/2 Mhz （2分频）</li><li>写2 输出 72/3 Mhz （3分频）</li><li>......</li><li>写n 输出 72/(n+1) Mhz （n+1分频）</li></ul></li><li><strong>计数器：</strong> 对预分频器输出的方波上升沿计数，计数就是计数器值+1 <ul><li>对于基本定时器，计数器只有向上计数模式</li></ul></li><li><strong>自动重装寄存器：</strong> 当计数器数值达到自动重装值时，产生中断信号并清零计时器 <ul><li>下图中向上的折现箭头就是中断信号，这种计数值等于重装值的中断一般称为更新中断，该中断信号会通往NVIC，配置好NVIC的定时器通道，那么定时器的更新中断就能得到CPU的响应</li><li>向下的折现表示会产生一个事件，这里就是更新事件，不会触发中断，但可用于触发内部其他电路工作，可以实现一种不需要CPU直接参与的自动化任务。</li></ul></li></ul></li><li><strong>主模式触发DAC:</strong> 可以把定时器的更新事件，映射到TRGO（Trigger Oout）触发输出，然后再接到DAC的触发转换引脚上，实现定时触发DAC转换输出模拟量，不需要CPU参与，实现硬件自动化</li><li><img src="`+U+'" alt="Alt text"></li></ul><h3 id="通用定时器" tabindex="-1"><a class="header-anchor" href="#通用定时器"><span>通用定时器</span></a></h3><p><strong>通用定时器框图</strong></p><ul><li><p><strong>时基单元</strong>: 没有改变，和<strong>基本定时器</strong>一样</p><ul><li><strong>计数器：</strong><ul><li>对于通用寄存器和高级寄存器，计数器支持向上计数、向下计数，中央对齐计数</li></ul></li></ul></li><li><p><code>CK_PSC</code><strong>时钟</strong></p><ul><li><code>CK_INT 内部时钟</code><ul><li>可直接使用内部时钟72Mhz作为定时器时钟</li></ul></li><li><code>CK_PSC 外部时钟模式2</code><ul><li>可以把ETR（TIMx_ETR）外部时钟引脚信号作为定时器时钟；如：TIM2_CH1_ETR引脚</li><li>需要配置边沿检测、分配器</li><li>可以用来对外部时钟引脚上的信号计数</li></ul></li><li><code>TRGI 外部时钟模式1</code><ul><li>TRGI主要作为触发输入使用，可以触发定时器的从模式</li><li>也可以用来作为定时器的外部时钟输入信号 <ul><li><code>ITRx</code> 是来自其他定时器的触发输出 用于实现定时器的级联 <ul><li>具体来说， <ul><li>可以初始化TIM3,主模式，更新事件映射到TRGO;</li><li>初始化TIM2,选择ITR2（也就是TIM3的TRGO）,外部时钟模式1，作为定时器的时钟信号。</li></ul></li><li><img src="'+w+'" alt="Alt text"></li></ul></li><li><code>TI1F_ED</code> 连接的是输入捕获单元的CH1引脚，ED表示边沿触发，上升沿和下降沿均有效 <ul><li>可用于输入捕获，测频率</li></ul></li><li><code>TI1FP1</code> CH1引脚的时钟</li><li><code>TI1FP2</code> CH2引脚的时钟</li></ul></li></ul></li></ul></li><li><p>编码器接口：可用于读取正交编码器的输出波形</p></li><li><p><code>TRGO</code>触发输出：</p><ul><li>可以把定时器内部的一些事件映射到该接口</li></ul></li><li><p><code>捕获/比较电路</code></p><ul><li>四个捕获/比较电路寄存器，及其<strong>左侧</strong>的电路称为<strong>输入捕获电路</strong>，可用于<strong>测量方波频率</strong></li><li>四个捕获/比较电路寄存器，及其<strong>右侧</strong>的电路称为<strong>输出比较电路</strong>，可用于<strong>输出PWM波形</strong></li><li>输入捕获电路 和 输出比较电路 <strong>共用引脚和寄存器</strong>，<strong>不能同时使用</strong></li></ul></li><li><p><img src="'+H+'" alt="Alt text"></p></li></ul><h3 id="高级定时器" tabindex="-1"><a class="header-anchor" href="#高级定时器"><span>高级定时器</span></a></h3><p><strong>高级定时器框图</strong></p><ul><li>对比高级定时器框图，新增的部分为右下角的一圈电路 <ul><li><code>重复计数器</code>：实现每隔几个计数周期触发中断和更新事件，相当于对输出的更新信号又做了分频</li><li><strong>DTG(Dead Time Generate四驱时间生成)寄存器</strong>，用于控制输出上下互补的PWM波，为了防止输出的互补PWM波驱动MOS管时，在开关切换的瞬间，由于器件的不理想，导致短暂的上下管都导通的情况发生，所以这里添加了死区生成电路，实现在上管完全关闭时，再开启下管。</li><li><strong>输出控制</strong>，用于输出两个上下互补的PWM波形，用于控制三相电机，第四路由于用不到，所以只有一根线。</li><li><code>BRK刹车输入功能</code>：当从外部引脚BKIN得到刹车信号时，或者时钟信号失效事件发生时，控制电路将自动切断电机的输出，防止意外发生。</li></ul></li><li><img src="'+K+'" alt="Alt text"></li></ul><h3 id="时基单元" tabindex="-1"><a class="header-anchor" href="#时基单元"><span>时基单元</span></a></h3><p><strong>延迟更新的预分频器</strong></p><ul><li>一句话总结：修改预分频器参数时，不会立即生效，而是会在计数器达到目标值后，产生更新事件，进入下一轮计数时生效。</li><li>时序过程 <ul><li><code>预分频控制寄存器</code>是供读写的寄存器，不直接决定分频系数，</li><li><code>预分频缓存器</code>是真正决定预分频参数的寄存器</li><li>在一个计数的过程中，用户对<code>预分频控制寄存器</code>写入分频系数，写入的分频系数不生效，<strong>计数频率将保持不变</strong>，</li><li>直到本轮计数完成，更新事件产生，该系数才会写入<code>预分频缓存器</code>，进入下一轮计数时，写入的分频系数生效,<strong>计数频率才会改变</strong>。</li><li><img src="'+z+'" alt="Alt text"></li><li><code>计数器计数频率CK_CN</code></li><li><code>= CK_PSC定时器时钟/(PSC预分频器系数 + 1)</code></li></ul></li><li>这里的预分频缓冲器，是为了防止计数中途更改数值造成错误而设计的。</li></ul><p><strong>更新事件的产生时序</strong></p><ul><li>一句话总结：更新事件不是在计数器达到目标时立即产生的，而是在达到目标值后的下一个定时器周期，计数器溢出时产生的。</li><li><img src="'+V+'" alt="Alt text"></li><li><code>计数器溢出频率CK_CNT_OV</code><ul><li><code>= CK_CNT计数器/(ARR自动重装寄存器+1)</code></li><li><code>= [CK_PSC定时器时钟/(PSC预分频器系数+1)]/(ARR自动重装寄存器+1)</code></li></ul></li><li>更新中断标志置1后，会申请中断，在中断处理函数中需要手动清除该标志位。</li><li>这里的ARR自动重装寄存器，也有一个缓冲寄存器，或者叫影子寄存器，是否使用是可以设置的。当使用时，会有和预分频器一样延迟生效的作用。 <ul><li><img src="'+X+'" alt="Alt text"></li></ul></li></ul><h3 id="输出比较" tabindex="-1"><a class="header-anchor" href="#输出比较"><span>输出比较</span></a></h3><p><strong>OC（Output Compare）输出比较</strong></p><ul><li>输出比较可以通过比较<code>CNT计数器</code>与<code>CCR捕获比较寄存器</code>值的关系，来对输出电平进行置1、置0或翻转的操作，</li><li>用于输出一定频率和占空比的PWM波形。</li><li>每个高级定时器和通用定时器都拥有4个输出比较通道</li><li>高级定时器的前3个通道额外拥有死区生成和互补输出的功能</li><li><img src="'+Q+'" alt="Alt text"></li><li>tips <ul><li>OC（Output Compare）输出比较</li><li>IC（Input Compare）输入比较</li><li>CC (Capture Compare) 输入捕获和输出比较的单元</li></ul></li></ul><p><strong>PWM</strong></p><ul><li>PWM（Pulse Width Modulation）脉冲宽度调制</li><li>在<strong>具有惯性的系统</strong>中，可以通过对一系列脉冲的宽度进行调制，来等效地获得所需要的模拟参量，常应用于电机控速等领域</li><li>PWM参数： <ul><li>频率 = 1 / TS <ul><li>一般为几k~几十khz</li></ul></li><li>占空比 = TON / TS</li><li>分辨率 = 占空比变化步距 <ul><li>形容的是占空比的精度 <ul><li>比如 1% 2% 3% 分辨率为1%</li><li>比如 1.1% 1.2% 1.3% 分辨率为0.1%</li></ul></li></ul></li></ul></li><li><img src="'+q+'" alt="Alt text"></li></ul><p><strong>捕获比较通道输出部分</strong></p><ul><li><code>OC1M[2:0]</code> 负责控制输出模式控制器的输出逻辑</li><li><code>CC1P</code> 用于实现极性选择的控制，用来实现波形的翻转</li><li><code>CC1E</code> 输出使能</li><li>通用定时器的比较输出通道 <ul><li><img src="'+Y+'" alt="Alt text"></li><li><img src="'+j+'" alt="Alt text"></li></ul></li><li>高级定时器的比较输出通道 <ul><li>相比于通用定时器，多了一个互补的输出端口，用于控制上下MOS管的导通与截止。</li><li>死区生成电路用来防止上下管同时导通，防止上下管截至时，由于器件的不理想导致不完全截至，而同时另一个管又导通，这将使得上下管同时导通发生短路。</li><li><img src="'+Z+'" alt="Alt text"></li></ul></li></ul><p><strong>输出模式控制器的模式选择</strong></p><table><thead><tr><th style="text-align:left;">模式</th><th style="text-align:left;">描述</th><th style="text-align:left;">笔记</th></tr></thead><tbody><tr><td style="text-align:left;">冻结</td><td style="text-align:left;">CNT=CCR时，REF保持为原状态</td><td style="text-align:left;">（输出保持不变）</td></tr><tr><td style="text-align:left;">匹配时置有效电平</td><td style="text-align:left;">CNT=CCR时，REF置有效电平</td><td style="text-align:left;">（输出保持高电平）</td></tr><tr><td style="text-align:left;">匹配时置无效电平</td><td style="text-align:left;">CNT=CCR时，REF置无效电平</td><td style="text-align:left;">（输出保持低电平）</td></tr><tr><td style="text-align:left;">匹配时电平翻转</td><td style="text-align:left;">CNT=CCR时，REF电平翻转</td><td style="text-align:left;">（输出50%PWM方波，频率为计数频率的一半） <img src="'+J+'" alt="Alt text"></td></tr><tr><td style="text-align:left;">强制为无效电平</td><td style="text-align:left;">CNT与CCR无效，REF强制为无效电平</td><td style="text-align:left;">（强制输出低电平）</td></tr><tr><td style="text-align:left;">强制为有效电平</td><td style="text-align:left;">CNT与CCR无效，REF强制为有效电平</td><td style="text-align:left;">（强制输出高电平）</td></tr><tr><td style="text-align:left;">PWM模式1</td><td style="text-align:left;">向上计数：CNT&lt;CCR时，REF置有效电平，CNT≥CCR时，REF置无效电平 <br> 向下计数：CNT &gt;CCR时，REF置无效电平，CNT≤CCR时，REF置有效电平</td><td style="text-align:left;"><img src="'+$+'" alt="Alt text"></td></tr><tr><td style="text-align:left;">PWM模式2</td><td style="text-align:left;">向上计数：CNT&lt;CCR时，REF置无效电平，CNT≥CCR时，REF置有效电平 <br> 向下计数：CNT &gt;CCR时，REF置有效电平，CNT≤CCR时，REF置无效电平</td><td style="text-align:left;">PWM模式的取反</td></tr></tbody></table><p><strong>PWM模式1的输出波形</strong></p><p><img src="'+ii+'" alt="Alt text"><br><img src="'+si+'" alt="Alt text"></p><h3 id="输入比较" tabindex="-1"><a class="header-anchor" href="#输入比较"><span>输入比较</span></a></h3><p><strong>IC（Input Capture）输入捕获</strong></p><ul><li>输入捕获模式下，当通道输入引脚出现指定电平跳变时，当前CNT的值将被锁存到CCR中，</li><li>可用于测量PWM波形的频率、占空比、脉冲间隔、电平持续时间等参数。</li><li><img src="'+li+'" alt="Alt text"></li><li>每个高级定时器和通用定时器都拥有4个输入捕获通道</li><li>可配置为PWMI模式，同时测量频率和占空比</li><li>可配合主从触发模式（主模式、从模式），实现硬件全自动测量</li></ul><p><strong>框图详解</strong></p><ul><li><img src="'+ti+'" alt="Alt text"></li><li><strong>异或门</strong><ul><li>在当三个输入引脚电平发生翻转时输出引脚产生一次电平翻转，然后可以通过通道选择器，进入通道1</li><li>用于连接三相无刷电机的传感器检测转子的位置，根据位置换相。</li></ul></li><li><strong>输入滤波器和边沿检测器</strong><ul><li>输入滤波器可以对信号进行滤波，避免高频毛刺信号误触发。</li><li>边沿检测电路可以选择触发模式，上首页触发，下降沿触发等。</li><li>两套相同的电路 <ul><li>实际上有两套相同的电路， <ul><li>如图，TI1FP1、TI1FP2就是这两套电路的输出，分别传递给IC1和IC2</li><li><img src="'+hi+'" alt="Alt text"></li></ul></li><li>目的： <ul><li>1.可以灵活切换捕获电路的输入：后续电路配置保持不变，可以将信号输入从ch1切换到ch2</li><li>2.可以把一个引脚的输入，同时映射到两个捕获寄存器， <ul><li>PWMI模式 <ul><li>第一个通道使用上升沿触发，用于捕获周期</li><li>第二个通道使用下降沿触发，用于捕获占空比</li></ul></li></ul></li></ul></li></ul></li></ul></li><li><strong>预分频器</strong><ul><li>每个通道有一个，共四个，可以对前面的信号进行分频，</li><li>分频后的触发信号可以触发后续捕获电路工作</li></ul></li><li><strong>捕获寄存器</strong><ul><li>每从预分频器来一个触发信号,CNT寄存器的值就会向CCR寄存器转运一次。</li><li>转运的同时，会发生一个捕获事件，这个事件会在状态寄存器置标志位，同时产生中断。</li><li>如有需要，可开启该<strong>捕获中断</strong>。</li></ul></li></ul><p><strong>捕获/比较通道框图</strong></p><ul><li><img src="'+ai+'" alt="Alt text"></li><li><strong>滤波器</strong><ul><li>TI1(也就是CH1引脚)为滤波器的输入，</li><li>TI1F为滤波器的输出</li><li>FDTS为滤波器的采样时钟来源</li><li>CCMR1寄存器的<code>ICF[3:0]</code>位可以控制滤波器的参数</li><li>滤波器工作原理： <ul><li>以采样频率对输入信号采样，</li><li>当连项N个值都为高电平时输出才为高电平，</li><li>当连项N个值都为低电平时输出才为低电平，</li><li>如果信号出现高频抖动，导致连续的N个值不完全一样，那么输出就不会发生变化，就达到了滤波的效果。</li><li>采样频率越低，采样个数N越大，滤波效果就越好，但失真就越严重。</li><li><img src="'+ni+'" alt="Alt text"></li></ul></li></ul></li><li><strong>边沿检测器</strong><ul><li><code>TI1F</code>是边沿检测器的输入</li><li><code>TI1F_Rising</code>是边沿检测器的上升沿检测结果输出</li><li><code>TI1F_Falling</code>是边沿检测器的下降沿检测结果输出</li><li><code>TI1F_Rising</code>和<code>TI1F_Falling</code>通过数据选择器输出<code>TI1FP1</code>信号</li><li><code>CCER寄存器的CC1P位</code>用来控制数据选择器</li></ul></li><li><strong>分频器</strong><ul><li><code>TI1FP1</code>通过数据选择器进入分频器电路。 <ul><li><code>CC1S[1:0]</code>两个位用来控制数据选择器</li></ul></li><li><code>ICPS[1:0]</code>可以配置分频器，决定使用1/2/4/8分频</li><li><code>CC1E</code>位控制输出使能或失能</li><li>使能后，<code>IC1PS</code>就能让CNT寄存器的值转运的到CCR寄存器中。</li></ul></li><li><strong>CNT的清零</strong><ul><li><code>TI1F_ED</code> 和 <code>TI1FP1</code>信号都还通向从模式控制器</li><li>在从模式的电路中，就可以完成CNT寄存器的清零工作</li></ul></li></ul><p><strong>主模式、从模式、触发源选择</strong></p><ul><li><img src="'+ki+'" alt="Alt text"></li><li><strong>主模式</strong><ul><li>可以将定时器内部的信号映射到TRGO引脚，用于触发控制其他外设。</li></ul></li><li><strong>从模式</strong><ul><li>用于接收其他外设或自身外设的信号，用于实现受控于其他信号或外设。</li></ul></li><li><strong>触发源选择</strong><ul><li>用于选择从模式的触发信号源，可以认为是从模式的一部分。</li><li>选择指定的信号联通TRGI,TRGI再去触发从模式，从模式可以从列表中选择一个操作来自动执行。</li></ul></li><li>案例： <ul><li>自动清零CNT寄存器 <ul><li>触发源选择<code>TI1FP1</code>,</li><li>从模式选择<code>Reset</code>，</li><li>即可实现自动清零CNT寄存器</li></ul></li><li>定时器的级联 <ul><li>一个定时器使用主模式将更新信号输出到TRGO,</li><li>另一个定时器将触发源选择为前一个定时器的输出作为TRGI并将从模式选择为外部时钟模式1，</li><li>即可将前一个定时器的输出作为后一个定时器的外部时钟，实现了定时器的级联</li></ul></li></ul></li></ul><h3 id="案例-定时中断" tabindex="-1"><a class="header-anchor" href="#案例-定时中断"><span>案例：定时中断</span></a></h3><p><strong>定时中断基本结构</strong></p><p><img src="'+ei+'" alt="Alt text"></p><p><strong>实现定时中断的基本步骤</strong></p><ol><li>通过 RCC 开启相关外设时钟</li><li>为时基单元选择时钟源：内部时钟源、外部时钟模式、编码器模式</li><li>配置时基单元：预分频器、自动重装器、计数模式</li><li>配置输出中断控制: 允许输出中断到NVIC</li><li>配置NVIC: 打开定时中断通道、分配中断优先级</li><li>运行控制：使能计数器</li></ol><h4 id="案例-利用内部时钟源实现setinterval-callback-ms" tabindex="-1"><a class="header-anchor" href="#案例-利用内部时钟源实现setinterval-callback-ms"><span>案例：利用内部时钟源实现<code>setInterval(callback,ms)</code></span></a></h4><p>setInterval是一个在前端开发中经常使用的函数，这里尝试实现一下</p>',151),Ll=i("code",null,"main.cpp",-1),Gl=i("code",null,"Timer2.c",-1),Wl=i("code",null,"Timer2.h",-1),Nl=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Timer2.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," num "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," update_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    num"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_setInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"update_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Hello World!!!"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," num"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ul=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Timer2.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," <stddef.h>")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," NULL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _callback 回调函数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ms 毫秒 取值范围 [1,0xffff/10+1]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_setInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")(),"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 通过 RCC 开启相关外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 为时基单元选择时钟源：内部时钟源、外部时钟模式、编码器模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置时基单元：预分频器、自动重装器、计数模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 配置输出中断控制: 允许输出中断到NVIC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 配置NVIC: 打开定时中断通道、分配中断优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6. 运行控制：使能计数器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2为TIM2时基单元选择内部时钟（可不写，默认使用内部时钟）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // CK_CNT_OV计数器溢出频率 = CK_CNT定时器时钟/(ARR重装值+1) = CK_PSC内部时钟/(PSC预分频器+1)/(ARR重装值+1)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 溢出频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //      1s => 72Mhz / 7.2k / 10k => 1s")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //      1ms => 72Mhz / 7.2k / 10  => 1ms")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7200"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 预分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ms "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 自动重装器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 上面配置时基单元的函数为了让写入预分频器和自动重装器的值立即生效，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 手动触发了更新事件，这里要清除一下，否则中断函数也会立即执行一次")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ClearFlag"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_FLAG_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4把TIM2的更新中断连接到NVIC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ITConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_IT_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5配置NVIC优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_PriorityGroupConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_PriorityGroup_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    NVIC_InitTypeDef NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM2_IRQn"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 定时器2中断通道")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannelCmd"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 启用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannelPreemptionPriority"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 抢占优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannelSubPriority"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 响应优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 回调")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    callback "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 清除定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_ClearInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    callback "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," NULL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 重写中断函数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," TIM2_IRQHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"TIM_GetITStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_IT_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 清除更新中断Pending标志")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        TIM_ClearITPendingBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_IT_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),wl=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Timer2_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Timer2_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_setInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")(),"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_ClearInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Hl=i("h4",{id:"案例-利用外部时钟源实现setinterval-callback-times",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#案例-利用外部时钟源实现setinterval-callback-times"},[i("span",null,[s("案例：利用外部时钟源实现"),i("code",null,"setInterval(callback,times)")])])],-1),Kl=i("code",null,"main.cpp",-1),zl=i("code",null,"Timer2.c",-1),Vl=i("code",null,"Timer2.h",-1),Xl=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Timer2.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," num "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," update_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    num"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_setInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"update_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Hello World!!!"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," num"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ql=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Timer2.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," <stddef.h>")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," NULL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 外部触发times次后执行传入的_callback函数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _callback 回调函数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," times 计数次数 取值范围 [1,0xffff-1]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_setInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")(),"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," times"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 通过 RCC 开启相关外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 为时基单元选择时钟源：内部时钟源、外部时钟模式、编码器模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置时基单元：预分频器、自动重装器、计数模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 配置输出中断控制: 允许输出中断到NVIC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 配置NVIC: 打开定时中断通道、分配中断优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6. 运行控制：使能计数器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2为TIM2时基单元选择外部时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2.1 PA0默认复用功能是TIM2_CH1_ETR,这里要配置PA0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2.2 配置外部时钟2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ETRClockMode2Config"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 配置TIM2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        TIM_ExtTRGPSC_OFF"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 外部时钟分频")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        TIM_ExtTRGPolarity_Inverted"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 下降沿触发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"        0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                         // 滤波器配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    );")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // 预分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," times "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 自动重装器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 上面配置时基单元的函数为了让写入预分频器和自动重装器的值立即生效，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 手动触发了更新事件，这里要清除一下，否则中断函数也会立即执行一次")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ClearFlag"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_FLAG_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4把TIM2的更新中断连接到NVIC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ITConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_IT_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5配置NVIC优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_PriorityGroupConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_PriorityGroup_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    NVIC_InitTypeDef NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM2_IRQn"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 定时器2中断通道")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannelCmd"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 启用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannelPreemptionPriority"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 抢占优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"NVIC_IRQChannelSubPriority"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 响应优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 回调")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    callback "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 清除定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_ClearInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    callback "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," NULL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 重写中断函数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," TIM2_IRQHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"TIM_GetITStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_IT_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 清除更新中断Pending标志")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        TIM_ClearITPendingBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_IT_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ql=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Timer2_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Timer2_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_setInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_callback"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")(),"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," times"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_ClearInterval"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Yl=i("h3",{id:"案例-led呼吸灯",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#案例-led呼吸灯"},[i("span",null,"案例：LED呼吸灯")])],-1),jl=i("code",null,"PWM.c",-1),Zl=i("code",null,"PWM.h",-1),Jl=i("code",null,"main.cpp",-1),$l=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 产生PWM波，精度1% 频率1k 占空比默认50% 可调")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 通过 RCC 开启相关外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 为时基单元选择时钟源：内部时钟源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置时基单元：预分频器、自动重装器、计数模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6. 运行控制：使能计数器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2为TIM2时基单元选择内部")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /720 = 100khz  -> /100 -> 1khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 720"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 预分频器 PSC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 自动重装器 ARR")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_OCInitTypeDef TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化结构体，赋默认值，因为该结构体中有些属性是生效于高级定时器的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这里没有为这些属性赋值，又由于这里是局部变量，那么这些属性的值就是不确定的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这些未赋值的属性可能会对高级定时器的输出造成影响")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OCStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCMode_PWM1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 设置输出比较模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCPolarity_High"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 设置输出比较极性")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OutputState"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OutputState_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置输出使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Pulse"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                            // 设置CCR捕获比较寄存器的值 [0x0000 and 0xFFFF]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // OC1 是对ch1通道初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OC1Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5.1 配置AFIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 端口重映射")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);      // 开启AFIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_PartialRemap1_TIM2, ENABLE);     // 配置TIM2重映射1，这样tim2_ch1就用重映射到PA15上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable, ENABLE); // 配置关闭Jtag调试端口重映射，这样PA15 PB3 PB4三个端口就成为了GPIO口")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5.2 配置GPIO,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer2的ch1输出比较通道连接在了GPIO_A0上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // Timer2_ch1 ==默认==> GPIO_A0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // | GPIO_Pin_15 // Timer2_ch1 ==重映射==> GPIO_A15")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 必须设置复用推挽输出，引脚的输出控制才会和输出数据寄存器断开，和片上外设复用功能输出连接")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 设置占空比（0~100）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SetCompare1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),it=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),st=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," step "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Duty:"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," step"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," step "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," step "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),lt=k('<h3 id="案例-舵机驱动" tabindex="-1"><a class="header-anchor" href="#案例-舵机驱动"><span>案例：舵机驱动</span></a></h3><ul><li>舵机是一种根据输入PWM信号占空比来控制输出角度的装置</li><li>执行逻辑： <ul><li>PWM输入到控制板，给控制板一个目标角度</li><li>通过点位器检测输出轴的当前角度</li><li>大于目标角度，电机反转</li><li>小于目标角度，电机正转</li></ul></li><li>SG90舵机 <ul><li>PWM要求： <ul><li>周期:20ms（50Hz），</li><li>高电平宽度为:0.5ms~2.5ms <ul><li><code>0.5ms -&gt; -90°</code> 占空比：0.5/20 -&gt; 2.5%</li><li><code>1.5ms -&gt; 0°</code> 占空比：1.5/20 -&gt; 7.5%</li><li><code>2.5ms -&gt; +90°</code> 占空比：2.5/20 -&gt; 12.5%</li></ul></li></ul></li><li><img src="'+ri+'" alt="Alt text"></li><li><img src="'+di+'" alt="Alt text"></li></ul></li></ul>',2),tt=i("code",null,"PWM.c",-1),ht=i("code",null,"PWM.h",-1),at=i("code",null,"main.cpp",-1),nt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 产生PWM波，精度1% 频率1k 占空比默认50% 可调")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 通过 RCC 开启相关外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 为时基单元选择时钟源：内部时钟源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置时基单元：预分频器、自动重装器、计数模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6. 运行控制：使能计数器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2为TIM2时基单元选择内部")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /72 = 1M  -> /20k -> 50hz")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 72"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 预分频器 PSC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 20000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 自动重装器 ARR")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_OCInitTypeDef TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化结构体，赋默认值，因为该结构体中有些属性是生效于高级定时器的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这里没有为这些属性赋值，又由于这里是局部变量，那么这些属性的值就是不确定的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这些未赋值的属性可能会对高级定时器的输出造成影响")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OCStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCMode_PWM1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 设置输出比较模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCPolarity_High"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 设置输出比较极性")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OutputState"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OutputState_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置输出使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Pulse"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                            // 设置CCR捕获比较寄存器的值 [0x0000 and 0xFFFF]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // OC1 是对ch1通道初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OC1Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5 配置GPIO,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer2的ch1输出比较通道连接在了GPIO_A0上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // Timer2_ch1 ==默认==> GPIO_A0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 必须设置复用推挽输出，引脚的输出控制才会和输出数据寄存器断开，和片上外设复用功能输出连接")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 设置角度[0,180]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDegree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," degree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 20ms -> 20k")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0°：     0.5ms -> 0.5k")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // +90°：   1.5ms -> 1.5k")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // +180°：  2.5ms -> 2.5k")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1deg -> 0.5k + 1k/90")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SetCompare1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"500"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"degree"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"90.0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),kt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDegree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," degree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),et=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," <math.h>")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," degree "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," random"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," from"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," to"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rand_0_1 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"float"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"rand"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," RAND_MAX"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rand_0_1 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"to "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," from"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," from"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Degree:"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowSignedNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," degree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Timer2_PWM_SetDegree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"degree"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        degree "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," random"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"180"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),rt=k('<h5 id="直流电机与驱动电路" tabindex="-1"><a class="header-anchor" href="#直流电机与驱动电路"><span>直流电机与驱动电路</span></a></h5><ul><li>直流电机是一种将电能转换为机械能的装置，有两个电极，当电极正接时，电机正转，当电极反接时，电机反转</li><li>直流电机属于大功率器件，GPIO口无法直接驱动，需要配合电机驱动电路来操作</li></ul><p><strong>TB6612</strong></p><ul><li>TB6612是一款双路H桥型的直流电机驱动芯片，</li><li>可以驱动两个直流电机并且控制其转速和方向</li><li><img src="'+Ei+'" alt="Alt text"></li><li><img src="'+pi+'" alt="Alt text"><ul><li>MV脚电压功率可以和电机功率保持一致</li><li>VCC脚电压可以和单片机供电电压保持一致</li><li>STBY(Stand By)待机控制脚，低电平芯片不工作</li></ul></li><li><img src="'+yi+'" alt="Alt text"></li></ul><p><code>TB6612FNG.pdf</code></p><p><strong>Features:</strong></p><ul><li>Power supply voltage ； VM=15V（Max.）</li><li>Output current ； Iout=1.2A(ave) / 3.2A (peak)</li><li>Output low ON resistor； 0.5Ω (upper＋lower Typ. @VM≧5V)</li><li>Standby (Power save) system</li><li>CW/CCW/short brake/stop function modes</li><li>Built-in thermal shutdown circuit and low voltage detecting circuit</li><li>Small faced package（SSOP24：0.65mm Lead pitch）</li><li>Response to Pb free packaging</li><li><img src="'+gi+'" alt="Alt text"></li></ul><p><strong>接线图：</strong></p><p><strong>示例代码：</strong></p>',9),dt=i("code",null,"main.cpp",-1),Et=i("div",{class:"language-c line-numbers-mode","data-highlighter":"shiki","data-ext":"c","data-title":"c",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," step "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Duty:"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        duty "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),pt=i("h3",{id:"案例-定时器输出捕获——测量方波",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#案例-定时器输出捕获——测量方波"},[i("span",null,"案例：定时器输出捕获——测量方波")])],-1),yt=i("p",null,[i("strong",null,"频率测量")],-1),gt=i("ul",null,[i("li",null,[i("img",{src:Ci,alt:"Alt text"})]),i("li",null,[s("测频法：在闸门时间T内，对上升沿计次，得到N，则频率 "),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"f"),i("mi",null,"x")]),i("mo",null,"="),i("mi",null,"N"),i("mi",{mathvariant:"normal"},"/"),i("mi",null,"T")]),i("annotation",{encoding:"application/x-tex"},"f_x=N/T")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.1514em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1076em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mathnormal mtight"},"x")])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N"),i("span",{class:"mord"},"/"),i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T")])])])]),i("li",null,[s("测周法：两个上升沿内，以标准频率fc计次，得到N ，则频率 "),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"f"),i("mi",null,"x")]),i("mo",null,"="),i("msub",null,[i("mi",null,"f"),i("mi",null,"c")]),i("mi",{mathvariant:"normal"},"/"),i("mi",null,"N")]),i("annotation",{encoding:"application/x-tex"},"f_x=f_c/N")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.1514em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1076em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mathnormal mtight"},"x")])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.1514em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1076em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mathnormal mtight"},"c")])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mord"},"/"),i("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])])])]),i("li",null,[s("中界频率：测频法与测周法误差相等的频率点 "),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"f"),i("mi",null,"m")]),i("mo",null,"="),i("msqrt",null,[i("mrow",null,[i("msub",null,[i("mi",null,"f"),i("mi",null,"c")]),i("mi",{mathvariant:"normal"},"/"),i("mi",null,"T")])])]),i("annotation",{encoding:"application/x-tex"},"f_m=\\sqrt{f_c/T}")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.1514em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1076em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mathnormal mtight"},"m")])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1.24em","vertical-align":"-0.305em"}}),i("span",{class:"mord sqrt"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.935em"}},[i("span",{class:"svg-align",style:{top:"-3.2em"}},[i("span",{class:"pstrut",style:{height:"3.2em"}}),i("span",{class:"mord",style:{"padding-left":"1em"}},[i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.1514em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1076em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mathnormal mtight"},"c")])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mord"},"/"),i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T")])]),i("span",{style:{top:"-2.895em"}},[i("span",{class:"pstrut",style:{height:"3.2em"}}),i("span",{class:"hide-tail",style:{"min-width":"1.02em",height:"1.28em"}},[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.28em",viewBox:"0 0 400000 1296",preserveAspectRatio:"xMinYMin slice"},[i("path",{d:`M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z`})])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.305em"}},[i("span")])])])])])])])])],-1),Ct=k('<p><strong>输入捕获基本结构</strong></p><p><img src="'+ci+'" alt="Alt text"></p><p><strong>测频原理/流程</strong></p><ul><li>方波信号通过GPIO口进入输入捕获单元1，</li><li>首先进入滤波器滤波，滤除高频杂波，</li><li>然后经过边沿检测电路，检测上升沿信号，</li><li>上升沿信号进入分频器，分频器配置为1分频，</li><li>输出不分频的方波信号，</li><li>在上升沿，触发实现将CNT寄存器的值搬运到CCR1寄存器，</li><li>然后CNT寄存器被从模式Reset清零。</li><li>CNT被清零后重新计数</li><li>当方波信号的下一个上升沿来到时，</li><li>CNT寄存器的值就代表了被测方波信号一个周期的时长，</li><li>然后CNT寄存器的值再次被搬运到CCR1寄存器，</li><li>CNT被再次清零重新计数</li><li>这样只要读取CCR1寄存器的值，就能计算出被测方波信号的频率</li><li>具体计算方法为测周法的计算公式：被测方波频率=CNT计数频率/CCR1寄存器值</li></ul><p><strong>步骤</strong></p><ol><li>配置GPIO <ol><li>通过RCC寄存器开启GPIO时钟</li><li>初始化GPIO：配置为输入模式、上拉或浮空输入</li></ol></li><li>配置AFIO(如果需要重映射的话)</li><li>配置定时器 <ol><li>通过RCC寄存器开启TIM时钟</li><li>配置时基单元（时钟源、预分频器、计数器自增模式、自动重装器）</li><li>配置输入捕获单元（滤波器、边沿检测、通道直连或交叉、分频器）</li><li>配置实现自动清零计数器 <ol><li>配置从模式触发源（触发源为TI1FP1）</li><li>配置触发操作（触发Reset操作）</li></ol></li></ol></li><li>开启定时器</li><li>获取频率 <ul><li>N=CCR寄存器</li><li>f_c = CNT计数频率</li><li>Freq = f_c / N</li></ul></li></ol>',6),ct=i("code",null,"User/main.cpp",-1),Ft=i("code",null,"/System/InputCompare.h",-1),ot=i("code",null,"/System/InputCompare.c",-1),Dt=i("code",null,"/System/PWM.h",-1),At=i("code",null,"/System/PWM.c",-1),ft=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "InputCompare.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_SetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer3_IC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Freq: 000000Hz"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(),"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ut=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __InputCompare_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __InputCompare_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),mt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "InputCompare.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    1. 通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    2. 初始化GPIO：配置为输入模式、上拉或浮空输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 配置AFIO(如果需要重映射的话)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    1. 通过RCC寄存器开启TIM时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    2. 配置时基单元（时钟源、预分频器、计数器自增模式、自动重装器）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    3. 配置输入捕获单元（滤波器、边沿检测、通道直连或交叉、分频器）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    4. 配置实现自动清零计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //       1. 配置从模式触发源（触发源为TI1FP1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //       2. 配置触发操作（触发Reset操作）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 开启定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 获取频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    - N=CCR寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    - f_c = CNT计数频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    - Freq = f_c / N")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1.1 通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer3的ch1输入比较通道连接在了 GPIO_A6 上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //  1.2. 初始化GPIO：配置为输入模式、上拉或浮空输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 配置为上拉输入或浮空输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 配置AFIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 端口重映射")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);      // 开启AFIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_PartialRemap1_TIM3, ENABLE);     // 配置TIM3重映射，这样tim3_ch1就用重映射到PC6上")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.1 开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.2 配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 为TIM2时基单元选择内部")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /72 = 1Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这里使用1Mhz作为标准频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 72"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 预分频器 PSC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"ffff"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 自动重装器 ARR")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.3 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_ICInitTypeDef TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Channel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_Channel_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // 配置通道1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICFilter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                         // 滤波级别 具体参考手册")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPolarity_Rising"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 上升沿触发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICSelection"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICSelection_DirectTI"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 选择直连到分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPrescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPSC_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 1分频（即不分频）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4 配置实现自动清零计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4.1. 配置从模式触发源（触发源为TI1FP1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SelectInputTrigger"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_TS_TI1FP1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4.2. 配置触发操作（触发Reset操作）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SelectSlaveMode"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_SlaveMode_Reset"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取被测频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 被测频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 标准频率F_c = 1Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 标准频率的周期数 = 计数器的值N")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 被测频率 = 1/周期 = 1/(标准频率的周期*标准频率的周期数) =1/(1/F_c * N) = F_c * N = 1M / N")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // Freq_max = 1 / 0xffffus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"TIM_GetCapture1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),vt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," freq_khz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),_t=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 产生PWM波，占空比[0~100]% 频率[1~720]k")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 通过 RCC 开启相关外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 为时基单元选择时钟源：内部时钟源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置时基单元：预分频器、自动重装器、计数模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6. 运行控制：使能计数器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2为TIM2时基单元选择内部")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /720 = 100khz  -> /100 -> 1khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 720"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 预分频器 PSC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 自动重装器 ARR")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_OCInitTypeDef TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化结构体，赋默认值，因为该结构体中有些属性是生效于高级定时器的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这里没有为这些属性赋值，又由于这里是局部变量，那么这些属性的值就是不确定的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这些未赋值的属性可能会对高级定时器的输出造成影响")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OCStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCMode_PWM1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 设置输出比较模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCPolarity_High"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 设置输出比较极性")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OutputState"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OutputState_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置输出使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Pulse"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                            // 设置CCR捕获比较寄存器的值 [0x0000 and 0xFFFF]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // OC1 是对ch1通道初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OC1Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5.1 配置AFIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 端口重映射")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);      // 开启AFIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_PartialRemap1_TIM2, ENABLE);     // 配置TIM2重映射1，这样tim2_ch1就用重映射到PA15上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable, ENABLE); // 配置关闭Jtag调试端口重映射，这样PA15 PB3 PB4三个端口就成为了GPIO口")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5.2 配置GPIO,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer2的ch1输出比较通道连接在了GPIO_A0上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // Timer2_ch1 ==默认==> GPIO_A0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // | GPIO_Pin_15 // Timer2_ch1 ==重映射==> GPIO_A15")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 必须设置复用推挽输出，引脚的输出控制才会和输出数据寄存器断开，和片上外设复用功能输出连接")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 设置频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," freq_khz 频率 取值范围：[1,720] 单位：khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," freq_khz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //  72Mhz = 72 000 000 hz =  72 000 khz（内部时钟） ÷ prescaler（预分频器） ÷ 100（ARR自动重装器） = ? khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // prescaler = 72 000 khz / 100 / ?khz = 720khz /  ?khz")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"freq_khz "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        freq_khz "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," prescaler "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 720.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," freq_khz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_PrescalerConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," prescaler "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_PSCReloadMode_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 设置占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty_per 占空比 取值范围：[0,100] 单位：％")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty_per"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SetCompare1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty_per"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),bt=k('<p><strong>PWMI模式结构（同时测量频率和占空比）</strong></p><p><img src="'+Fi+'" alt="Alt text"></p><p><strong>测频原理/流程</strong></p><ul><li>通道1用于测频率，和上面说的原理一样</li><li>通道2用于测占空比，</li><li>原理是，当第一个上升沿来到是，CNT计数器清零并重新计数，</li><li>TIFP2配置为下降沿触发，那么当遇到方波中下降沿时，</li><li>通道2的分频器触发实现将CNT的值搬运到CCR2寄存器，</li><li>这个时候CNT的值记录的就是第一个上升沿到第一个下降沿之间的时常，也就能计算出占空比。</li><li>当遇到第二个上升沿时，CNT被清零，重新开始计数。</li></ul>',4),Bt=i("code",null,"User/main.cpp",-1),It=i("code",null,"/System/InputCompare.h",-1),St=i("code",null,"/System/InputCompare.c",-1),Pt=i("code",null,"/System/PWM.h",-1),Tt=i("code",null,"/System/PWM.c",-1),xt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "InputCompare.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer2_PWM_SetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer3_IC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Freq: 000000Hz"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Duty: 000000%"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(),"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(),"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Rt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __InputCompare_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __InputCompare_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Mt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "InputCompare.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    1. 通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    2. 初始化GPIO：配置为输入模式、上拉或浮空输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 配置AFIO(如果需要重映射的话)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    1. 通过RCC寄存器开启TIM时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    2. 配置时基单元（时钟源、预分频器、计数器自增模式、自动重装器）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    3. 配置输入捕获单元（滤波器、边沿检测、通道直连或交叉、分频器）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    4. 配置实现自动清零计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //       1. 配置从模式触发源（触发源为TI1FP1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //       2. 配置触发操作（触发Reset操作）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 开启定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 获取频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    - N=CCR寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    - f_c = CNT计数频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //    - Freq = f_c / N")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1.1 通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer3的ch1输入比较通道连接在了 GPIO_A6 上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //  1.2. 初始化GPIO：配置为输入模式、上拉或浮空输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 配置为上拉输入或浮空输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 配置AFIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 端口重映射")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);      // 开启AFIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_PartialRemap1_TIM3, ENABLE);     // 配置TIM3重映射，这样tim3_ch1就用重映射到PC6上")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.1 开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.2 配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 为TIM2时基单元选择内部")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /72 = 1Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这里使用1Mhz作为标准频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 72"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 预分频器 PSC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"ffff"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 自动重装器 ARR")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.3 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.3.1 写法1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_ICInitTypeDef TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 通道1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Channel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_Channel_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // 配置通道1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICFilter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                         // 滤波级别 具体参考手册")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPolarity_Rising"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 上升沿触发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICSelection"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICSelection_DirectTI"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 选择直连到分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPrescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPSC_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 1分频（即不分频）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 通道2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Channel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_Channel_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 配置通道2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPolarity_Falling"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"      // 下降沿触发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICSelection"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICSelection_IndirectTI"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 选择交叉")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.3.2 写法2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICInitTypeDef TIM_ICInitStruct;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICStructInit(&TIM_ICInitStruct);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICInitStruct.TIM_Channel = TIM_Channel_1;                // 配置通道1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICInitStruct.TIM_ICFilter = 0xf;                         // 滤波级别 具体参考手册")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICInitStruct.TIM_ICPolarity = TIM_ICPolarity_Rising;     // 上升沿触发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICInitStruct.TIM_ICSelection = TIM_ICSelection_DirectTI; // 选择直连到分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_ICInitStruct.TIM_ICPrescaler = TIM_ICPSC_DIV1;           // 1分频（即不分频）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // TIM_PWMIConfig(TIM3, &TIM_ICInitStruct);                     // 自动为相应的另一个通道配置相反的边沿触发、连接方式")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4 配置实现自动清零计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4.1. 配置从模式触发源（触发源为TI1FP1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SelectInputTrigger"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_TS_TI1FP1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4.2. 配置触发操作（触发Reset操作）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SelectSlaveMode"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_SlaveMode_Reset"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取被测方波频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 频率hz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 标准频率F_c = 1Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 标准频率的周期数 = 计数器的值N")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 被测频率 = 1/周期 = 1/(标准频率的周期*标准频率的周期数) =1/(1/F_c * N) = F_c * N = 1M / N")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"TIM_GetCapture1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取被测方波占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 占空比％")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_IC_GetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"TIM_GetCapture2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"TIM_GetCapture1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ot=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __PWM_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," freq_khz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Lt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 产生PWM波，占空比[0~100]% 频率[1~720]k")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 步骤")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 通过 RCC 开启相关外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 为时基单元选择时钟源：内部时钟源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置时基单元：预分频器、自动重装器、计数模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6. 运行控制：使能计数器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1开启Tim2外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2为TIM2时基单元选择内部")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_InternalClockConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /720 = 100khz  -> /100 -> 1khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ClockDivision"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CKD_DIV1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 采样点数，外部时钟信号滤波器的一个参数，这里填一分频，也就是不分频，那么就会以（内部时钟频率/1）的频率对外部时钟信号进行采样，这里用不到，随便写")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_CounterMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_CounterMode_Up"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 计数模式，向上计数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 720"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 预分频器 PSC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 自动重装器 ARR")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_RepetitionCounter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 重复计数器，高级定时器才有")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_OCInitTypeDef TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化结构体，赋默认值，因为该结构体中有些属性是生效于高级定时器的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这里没有为这些属性赋值，又由于这里是局部变量，那么这些属性的值就是不确定的，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这些未赋值的属性可能会对高级定时器的输出造成影响")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OCStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCMode_PWM1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 设置输出比较模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OCPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OCPolarity_High"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 设置输出比较极性")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_OutputState"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_OutputState_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置输出使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Pulse"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                            // 设置CCR捕获比较寄存器的值 [0x0000 and 0xFFFF]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // OC1 是对ch1通道初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_OC1Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_OCInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5.1 配置AFIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 端口重映射")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);      // 开启AFIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_PartialRemap1_TIM2, ENABLE);     // 配置TIM2重映射1，这样tim2_ch1就用重映射到PA15上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable, ENABLE); // 配置关闭Jtag调试端口重映射，这样PA15 PB3 PB4三个端口就成为了GPIO口")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 5.2 配置GPIO,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer2的ch1输出比较通道连接在了GPIO_A0上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // Timer2_ch1 ==默认==> GPIO_A0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // | GPIO_Pin_15 // Timer2_ch1 ==重映射==> GPIO_A15")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 必须设置复用推挽输出，引脚的输出控制才会和输出数据寄存器断开，和片上外设复用功能输出连接")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 6启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 设置频率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," freq_khz 频率 取值范围：[1,720] 单位：khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetFreq"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," freq_khz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //  72Mhz = 72 000 000 hz =  72 000 khz（内部时钟） ÷ prescaler（预分频器） ÷ 100（ARR自动重装器） = ? khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // prescaler = 72 000 khz / 100 / ?khz = 720khz /  ?khz")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"freq_khz "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        freq_khz "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," prescaler "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 720.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," freq_khz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_PrescalerConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," prescaler "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_PSCReloadMode_Update"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 设置占空比")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty_per 占空比 取值范围：[0,100] 单位：％")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer2_PWM_SetDuty"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," duty_per"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_SetCompare1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," duty_per"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Gt=k('<h3 id="编码器接口" tabindex="-1"><a class="header-anchor" href="#编码器接口"><span>编码器接口</span></a></h3><p><strong>EncoderInterface编码器接口</strong></p><ul><li>编码器接口可接收增量（正交）编码器的信号，根据编码器旋转产生的正交信号脉冲，自动控制CNT计数寄存器自增或自减，从而指示编码器的位置、旋转方向和旋转速度</li><li>高级定时器和通用定时器都拥有1个编码器接口</li><li><img src="'+oi+'" alt="Alt text"></li></ul><p><strong>原理简图</strong></p><ul><li>两个输入引脚来自输入捕获的通道1和通道2</li><li>不需要配置计数时钟和计数方向，因为增或减有编码器决定，</li><li>可以配置预分频器</li><li>可以配置ARR自动重装寄存器为0xffff，防止CNT过早溢出</li><li>CNT计数器 <ul><li>编码器读取到正转信号时，CNT自增，值为：0 1 2 3，可用来获取编码器位置</li><li>编码器读取到反转信号时，CNT自减：值为：0 0xffff 0xfffe 0xfffd 转换成int16为：0 -1 -2 -3</li></ul></li><li><img src="'+Di+'" alt="Alt text"></li></ul><p><strong>正交信号波形</strong></p><ul><li>规律就是， <ul><li>正转时， <ul><li>A相上升沿，B相低电平</li><li>A相下降沿，B相高电平</li></ul></li><li>反转时， <ul><li>A相上升沿，B相高电平</li><li>A相下升沿，B相低电平<br><img src="'+Ai+'" alt="Alt text"></li></ul></li></ul></li></ul><p><strong>编码器的三种工作模式</strong></p><ul><li>第一种模式就是只对通道1计数</li><li>第二种模式就是只对通道2计数</li><li>第三种模式就是对通道1和通道2计数</li><li>计数的条件就是要看AB两相的波形是否满足条件，比如说， <ul><li>A相上升沿，B相低电平，则判断为编码器正转，计数器自增</li><li>A相下升沿，B相高电平，则判断为编码器反转，计数器自减</li></ul></li><li><img src="'+fi+'" alt="Alt text"></li></ul><p><strong>编码器模式下的计数器</strong></p><ul><li><img src="'+ui+'" alt="Alt text"></li><li>将其中任意一相波形反向，计数器增长方向也将发生改变</li><li><img src="'+mi+'" alt="Alt text"></li></ul><h3 id="编码器测位置、测速案例" tabindex="-1"><a class="header-anchor" href="#编码器测位置、测速案例"><span>编码器测位置、测速案例</span></a></h3><p><strong>步骤</strong></p><ul><li>配置GPIO <ul><li>通过RCC寄存器开启GPIO外设时钟</li><li>配置IO口为输入模式，上拉 下拉 或 浮空</li></ul></li><li>配置TIM定时器 <ul><li>通过RCC寄存器开启TIM定时器外设时钟</li><li>配置时基单元 <ul><li>预分频器可以不分频</li><li>自动重装器可以配置为0xffff</li></ul></li><li>配置输入捕获单元 <ul><li>配置滤波器</li><li>配置边沿检测(极性选择器)，</li><li>配置编码器接口模式</li></ul></li></ul></li><li>启动定时器</li><li>位置 <ul><li>读取CNT计数器的值，转换成int16，代表了位置</li></ul></li><li>速度 <ul><li>方法1 <ul><li>两次读取的位置值的差，比上两次读取的时间间隔，就是速度</li><li>V = (上一次读取的位置值-当前位置值) / 两次读取的时间间隔</li><li>= dP/dt</li><li>但是这里的dt不能太大，否则会丢失精度，读取频率的周期要大于旋转速度</li></ul></li><li>方法2 <ul><li>以一定的时间间隔t去读取计数器的值p，然后清空计数器</li><li>V = p/t</li><li>t不能太大</li></ul></li><li>方法3 <ul><li>定时时间t,中断读取计数器的值p,然后清空计数器</li><li>V = p/t</li><li>t不能太大</li></ul></li><li>第一种方法可以同时得到位置信息和速度信息</li><li>后两种方法要清空计数器，会丢失位置信息</li></ul></li></ul>',14),Wt=i("code",null,"main.cpp",-1),Nt=i("code",null,"System/EncoderInterface.c",-1),Ut=i("code",null,"System/EncoderInterface.h",-1),wt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "PWM.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "EncoderInterface.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," curPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," prevPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," speed"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Timer3_EncoderInterface_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Posit: 000000"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Speed: 000000"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        curPosition "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," TIM_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        speed "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"curPosition "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," prevPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        prevPosition "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," curPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowSignedNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," curPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 位置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowSignedNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," speed"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 速度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_s"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ht=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "EncoderInterface.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_EncoderInterface_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // **步骤**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // - 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //   - 通过RCC寄存器开启GPIO外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //   - 配置IO口为输入模式，上拉 下拉 或 浮空")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // - 配置TIM定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //   - 通过RCC寄存器开启TIM定时器外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //   - 配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     - 预分频器可以不分频")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     - 自动重装器可以配置为0xffff")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //   - 配置输入捕获单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     - 配置滤波器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     - 配置边沿检测(极性选择器)，")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     - 配置编码器接口模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // - 启动定时器")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1. 配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1.1 通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 根据手册 Timer3的ch1\\ch2输入比较通道连接在了 GPIO_A6\\A7 上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //  1.2. 初始化GPIO：配置为输入模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_6 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 配置为上拉输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 2. 配置AFIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 端口重映射")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);      // 开启AFIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // GPIO_PinRemapConfig(GPIO_PartialRemap1_TIM3, ENABLE);     // 配置TIM3重映射，这样tim3_ch1就用重映射到PC6上")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3. 配置定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.1 开启Tim3外设时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.2 配置时基单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 72Mhz -> /72 = 1Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Prescaler"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 预分频器 PSC 不分频")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Period"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"ffff"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 自动重装器 ARR 直接设置最大值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_TimeBaseInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_TimeBaseInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.3 初始化输出比较单元")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    TIM_ICInitTypeDef TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICStructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 通道1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Channel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_Channel_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 配置通道1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICFilter"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"f"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                     // 滤波级别 具体参考手册")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPolarity_Rising"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 上升沿触发（其实是用来做极性选择，控制波形是否反向，而且这里的设置实际上也会被后续的配置编码器模式时覆盖）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 通道2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_Channel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_Channel_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 配置通道2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"TIM_ICPolarity"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TIM_ICPolarity_Falling"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 下降沿触发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_ICInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM_ICInitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 3.4 配置为编码器模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_EncoderInterfaceConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"                               TIM_EncoderMode_TI12"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 编码器模式3 同时检测通道1和通道2的边沿")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"                               TIM_ICPolarity_Rising"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 通道1的极性选择,不反相")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"                               TIM_ICPolarity_Rising"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 通道2的极性选择,不反相")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    );")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // #####################################################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 4. 启动定时器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    TIM_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取编码器位置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 位置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_EncoderInterface_GetPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," TIM_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"TIM3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Kt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __InputCompare_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __InputCompare_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "time.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_EncoderInterface_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Timer3_EncoderInterface_GetPosition"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),zt=k('<h2 id="adc模拟-数字转化器" tabindex="-1"><a class="header-anchor" href="#adc模拟-数字转化器"><span>ADC模拟/数字转化器</span></a></h2><h3 id="adc概念" tabindex="-1"><a class="header-anchor" href="#adc概念"><span>ADC概念</span></a></h3><p><strong>ADC简介</strong></p><ul><li>ADC（Analog-Digital Converter）模拟-数字转换器</li><li>可将引脚的模拟电压转换数字量</li><li>12位逐次逼近型ADC，最快1us转换时间</li><li>输入电压范围：0~3.3V，转换结果范围：0~4095</li><li>18个输入通道，可测量16个外部和2个内部信号源</li><li>规则组和注入组两个转换单元</li><li>模拟看门狗自动监测输入电压范围</li></ul><blockquote><p>STM32F103C8T6 ADC资源：ADC1、ADC2，10个外部输入通道</p></blockquote><h3 id="adc原理" tabindex="-1"><a class="header-anchor" href="#adc原理"><span>ADC原理</span></a></h3><p><strong>ADC原理图：ADC0809芯片框图</strong></p><ul><li>ADC0809是比较过去比较常用的ADC芯片</li><li>8位逐次逼近型ADC</li><li>通道选择 <ul><li>IN0~7为8个输入通道</li><li>ADDA~C为3bit的地址信号，用来选择通道</li><li>ALE为锁存信号，用来锁定通道。</li></ul></li><li>开始转换 <ul><li>START为开始转换信号</li><li>CLOCK为推动逐次比较过程的时钟</li></ul></li><li>逐次逼近 <ul><li>电压比较器的两个输入分别来自通道选择器和DAC模拟数字转换器。</li><li>Vref为DAC的参考电压 <ul><li>当Vref=5v时,0~255对应0~5v</li></ul></li><li>SAR寄存器的值给到DAC,DAC输出电压到比较器,通过比较器输出电压的高低来判断SAR寄存器的值是偏大还是偏小，逐渐逼近实际被测电压。</li><li>由于二进制的特性，逼近过程可以使用逐位比较（折半查找、二分查找）实现，总共从高到低需要比较8次，转换结束后，SAR寄存器的值就是未知电压的编码。</li></ul></li><li>结束转换 <ul><li>EOC为结束转换信号（End Of Convert）<br><img src="'+vi+'" alt="Alt text"></li></ul></li></ul><h3 id="stm32-adc原理" tabindex="-1"><a class="header-anchor" href="#stm32-adc原理"><span>STM32_ADC原理</span></a></h3><p><strong>ADC原理框图</strong></p><ul><li><strong>模拟多路开关</strong>： <ul><li>用于实现将16路GPIO通道和另外两路通道连接至ADC</li><li>可以同时选中最多4路，连接至ADC的注入通道</li><li>可以同时选中最多16路，连接至ADC的规则通道</li></ul></li><li><strong>模拟至数字转换器</strong>： <ul><li>用于实现将注入通道和规则通道的模拟量转换成数字量</li><li>转换结果存放至<strong>注入通道数据寄存器</strong>或<strong>规则通道数据寄存器</strong></li><li><strong>规则通道</strong><ul><li>最多可以同时转换16路通道，</li><li>其数据寄存器有1个</li></ul></li><li><strong>注入通道</strong><ul><li>最多可以同时转换4路通道，</li><li>其数据寄存器有4个</li></ul></li></ul></li><li><strong>规则通道数据寄存器</strong><ul><li>1x16位寄存器</li><li>最好配合DMA实现，将转换结果转运，否则数据会被覆盖</li></ul></li><li><strong>注入通道数据寄存器</strong><ul><li>4x16位寄存器</li><li>不用担心数据覆盖的问题</li></ul></li><li><strong>注入组的开始触发信号</strong><ul><li>JEXTTRIG，用来实现软件触发开启ADC转换的位</li><li>JEXTSEL，用来选中触发开启转换的外部事件</li><li>ADCx_ETRGINJ_REMAP,用来选中外部引脚来实现触发开启转换</li></ul></li><li><strong>规则组的开始触发信号</strong><ul><li>略</li></ul></li><li>Vref <ul><li>模数转换器所需的参考电压</li><li>芯片内部已经将Vref+和Vdda连接在一起了</li></ul></li><li>ADCCLK <ul><li>来自于ADC预分频器的时钟，用来驱动模数转换器工作 <ul><li>需要参考RCC时钟树框图</li></ul></li><li>最大频率不能超过14Mhz</li><li>当主频为72M时，ADC预分频器只能设置6或8，即12M或9Mhz</li></ul></li><li>模拟看门狗 <ul><li>可以存一个最大电压和最小电压</li><li>然后选择指定通道看门</li><li>到通道电压超出设置的电压范围时，将产生<strong>模拟看门中断事件</strong></li></ul></li><li>标志位 <ul><li>EOC转换结束信号，当注入通道<strong>或</strong>规则通道转换结束后触发</li><li>JEOC注入转换结束信号，当注入通道转换结束后触发</li></ul></li></ul><p><img src="'+_i+'" alt="Alt text"></p><p><strong>ADC简化框图</strong></p><p><img src="'+bi+'" alt="Alt text"></p><p><strong>18个ADC通道</strong></p><blockquote><p>具体参考引脚功能表</p></blockquote><table><thead><tr><th style="text-align:center;">通道</th><th style="text-align:center;">ADC1</th><th style="text-align:center;">ADC2</th><th style="text-align:center;">ADC3</th></tr></thead><tbody><tr><td style="text-align:center;">通道0</td><td style="text-align:center;">PA0</td><td style="text-align:center;">PA0</td><td style="text-align:center;">PA0</td></tr><tr><td style="text-align:center;">通道1</td><td style="text-align:center;">PA1</td><td style="text-align:center;">PA1</td><td style="text-align:center;">PA1</td></tr><tr><td style="text-align:center;">通道2</td><td style="text-align:center;">PA2</td><td style="text-align:center;">PA2</td><td style="text-align:center;">PA2</td></tr><tr><td style="text-align:center;">通道3</td><td style="text-align:center;">PA3</td><td style="text-align:center;">PA3</td><td style="text-align:center;">PA3</td></tr><tr><td style="text-align:center;">通道4</td><td style="text-align:center;">PA4</td><td style="text-align:center;">PA4</td><td style="text-align:center;">PF6</td></tr><tr><td style="text-align:center;">通道5</td><td style="text-align:center;">PA5</td><td style="text-align:center;">PA5</td><td style="text-align:center;">PF7</td></tr><tr><td style="text-align:center;">通道6</td><td style="text-align:center;">PA6</td><td style="text-align:center;">PA6</td><td style="text-align:center;">PF8</td></tr><tr><td style="text-align:center;">通道7</td><td style="text-align:center;">PA7</td><td style="text-align:center;">PA7</td><td style="text-align:center;">PF9</td></tr><tr><td style="text-align:center;">通道8</td><td style="text-align:center;">PB0</td><td style="text-align:center;">PB0</td><td style="text-align:center;">PF10</td></tr><tr><td style="text-align:center;">通道9</td><td style="text-align:center;">PB1</td><td style="text-align:center;">PB1</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">通道10</td><td style="text-align:center;">PC0</td><td style="text-align:center;">PC0</td><td style="text-align:center;">PC0</td></tr><tr><td style="text-align:center;">通道11</td><td style="text-align:center;">PC1</td><td style="text-align:center;">PC1</td><td style="text-align:center;">PC1</td></tr><tr><td style="text-align:center;">通道12</td><td style="text-align:center;">PC2</td><td style="text-align:center;">PC2</td><td style="text-align:center;">PC2</td></tr><tr><td style="text-align:center;">通道13</td><td style="text-align:center;">PC3</td><td style="text-align:center;">PC3</td><td style="text-align:center;">PC3</td></tr><tr><td style="text-align:center;">通道14</td><td style="text-align:center;">PC4</td><td style="text-align:center;">PC4</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">通道15</td><td style="text-align:center;">PC5</td><td style="text-align:center;">PC5</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">通道16</td><td style="text-align:center;">温度传感器</td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">通道17</td><td style="text-align:center;">内部参考电压</td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr></tbody></table><p><strong>四种转换模式</strong></p><ul><li>单次转换，非扫描模式 <ul><li>单次，只转换一次，每次转换都需要触发信号</li><li>非扫描，只对序列1转换，转换前需要将通道x放到序列1的位置</li><li><img src="'+Bi+'" alt="Alt text"></li></ul></li><li>连续转换，非扫描模式 <ul><li>连续，第一次转换需要触发信号，然后其转换结束信号会作为下一次转换的触发信号</li><li>非扫描，只对序列1转换。</li><li><img src="'+Ii+'" alt="Alt text"></li></ul></li><li>单次转换，扫描模式 <ul><li>单次，只转换一次</li><li>扫描，对多个序列进行转换，</li><li><img src="'+Si+'" alt="Alt text"></li></ul></li><li>连续转换，扫描模式 <ul><li>连续，EOF信号作为下一次转换的开始转换信号</li><li>扫描，对多个序列接连转换</li><li><img src="'+Pi+'" alt="Alt text"></li></ul></li></ul><p><strong>规则通道外部触发</strong></p><ul><li>外部引脚/定时器的选择需要配合AFIO来完成<br><img src="'+Ti+'" alt="Alt text"></li></ul><p><strong>数据对齐方式</strong></p><ul><li>由于ADC是12bit,所以转换结果也是12bit</li><li>左对齐，然后读取高8bit，可以读取到低精度的单字节数据。</li><li><img src="'+xi+`" alt="Alt text"></li></ul><p><strong>转换时间</strong></p><ul><li>AD转换的步骤：采样，保持，量化，编码 <ul><li>采样保持， <ul><li>用小容量电容来存储待测电压，然后测量电容上的电压</li><li>电容开始充电和停止充电的时间间隔就是采样保持的时间</li></ul></li><li>量化编码， <ul><li>逐次逼近，逐位比较过程所花费的时间</li></ul></li></ul></li><li>STM32 ADC的总转换时间为： <ul><li>TCONV = 采样时间 + 12.5个ADC周期</li></ul></li><li>例如：当ADCCLK=14MHz，采样时间为1.5个ADC周期 <ul><li>TCONV = 1.5 + 12.5 = 14个ADC周期 = 1μs</li></ul></li></ul><p><strong>校准</strong></p><ul><li>ADC内置自校准模式。</li><li>校准可大幅减小因内部电容器组的变化而造成的准精度误差。</li><li>校准期间，在每个电容器上都会计算出一个误差修正码(数字值)，这个码用于消除在随后的转换中每个电容器上产生的误差</li><li>建议在每次上电后执行一次校准</li><li>启动校准前， ADC必须处于关电状态超过至少两个ADC时钟周期</li></ul><p><strong>基本步骤</strong></p><ul><li>配置GPIO <ul><li>通过RCC寄存器开启GPIO外设时钟</li></ul></li><li>配置多路开关 <ul><li>把GPIO等的通道接入ADC的规则组或注入组</li></ul></li><li>配置ADC <ul><li>通过RCC寄存器配置ADCCLK预分频器</li><li>配置ADC转换模式（单次转换连续转换，扫描模式或非扫描模式，通道数、触发源、数据对齐方向）</li></ul></li><li>配置模拟看门狗（如果有需要） <ul><li>配置阈值</li><li>配置监测通道</li></ul></li><li>开启中断（如果有需要） <ul><li>ITConfig开启对应的输出</li><li>NVIC配置中断优先级</li></ul></li><li>开启ADC <ul><li>ADC_Cmd</li><li>校准ADC</li></ul></li></ul><h3 id="adc的标准库函数" tabindex="-1"><a class="header-anchor" href="#adc的标准库函数"><span>ADC的标准库函数</span></a></h3><p><strong>标准库相关函数</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// &quot;stm32f10x_rcc.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 配置ADCCLK预分频器系数：2 4 6 8</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 实现对APB2的72Mhz时钟分频后输出到ADCCLK</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_ADCCLKConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_PCLK2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// &quot;stm32f10x_adc.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 恢复默认配置</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_DeInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 初始化ADC</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InitTypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 初始化结构体</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_StructInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_InitTypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// ADC开关</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_Cmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开启DMA输出信号</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_DMACmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// ADC中断输出控制,用来控制中断信号能否通向NVIC</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ITConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_IT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 复位校准</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ResetCalibration</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取复位校准状态</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetResetCalibrationStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开始校准</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_StartCalibration</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取开始校准状态</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetCalibrationStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 软件触发AD转换</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_SoftwareStartConvCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取软件开始转换状态（SWSTART的状态）（实际上获取不到，</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 具体参考源码，其是通过检查SWSTART位来判断状态，但手册上说，SWSTART被软件置1后会被硬件立即清0）</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 所以其返回值不能反应转换是否结束</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetSoftwareStartConvStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 配置间断模式</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 每隔几个通道间断检测</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_DiscModeChannelCountConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Number</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 是否启用间断模式</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_DiscModeCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 规则组通道配置，如序列1 和 通道2</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_RegularChannelConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_Channel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Rank</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_SampleTime</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 是否允许外部触发转换控制</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ExternalTrigConvCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取转换结果</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetConversionValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取双ADC模式转换结果</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetDualModeConversionValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// Injected都是注入组相关函数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_AutoInjectedConvCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InjectedDiscModeCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ExternalTrigInjectedConvConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ExternalTrigInjecConv</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ExternalTrigInjectedConvCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_SoftwareStartInjectedConvCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetSoftwareStartInjectedConvCmdStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InjectedChannelConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_Channel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Rank</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_SampleTime</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InjectedSequencerLengthConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Length</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_SetInjectedOffset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InjectedChannel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Offset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetInjectedConversionValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_InjectedChannel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 模拟看门狗配置函数</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 是否启动</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_AnalogWatchdogCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_AnalogWatchdog</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 配置高低阈值</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_AnalogWatchdogThresholdsConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> HighThreshold</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> LowThreshold</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 配置看门狗通道</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_AnalogWatchdogSingleChannelConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_Channel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开启温度传感器/内部参考电压</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_TempSensorVrefintCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取标志位状态，第二个参数传EOC,可以判断是否转换结束</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetFlagStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_FLAG</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 清除标志位</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ClearFlag</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_FLAG</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取中断位</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ITStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_GetITStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_IT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 清除中断挂起位</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_ClearITPendingBit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ADC_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADCx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> ADC_IT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="adc案例" tabindex="-1"><a class="header-anchor" href="#adc案例"><span>ADC案例</span></a></h3><p><strong>案例：软件触发，单次转换，非扫描模式，</strong></p>`,35),Vt=i("code",null,"main.cpp",-1),Xt=i("code",null,"AD.c",-1),Qt=i("code",null,"AD.h",-1),qt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ad_val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 0~4095")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4096.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3.3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 0~3.33")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowChar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," '.'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," %"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Yt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置GPIO端口模式为模拟输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_AIN"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器配置ADC时钟预分频器，最高12M，所以72/6=12")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_ADCCLKConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_PCLK2_Div6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置规则通道：通道0放入序列1，采样时间为1.5个时钟周期")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_RegularChannelConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Channel_0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_SampleTime_1Cycles5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+初始化ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ADC_InitTypeDef ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Mode_Independent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 模式=>独立")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ScanConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                       // 扫描模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ContinuousConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 连续转换模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ExternalTrigConv"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_ExternalTrigConv_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 外部触发控制控制，可用于实现定时触发,不使用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_DataAlign"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_DataAlign_Right"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 数据对齐方式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_NbrOfChannel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                             // 通道数目，针对于扫描模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+复位校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_ResetCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 复位校准（给RSTCAL置1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetResetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待复位校准完成（等待硬件校准完毕后将RSTCAL置0）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_StartCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 开始校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待校准完毕")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 软件触发转换")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_SoftwareStartConvCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 等待转换完成 转换耗时 = ADCCLK周期 * （采样周期+固定的转换周期12.5）= 1/(12M) * (1.5+12.5) = 14/12 ≈ 1.16 us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_FLAG_EOC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," RESET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," //")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取转换结果(如果是连续转换模式，不需要上面两步，直接读取，但至少要软件触发一次)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ADC_GetConversionValue"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),jt=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _AD_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _AD_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Zt=i("p",null,[i("strong",null,"案例：软件触发，读取多通道，单次转换，非扫描模式")],-1),Jt=i("code",null,"main.cpp",-1),$t=i("code",null,"AD.c",-1),ih=i("code",null,"AD.h",-1),sh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stdio.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    char"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"200"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ad_val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetChVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 0~4095")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4096.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3.33"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 0~3.33")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        使用GCC ARM Embedded 工具链时，默认情况下不会启用 printf 中的浮点支持。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        要启用，请添加-u _printf_float到您的 LDFLAGS")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        LDFLAGS += -u _printf_float")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        sprintf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "ch%d:%.2fv"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),lh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置GPIO端口模式为模拟输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_AIN"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_0 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_1 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器配置ADC时钟预分频器，最高12M，所以72/6=12")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_ADCCLKConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_PCLK2_Div6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+初始化ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ADC_InitTypeDef ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Mode_Independent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 模式=>独立")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ScanConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                       // 扫描模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ContinuousConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 连续转换模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ExternalTrigConv"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_ExternalTrigConv_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 外部触发控制控制，可用于实现定时触发,不使用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_DataAlign"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_DataAlign_Right"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 数据对齐方式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_NbrOfChannel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                             // 通道数目，针对于扫描模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+复位校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_ResetCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 复位校准（给RSTCAL置1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetResetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待复位校准完成（等待硬件校准完毕后将RSTCAL置0）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_StartCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 开始校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待校准完毕")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@arg"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ADC_Channel  通道编号 0~17")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetChVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ADC_Channel"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 配置规则通道：通道x放入序列1，采样时间为1.5个时钟周期")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_RegularChannelConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Channel"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_SampleTime_1Cycles5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 软件触发转换")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_SoftwareStartConvCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 等待转换完成 转换耗时 = ADCCLK周期 * （采样周期+固定的转换周期12.5）= 1/(12M) * (1.5+12.5) = 14/12 ≈ 1.16 us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_FLAG_EOC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," RESET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," //")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取转换结果(如果是连续转换模式，不需要上面两步，直接读取，但至少要软件触发一次)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ADC_GetConversionValue"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),th=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _AD_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _AD_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetChVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ADC_Channel"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),hh=i("p",null,[i("strong",null,"案例：软件触发，连续转换，非扫描模式")],-1),ah=i("code",null,"main.cpp",-1),nh=i("code",null,"AD.c",-1),kh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    float"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ad_val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 0~4095")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4096.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3.3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 0~3.33")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ad_val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," voltage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowChar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," '.'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"voltage "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," %"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 100"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),eh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置GPIO端口模式为模拟输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_AIN"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器配置ADC时钟预分频器，最高12M，所以72/6=12")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_ADCCLKConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_PCLK2_Div6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置规则通道：通道0放入序列1，采样时间为1.5个时钟周期")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_RegularChannelConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Channel_0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_SampleTime_1Cycles5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+初始化ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ADC_InitTypeDef ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Mode_Independent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 模式=>独立")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ScanConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                       // 扫描模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ContinuousConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 连续转换模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ExternalTrigConv"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_ExternalTrigConv_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 外部触发控制控制，可用于实现定时触发,不使用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_DataAlign"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_DataAlign_Right"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 数据对齐方式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_NbrOfChannel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                             // 通道数目，针对于扫描模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+复位校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_ResetCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 复位校准（给RSTCAL置1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetResetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待复位校准完成（等待硬件校准完毕后将RSTCAL置0）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_StartCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 开始校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待校准完毕")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 软件触发转换")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_SoftwareStartConvCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_GetVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取转换结果(如果是连续转换模式，不需要上面两步，直接读取，但至少要软件触发一次)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ADC_GetConversionValue"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),rh=k('<h2 id="dma" tabindex="-1"><a class="header-anchor" href="#dma"><span>DMA</span></a></h2><h3 id="dma简介" tabindex="-1"><a class="header-anchor" href="#dma简介"><span>DMA简介</span></a></h3><ul><li>DMA（Direct Memory Access）直接存储器访问 <ul><li>存储器(运行内存SRAM、程序储存器FLASH、外设寄存器)</li></ul></li><li>DMA可以提供外设（数据寄存器）和存储器（SRAM、FLASH）或者存储器和存储器之间的高速数据传输，无须CPU干预，节省了CPU的资源</li><li>12个独立可配置的通道： <ul><li>DMA1（7个通道），</li><li>DMA2（5个通道）</li></ul></li><li>每个通道都支持软件触发和特定的硬件触发 <ul><li>外设到存储器的数据转运一般使用硬件触发</li><li>存储器到存储器的数据转运一般使用软件触发</li></ul></li></ul><blockquote><p>STM32F103C8T6 DMA资源：DMA1（7个通道），没有DMA2</p></blockquote><h3 id="dma原理" tabindex="-1"><a class="header-anchor" href="#dma原理"><span>DMA原理</span></a></h3><p><strong>存储器映像</strong></p><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">起始地址</th><th style="text-align:center;">存储器</th><th style="text-align:center;">用途</th></tr></thead><tbody><tr><td style="text-align:center;">ROM</td><td style="text-align:center;">0x08000000</td><td style="text-align:center;">程序存储器Flash</td><td style="text-align:center;">存储C语言编译后的程序代码</td></tr><tr><td style="text-align:center;">ROM</td><td style="text-align:center;">0x1FFFF000</td><td style="text-align:center;">系统存储器</td><td style="text-align:center;">存储BootLoader，用于串口下载</td></tr><tr><td style="text-align:center;">ROM</td><td style="text-align:center;">0x1FFFF800</td><td style="text-align:center;">选项字节</td><td style="text-align:center;">存储一些独立于程序代码的配置参数</td></tr><tr><td style="text-align:center;">RAM</td><td style="text-align:center;">0x20000000</td><td style="text-align:center;">运行内存SRAM</td><td style="text-align:center;">存储运行过程中的临时变量</td></tr><tr><td style="text-align:center;">RAM</td><td style="text-align:center;">0x40000000</td><td style="text-align:center;">外设寄存器</td><td style="text-align:center;">存储各个外设的配置参数</td></tr><tr><td style="text-align:center;">RAM</td><td style="text-align:center;">0xE0000000</td><td style="text-align:center;">内核外设寄存器</td><td style="text-align:center;">存储内核各个外设的配置参数</td></tr></tbody></table><p><strong>存储器映像框图</strong></p><ul><li>存储器地址范围：<code>0x0000 0000 ~ 0xffff ffff</code>,因为CPU是32位，寻址范围最大也是32位，最大可支持4GB内存的寻址。 <ul><li>STM32存储器都是KB级别，寻址空间大部分不用，地址使用率不到百分之1。</li><li>灰色区域为Reserved区域，即保留区域</li></ul></li><li>六片存储区 <ul><li>1.别名区：程序会从<code>0x0000 0000</code>地址开始执行，但该地址实际上也没有使用，其会根据BOOT0和BOOT1的配置，把地址空间映射到Flash（程序）存储器执行用户程序，或映射到System（系统）存储器执行BootLoader程序，或映射到SRAM执行程序。</li><li>2.Flash区（0x0800 0000）,用于存储程序代码</li><li>3.系统存储区和选项字节（0x1fff f000）,存储了BootLoader程序，和一些配置参数</li><li>4.SRAM区（0x2000 0000）</li><li>5.外设寄存器区（0x4000 0000）,</li><li>6.内核外设寄存器区（0xE000 0000）</li></ul></li><li><img src="'+Ri+'" alt="Alt text"></li></ul><p><strong>DMA框图</strong></p><ul><li>总线矩阵的左侧是主动单元，拥有右侧存储器的访问权，右边是被动单元，只能被主动单元读写。</li><li>Flash,只读存储器，不能写入</li><li>SRAM,运行内存，可任意读写</li><li>内核，主动单元，通过Dcode和系统总线访问右边的存储器，Dcode用于专门访问Flash</li><li>DMA,主动单元，通过DMA总线访问右侧存储器 <ul><li>DMA仲裁器，DMA总线是分时复用的，产生冲突后，由仲裁器根据通道的优先级决定谁先用。 <ul><li>总线矩阵中也有仲裁器，当CPU和DMA要同时访问一个目标时，DMA会暂停CPU的访问，但会保证CPU得到一半的总线带宽。</li></ul></li><li>AHB从设备，DMA外设自身的配置寄存器，连接在总线矩阵的右侧，属于AHB总线的被动单元，CPU可以通过总线矩阵来配置该寄存器</li></ul></li><li>DMA请求，来自外设的触发信号，如ADC转换完成，串口接收到数据<br><img src="'+Mi+'" alt="Alt text"></li></ul><p><strong>DMA基本结构图</strong></p><ul><li>数据转运的两大站点 <ul><li>外设（寄存器）站点</li><li>存储器（Flash &amp; SRAM）站点</li></ul></li><li>站点数据流向 <ul><li><code>SRAM | 外设 &lt;==&gt; SRAM</code></li><li><code>SRAM | 外设 &lt;=== Flash</code></li><li><blockquote><p>Flash 一般为只读存储器</p></blockquote></li></ul></li><li>站点配置 <ul><li>起始地址： <ul><li>可以给外设站点写存储器地址</li></ul></li><li>数据宽度： <ul><li>字节(1B) 半字(2B) 字(4B)，</li><li>也决定了地址自增多少</li></ul></li><li>地址是否自增</li></ul></li><li>传输计数器 <ul><li>用来指定总共需要转运几次，是一个自减计数器</li><li>如果用来搬运数组，则填写数组长度</li><li>自减到0后便不在转运，同时站点配置寄存器中自增的地址也恢复成起始地址。</li></ul></li><li>自动重装器 <ul><li>用于实现当传输计数器自减到0后将<code>传输计数器</code>自动重装为初始值</li><li>决定了转运模式，不重装就是单次转运模式，重装就是循环转运模式。</li></ul></li><li>M2M（Memory To Memory） <ul><li>1：软件触发，直到传输计数器为0才停止</li><li>0：硬件触发，也就是连通ADC等外设的DMA请求信号。</li></ul></li><li>开关控制 <ul><li>DMA_Cmd(Enable) 使能开启DMA</li></ul></li><li>DMA工作流程 <ul><li>传输计数器&gt;0</li><li>使能DMA</li><li>有触发信号，触发一次，转运一次，传输计数器自减一次。</li><li>直到传输计数器为0，且没有自动重装时，此时无论是否触发，都不会转运。</li><li>此时就必须DMA_Cmd(Disable)</li><li>关闭DMA才能重写传输计数器</li><li>然后再使能DMA</li><li>触发</li></ul></li><li><img src="'+Oi+'" alt="Alt text"></li></ul><p><strong>DMA请求映射</strong></p><ul><li>每个通道的硬件触发源不同。</li><li>ADC_DMACmd() 可以用来将ADC1的DMA请求联通至通道1的硬件触发源</li><li>TIM_DMACmd() TIM2_CH3 =&gt; 硬件请求1</li><li>七个通道会进入仲裁器，根据优先级产生内部DMA1请求</li><li>通道号越小，优先级越高，也可以在程序中配置。</li><li><img src="'+Li+'" alt="Alt text"></li></ul><p><strong>数据对齐方式</strong></p><ul><li>当PSIZE和MSIZE不相同时，DMA模块按照下表进行数据对齐。</li><li>简单总结就是 <ul><li><code>多字节数据 =&gt; 单字节数据</code> 舍弃高位 补上00 保留低位。</li><li><code>单字节数据 =&gt; 多字节数据</code> 舍弃高位 补上00 保留低位。</li></ul></li><li><img src="'+Gi+'" alt="Alt text"></li></ul><p><strong>DMA数组转运</strong></p><ul><li>外设站点和存储器站点配置 <ul><li>起始地址：数组A和数组B首地址</li><li>数据宽度：单字节</li><li>地址自增：是</li></ul></li><li>转运方向：外设=&gt;存储器</li><li>传输计数器(转运次数)：数组A的长度</li><li>自动重装器(触发模式)：单次触发</li><li>触发方式(M2M)：软件触发(1)<br><img src="'+Wi+'" alt="Alt text"></li></ul><h3 id="dma案例" tabindex="-1"><a class="header-anchor" href="#dma案例"><span>DMA案例</span></a></h3><p><strong>DMA数组转运编程实现</strong></p><ul><li>步骤 <ul><li>RCC，开启DMA时钟</li><li>DMA_Init，配置DMA <ul><li>外设站点和存储器站点配置</li><li>转运方向</li><li>传输计数器</li><li>自动重装器</li><li>触发方式</li><li>优先级配置</li></ul></li><li>ADC_DMACmd，将ADC的中断请求联通值DMA的硬件触发</li><li>DMA_ITCOnfig配置DMA中断（如果需要）</li><li>DMA_Cmd，开启DMA</li><li>转运完成后重新启动 <ul><li>失能DMA</li><li>重写传输计数器</li><li>使能DMA</li></ul></li></ul></li></ul>',22),dh=i("code",null,"DMA1_Data_Transfer.c",-1),Eh=i("code",null,"DMA1_Data_Transfer.h",-1),ph=i("code",null,"main.cpp",-1),yh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "DMA1_Data_Transfer.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length_of_byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," DMA1_Data_Transfer_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," from_addr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," copy_to_addr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _length_of_byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启DMA1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_AHBPeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_AHBPeriph_DMA1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    DMA_InitTypeDef DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_StructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 外设站点配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_PeripheralBaseAddr"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," from_addr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 外设站起始地址地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_PeripheralDataSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_PeripheralDataSize_Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 数据大小,字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_PeripheralInc"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_PeripheralInc_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 地址自增")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 存储器站点配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_MemoryBaseAddr"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," copy_to_addr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_MemoryDataSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_PeripheralDataSize_Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_MemoryInc"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_MemoryInc_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_BufferSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length_of_byte "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _length_of_byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 数据长度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_DIR"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_DIR_PeripheralSRC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 方向： 外设 => 内存")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_M2M"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_M2M_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                          // 软件触发（存储器to存储器）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_Mode_Normal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 自动重装器; 模式？ 循环:单次")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_Priority"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_Priority_VeryHigh"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 优先级")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_Channel1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," DMA1_Data_Transfer_Triger"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 关闭")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_Channel1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 重写传输计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_SetCurrDataCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_Channel1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length_of_byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_Channel1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 等待转运完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"DMA_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_FLAG_TC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," RESET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 清除标志位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_ClearFlag"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_FLAG_TC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),gh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _DMA1_Data_Transfer_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _DMA1_Data_Transfer_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," DMA1_Data_Transfer_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," from_addr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," copy_to_addr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _length_of_byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," DMA1_Data_Transfer_Triger"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ch=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "DMA1_Data_Transfer.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA1_Data_Transfer_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // dataA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // dataB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 触发，搬运数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        DMA1_Data_Transfer_Triger"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // dataA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // dataB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," dataB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            dataA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ch=k('<p><strong>ADC扫描模式+DMA硬件触发</strong></p><ul><li>ADC配置 <ul><li>规则通道</li><li>连续转换，扫描模式</li><li><strong>配置将其<code>DMA请求</code>通向DMA</strong></li></ul></li><li>DMA配置 <ul><li>外设站点配置 <ul><li>起始地址：ADC_DR数据寄存器地址</li><li>数据宽度：半字（2字节）</li><li>地址自增：否</li></ul></li><li>存储器器站点配置 <ul><li>起始地址：自定义数组地址</li><li>数据宽度：半字（2字节）</li><li>地址自增：是</li></ul></li><li>传输方向：外设站点 =&gt; 存储器站点</li><li>传输计数器(转运次数)：ADC转换的通道个数</li><li>自动重装器(触发模式)： <ul><li>如果ADC配置为单次转换，则DMA自动重装器配置为不自动重装（单次触发）</li><li>如果ADC配置为连续转换，则DMA自动重装器配置为自动重装， <ul><li>这样ADC进入下一轮转换时，DMA也进行下一轮的数据搬运。</li></ul></li></ul></li><li>触发方式 <ul><li>硬件触发</li></ul></li></ul></li><li><img src="'+Ni+'" alt="Alt text"></li></ul>',2),Fh=i("code",null,"AD_With_DMA.c",-1),oh=i("code",null,"AD_With_DMA.h",-1),Dh=i("code",null,"main.cpp",-1),Ah=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD_With_DMA.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," Value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_With_DMA_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置GPIO")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器开启GPIO时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置GPIO端口模式为模拟输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_AIN"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_0 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_1 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+通过RCC寄存器配置ADC时钟预分频器，最高12M，所以72/6=12")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_ADCCLKConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_PCLK2_Div6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+配置规则通道：通道0 1 2放入序列1 2 3，采样时间为1.5个时钟周期")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_RegularChannelConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Channel_0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_SampleTime_1Cycles5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_RegularChannelConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Channel_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_SampleTime_1Cycles5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_RegularChannelConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Channel_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_SampleTime_1Cycles5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+初始化ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ADC_InitTypeDef ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_Mode_Independent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 模式=>独立")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ScanConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 扫描模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ContinuousConvMode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 连续转换模式?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_ExternalTrigConv"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_ExternalTrigConv_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 外部触发控制控制，可用于实现定时触发,不使用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_DataAlign"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ADC_DataAlign_Right"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 数据对齐方式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC_NbrOfChannel"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                             // 通道数目，针对于扫描模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+将ADC1的DMA请求发送给DMA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_DMACmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启ADC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+复位校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_ResetCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 复位校准（给RSTCAL置1）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetResetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待复位校准完成（等待硬件校准完毕后将RSTCAL置0）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_StartCalibration"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 开始校准")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ADC_GetCalibrationStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待校准完毕")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+配置DMA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+开启DMA1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_AHBPeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_AHBPeriph_DMA1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ----+----+初始化DMA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    DMA_InitTypeDef DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_StructInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 外设站点配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_PeripheralBaseAddr"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 外设站起始地址地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_PeripheralDataSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_PeripheralDataSize_HalfWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 数据大小,半字")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_PeripheralInc"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_PeripheralInc_Disable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 地址不自增")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 存储器站点配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_MemoryBaseAddr"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_MemoryDataSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_MemoryDataSize_HalfWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_MemoryInc"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_MemoryInc_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_BufferSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 传输计数器；数据长度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_DIR"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_DIR_PeripheralSRC"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"      // 方向： 外设 => 内存")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_M2M"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_M2M_Disable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 软件触发？（存储器to存储器）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_Mode_Circular"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 自动重装器; 模式？ 循环:单次")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"DMA_Priority"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DMA_Priority_VeryHigh"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_Channel1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 启用DMA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    DMA_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"DMA1_Channel1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 软件触发转换")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    ADC_SoftwareStartConvCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ADC1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),fh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _AD_With_DMA_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _AD_With_DMA_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," Value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," AD_With_DMA_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),uh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "AD_With_DMA.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // AD_Init(); ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    AD_With_DMA_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // dataA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," Value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," Value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," Value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"50"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),mh=k('<h2 id="usart串口通信" tabindex="-1"><a class="header-anchor" href="#usart串口通信"><span>USART串口通信</span></a></h2><h3 id="通信" tabindex="-1"><a class="header-anchor" href="#通信"><span>通信</span></a></h3><ul><li>通信目的：将一个设备的数据传送到另一个设备，扩展硬件系统 <ul><li>比如需要通过读写外部设备的寄存器来操作外部设备</li></ul></li><li>通信协议：通信的规则，通信双方按照规则进行数据收发</li></ul><p><strong>STM32支持的通信协议</strong></p><ul><li>USART(串口) <ul><li>TX(TXD) Transmit Exchange 数据发送</li><li>RX(RXD) Receive Exchange 数据接收</li></ul></li><li>USART(串口) <ul><li>SCL(Serial Clock)时钟</li><li>SDA(Serial Data)数据</li></ul></li><li>SPI <ul><li>SCLK(Serial Clock),时钟</li><li>MOSI(Master Output Slave Input) 主机输出，从机输入</li><li>MISO(Master Input Slave Output) 主机输入，从机输出</li><li>CS(Chip Select)片选，指定通信对象</li></ul></li><li>CAN <ul><li>CAN_H</li><li>CAN_L</li><li>两根线为差分信号</li></ul></li><li>USB <ul><li>DP (D+)(Data Positive)</li><li>DM (D-)(Data Minus)</li><li>两根线为差分信号</li></ul></li><li>全双工 <ul><li>通信双方能同时收发数据，</li><li>一般都有两根通信线路，一根收，一根发，互相不影响</li><li>如：USART,USB,SPI</li></ul></li><li>半双工 <ul><li>通信双方同时只能收或发数据</li><li>只有一根通信线路</li><li>如：I2C,CAN,USB</li></ul></li><li>单工 <ul><li>通信双方只能单向通信，如A-&gt;B</li></ul></li><li>时钟特性 <ul><li>同步： <ul><li>有时钟线</li><li>在时钟信号的指导下采样读取数据</li></ul></li><li>异步： <ul><li>没有时钟</li><li>需要双方约定采样频率，添加帧头，帧尾，实现采样位置对齐。</li></ul></li></ul></li><li>信号特性 <ul><li>单端信号， <ul><li>信号电平是相对于GND的电压差</li><li>需要共地</li></ul></li><li>差分信号 <ul><li>信号电平是依靠两根差分线的电压差来传输信号。</li><li>可以不需要地</li><li>差分信号抗干扰，传输速度和距离高</li></ul></li></ul></li><li>设备特性 <ul><li>点对点：一对一</li><li>多设备：一对多，可以在总线上挂载多个设备</li></ul></li></ul><table><thead><tr><th style="text-align:center;">名称</th><th style="text-align:center;">引脚</th><th style="text-align:center;">双工</th><th style="text-align:center;">时钟</th><th style="text-align:center;">电平</th><th style="text-align:center;">设备</th></tr></thead><tbody><tr><td style="text-align:center;">USART</td><td style="text-align:center;">TX、RX</td><td style="text-align:center;">全双工</td><td style="text-align:center;">异步</td><td style="text-align:center;">单端</td><td style="text-align:center;">点对点</td></tr><tr><td style="text-align:center;">I2C</td><td style="text-align:center;">SCL、SDA</td><td style="text-align:center;">半双工</td><td style="text-align:center;">同步</td><td style="text-align:center;">单端</td><td style="text-align:center;">多设备</td></tr><tr><td style="text-align:center;">SPI</td><td style="text-align:center;">SCLK、MOSI、MISO、CS</td><td style="text-align:center;">全双工</td><td style="text-align:center;">同步</td><td style="text-align:center;">单端</td><td style="text-align:center;">多设备</td></tr><tr><td style="text-align:center;">CAN</td><td style="text-align:center;">CAN_H、CAN_L</td><td style="text-align:center;">半双工</td><td style="text-align:center;">异步</td><td style="text-align:center;">差分</td><td style="text-align:center;">多设备</td></tr><tr><td style="text-align:center;">USB</td><td style="text-align:center;">DP、DM</td><td style="text-align:center;">半双工</td><td style="text-align:center;">异步</td><td style="text-align:center;">差分</td><td style="text-align:center;">点对点</td></tr></tbody></table><h3 id="串口通信简介" tabindex="-1"><a class="header-anchor" href="#串口通信简介"><span>串口通信简介</span></a></h3><ul><li>串口是一种应用十分广泛的通讯接口，串口成本低、容易使用、通信线路简单，可实现两个设备的互相通信</li><li>单片机的串口可以使单片机与单片机、单片机与电脑、单片机与各式各样的模块互相通信，极大地扩展了单片机的应用范围，增强了单片机系统的硬件实力</li><li>在单片机领域，串口是较简单的通信接口，比I2C SPI简单。一般单片机都有串口硬件外设。</li><li>CH340 USB转TTL电平串口模块<img src="'+Ui+'" alt="Alt text"></li></ul><p><strong>硬件电路</strong></p><ul><li>简单双向串口通信有两根通信线（发送端TX和接收端RX） <ul><li>复杂串口通信还有时钟、硬件流控制引脚</li></ul></li><li>TX与RX要交叉连接</li><li>当只需单向的数据传输时，可以只接一根通信线</li><li>当电平标准不一致时，需要加电平转换芯片</li><li><img src="'+wi+'" alt="Alt text"></li></ul><p>电平标准</p><ul><li>电平标准是数据1和数据0的表达方式，</li><li>是传输线缆中人为规定的电压与数据的对应关系，</li><li>串口常用的电平标准有如下三种： <ul><li>TTL电平：+3.3V或+5V表示1，0V表示0</li><li>RS232电平：-3~-15V表示1，+3~+15V表示0（传输几十米）</li><li>RS485电平：两线压差+2~+6V表示1，-2~-6V表示0（差分信号，可传输上千米）</li></ul></li></ul><p>串口参数及时序</p><ul><li>波特率：串口通信的速率</li><li>起始位：标志一个数据帧的开始，固定为低电平</li><li>数据位：数据帧的有效载荷，1为高电平，0为低电平，低位先行</li><li>校验位：用于数据验证，根据数据位计算得来</li><li>停止位：用于数据帧间隔，固定为高电平</li><li><img src="'+Hi+'" alt="Alt text"><ul><li>空闲时为高电平，起始位为低电平，这么定义是为了产生一个下降沿，告诉对方即将发送数据</li><li>停止位为高电平，用来作为数据帧间隔，同时也是是为了恢复到空闲状态，这样在发送下一个字节时，就又要置低起始位。</li><li>奇偶校验 <ul><li>奇校验，算上校验位，保持1的个数为奇数</li><li>偶校验，算上校验位，保持1的个数为偶数</li></ul></li></ul></li></ul><p><strong>实测波形</strong></p><p><img src="'+Ki+'" alt="Alt text"></p><h3 id="usart外设" tabindex="-1"><a class="header-anchor" href="#usart外设"><span>USART外设</span></a></h3><ul><li>USART（Universal Synchronous/Asynchronous Receiver/Transmitter）通用同步/异步收发器 <ul><li>同步， <ul><li>串口一般很少使用同步功能，</li><li>STM32的同步也只是多了一个时钟输出引脚，不支持时钟输入，主要是为了兼容其他协议而设计</li></ul></li><li>异步， <ul><li>串口通信主要是异步通信</li><li>UART,异步收发器</li></ul></li></ul></li><li>USART是STM32内部集成的硬件外设，可根据数据寄存器的一个字节数据自动生成数据帧时序，从TX引脚发送出去，也可自动接收RX引脚的数据帧时序，拼接为一个字节数据，存放在数据寄存器里</li><li>自带波特率发生器，最高达4.5Mbits/s <ul><li>实际上就是分频器，对72M主频分频后的时钟就是通信波特率</li></ul></li><li>可配置数据位长度（8/9） <ul><li>第9位为停止校验位</li></ul></li><li>可配置停止位长度（0.5/1/1.5/2） <ul><li>决定了帧的间隔，常用1</li></ul></li><li>可选校验位（无校验/奇校验/偶校验）</li><li>支持 <ul><li>同步模式，就是多一个时钟引脚</li><li>硬件流控制，多一个引脚，在接收方无法及时处理收到的数据时反馈给发送方实现暂停发送数据防止数据丢失。</li><li>DMA，如果有大量数据收发，可以使用DMA转运。</li><li>智能卡，</li><li>IrDA，红外发射器和接收器</li><li>LIN，局域网通信</li></ul></li></ul><blockquote><p>STM32F103C8T6 USART资源： USART1（APB2）、 USART2(APB1)、 USART3(APB1)</p></blockquote><p><strong>原理框图</strong></p><ul><li>DR数据寄存器 <ul><li>实际上是一个地址，两个寄存器。</li><li>写入DR操作是发送数据，实际操作的是TDR(Transmit DR)寄存器</li><li>读取DR操作是接收数据，实际操作的是RDR(Receive DR)寄存器</li></ul></li><li>发送数据 <ul><li>写入TDR后会检查移位寄存器是否正在移位，是则等待，否则立即把数据转运到发送移位寄存器，然后置标志位TXE（TX Empty）为1，表示TDR发送数据寄存器空，用于程序判断是否可以继续写入。</li><li>发送移位寄存器会在发送器控制的驱动下将数据右移发送到TX引脚。</li><li>移位完成后立即将TDR的数据转运，保证数据帧之间没有空闲。</li></ul></li><li>接收数据 <ul><li>数据从RX引脚通向接收移位寄存器。</li><li>在接收控制的驱动下，读取数据放入高位并右移，移动八次接收一个字节。</li><li>移位完成后，整个字节数据整体移动到RDR寄存器，</li><li>并置标志位RXNE(RX Not Empty)表示接收寄存器非空，用于检测是否有数据可以读取</li></ul></li><li>发送寄存器控制：控制发送寄存器工作</li><li>接收寄存器控制：控制接收寄存器工作</li><li>硬件数据流控 <ul><li>用于避免：发送端发送的太快，接收设备来不及处理，出现丢弃或覆盖数据的现象</li><li>nRTS(Request To Send)请求发送数据，输入交</li><li>nCTS(Clear To Send)清除发送，输入脚，接收对方的请求发送信号。</li><li>n表示低电平有效。</li><li>两线交叉连接。</li></ul></li><li>SCLK <ul><li>产生同步的时钟信号，配合发送寄存器工作。</li><li>发送寄存器移位一次，同步时钟跳变一个周期。</li><li>仅支持输入时钟信号</li><li>用于兼容其他协议，如SPI</li><li>用于自适应波特率，通过测量时钟来计算波特率</li></ul></li><li>唤醒单元 <ul><li>用于实现1对多通信</li><li>USART地址寄存器可以配置设备的id</li></ul></li><li>中断控制 <ul><li>用来实现将状态寄存器的信号通向NVIC</li></ul></li><li>波特率发生器 <ul><li>分频系数支持小数点后四位，用于实现精确的分频</li><li>除以16后是其实际采样频率<br><img src="'+zi+'" alt="Alt text"></li></ul></li></ul><p><strong>简化框图</strong></p><ul><li>波特率发生器(实际是分频器)用于产生约定速率，时钟来源为PCLK2/1</li><li>发送控制器和接收控制器，用于控制发送移位和接收移位</li><li>发送数据寄存器TDR和发送移位寄存器相互配合，将数据移位发出。<br><img src="'+Vi+'" alt="Alt text"></li></ul><p><strong>数据帧格式</strong></p><ul><li>9位字长（可以包含1位校验位） <ul><li>1个起始位</li><li>8位数据</li><li>1位校验位</li><li>1位停止位</li><li>共11位。</li><li>时钟是同步模式时钟，上升沿位置在数据位中间。</li><li>LBCL位用于控制最后一位校验位有没有时钟上升沿。</li><li>空闲帧和断开帧是局域网通信用的。</li></ul></li><li>8位字长（可以包含1位校验位）</li><li><img src="'+Xi+'" alt="Alt text"></li></ul><p><strong>停止位长度</strong></p><ul><li>可选时长：0.5、1、1.5、2<br><img src="'+Qi+'" alt="Alt text"></li></ul><p><strong>读取串口输入的策略</strong></p><ul><li>输入电路比输入电路复杂，输出电路只需要翻转高低电平，</li><li>输入电路需要保证输入采样频率和波特率一致，要保证输入采样的位置正好在每一位的正中间，这样才最可靠，还要能判断是否有噪声。</li><li>起始位检测 <ul><li>采样到1，高电平，空闲状态</li><li>采样到0，产生下降沿， <ul><li>可能噪声，可能是起始位，</li><li>需要对之后的3、5、7进行一批采样，对8、9、10次进行一批。</li><li>噪声：每三位有两个1</li><li>起始位： <ul><li>这两批采样应当全是0，</li><li>或者至少每3位有2个0（有轻微噪声），会给状态寄存器噪声标志位NE(Noise Error)置1。</li></ul></li></ul></li><li><img src="'+qi+'" alt="Alt text"></li></ul></li><li>采样位对齐： <ul><li>检测到起始位后，之后的数据位都在8，9，10次进行采样，保证采样位置在位的正中。</li><li>全为0则检测到0 全为1则检测到1</li><li>2个0 1个1 ，则检测到0，噪声标志位置1</li><li>2个1 1个0 ，则检测到1，噪声标志位置1</li><li><img src="'+Yi+'" alt="Alt text"></li></ul></li></ul><p><strong>波特率发生器</strong></p><ul><li>发送器和接收器的波特率由波特率寄存器BRR里的DIV确定</li><li>计算公式：波特率 = fPCLK2或1 / (16 * DIV) <ul><li>16是因为内部所需的采样频率是波特率的16倍</li><li>即输出频率=波特率*16=时钟频率/DIV分频系数</li><li>所以：DIV=时钟频率/(波特率*16)</li><li>例： <ul><li>波特率9600，时钟频率72M</li><li>DIV= 72M/(9600*16) = 468.75 = (1 1101 0100 . 1100)_2</li></ul></li></ul></li><li><img src="'+ji+`" alt="Alt text"></li></ul><h3 id="usart标准库函数" tabindex="-1"><a class="header-anchor" href="#usart标准库函数"><span>USART标准库函数</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 略</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_DeInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_InitTypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_StructInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_InitTypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_InitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 配置同步时钟是否输出，相位、极性等</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClockInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClockInitTypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClockInitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClockStructInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_ClockInitTypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClockInitStruct</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 略</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_Cmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ITConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_IT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开启USART=&gt;DMA触发通道</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_DMACmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_DMAReq</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 设置USART地址,用来实现一对多通信的寻址。</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SetAddress</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_Address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 唤醒</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_WakeUpConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_WakeUp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ReceiverWakeUpCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// LIN</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_LINBreakDetectLengthConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_LINBreakDetectLength</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_LINCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 发送数据，写DR寄存器</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SendData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 接收数据，读DR寄存器</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ReceiveData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 略</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SendBreak</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SetGuardTime</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_GuardTime</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SetPrescaler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_Prescaler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SmartCardCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_SmartCardNACKCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_HalfDuplexCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_OverSampling8Cmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_OneBitMethodCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_IrDAConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_IrDAMode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_IrDACmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 标志位读取、设置相关函数</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_GetFlagStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_FLAG</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClearFlag</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_FLAG</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ITStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_GetITStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_IT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_ClearITPendingBit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">USART_TypeDef</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USARTx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> USART_IT</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例-串口收发数据-实现printf" tabindex="-1"><a class="header-anchor" href="#案例-串口收发数据-实现printf"><span>案例：串口收发数据；实现printf</span></a></h3><blockquote><ul><li>arm-none-eabi-gcc 默认情况下不会启用 printf 中的浮点支持。</li><li>要启用，需添加-u _printf_float到 LDFLAGS</li><li>即：<code>LDFLAGS += -u _printf_float</code></li></ul></blockquote><p><strong>步骤</strong></p><ul><li>开启时钟，USART、GPIO</li><li>配置GPIO,RX数字输入，TX复用推挽输出</li><li>配置USART</li><li>如果需要接收数据，可能要配置DMA或中断</li></ul>`,37),vh=i("code",null,"Serial.h",-1),_h=i("code",null,"Serial.c",-1),bh=i("code",null,"main.cpp",-1),Bh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Serial_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Serial_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stdio.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendArray"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"arry"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"const"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," char"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," num"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"const"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"format"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ..."),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ih=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*开启时钟*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启USART1的时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 开启GPIOA的时钟")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*GPIO发送脚配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_9"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 速率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 复用推挽输出")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*GPIO接收脚配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 速率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 上拉输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*USART配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    USART_InitTypeDef USART_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        9600"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                           // USART_BaudRate 波特率：9600")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_WordLength_8b"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // USART_WordLength 字长：8比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_StopBits_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // USART_StopBits 停止位长度：1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_Parity_No"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // USART_Parity, 校验位：不校验")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_Mode_Rx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_Mode_Tx"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // USART_Mode 模式：收发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_HardwareFlowControl_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // USART_HardwareFlowControl 硬件流控制：无")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*启动USART*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 写入TDR,发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 检查TDR是否为空，为空说明数据已经转运到了移位发送寄存器。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"USART_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_FLAG_TXE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," !="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 该标志位不需要手动置0，在下一次写入数据的时候自动置0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 收到数据返回真")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"USART_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_FLAG_RXNE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"        *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Byte "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," USART_ReceiveData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 读取数据后，接收数据寄存器非空标志位会自动清零")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        return"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"        *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Byte "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        return"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendArray"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"arry"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"arry"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"const"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," char"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"str"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," num"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"num "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'-'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"num"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"num "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 9"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'0'"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," num"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"num "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"num "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/*针对于arm编译器(microlib)，需要重写fputc实现对printf的重写*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," fputc"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#4EC9B0","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FILE"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"dest"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/*针对于gcc-arm编译器，需要重写_write实现对printf的重写*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," fd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," char"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"pBuffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"pBuffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," <stdarg.h>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"const"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"format"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ..."),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 这种写法感觉不完美")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    char"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"256"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    va_list args"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    va_start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"args"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," format"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    vfprintf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," format"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," args"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    va_end"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"args"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"str"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Sh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," STACK_MAX"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 255")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"Send Byte:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'A'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'B'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'C'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"Send String:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"this is a string.'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"Send Array:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," arr[] "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'a'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," 'b'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," 'c'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendArray"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"arr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"Send Number:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"123456"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendNumber"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"123456"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SendString"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"printf:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"this is printf output num=%d '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 123"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"        uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Serial_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ph=i("p",null,[i("img",{src:Zi,alt:"Alt text"})],-1),Th=i("h3",{id:"案例-串口中断接收处理数据",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#案例-串口中断接收处理数据"},[i("span",null,"案例：串口中断接收处理数据")])],-1),xh=i("code",null,"Serial.h",-1),Rh=i("code",null,"Serial.c",-1),Mh=i("code",null,"main.cpp",-1),Oh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Serial_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Serial_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stdio.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SetDataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (*"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"_dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Lh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*开启时钟*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启USART1的时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 开启GPIOA的时钟")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*GPIO发送脚配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_9"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 速率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 复用推挽输出")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*GPIO接收脚配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 速率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 上拉输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*USART配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    USART_InitTypeDef USART_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        9600"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                           // USART_BaudRate 波特率：9600")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_WordLength_8b"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // USART_WordLength 字长：8比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_StopBits_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // USART_StopBits 停止位长度：1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_Parity_No"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // USART_Parity, 校验位：不校验")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_Mode_Rx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_Mode_Tx"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // USART_Mode 模式：收发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_HardwareFlowControl_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // USART_HardwareFlowControl 硬件流控制：无")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*配置NVIC，把接收到数据的信号通向NVIC*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_ITConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_IT_RXNE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*配置NVIC优先级分组方式*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_PriorityGroupConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_PriorityGroup_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*配置NVIC启用USART1中断通道*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    NVIC_InitTypeDef NVIC_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART1_IRQn"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 通道")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ENABLE"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 启用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*启动USART*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/** 处理接收数据的函数*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," NULL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SetDataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (*"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"_dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    dataHandler "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**重写中断处理函数，读取接收到的数据，传递给数据处理函数*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," USART1_IRQHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"USART_ReceiveData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Gh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," BUFFER_MAX_SIZE"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 5")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," buffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BUFFER_MAX_SIZE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/** 定义接收到数据时的处理函数*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 保存数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    buffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"length"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    length "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," BUFFER_MAX_SIZE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SetDataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," buffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Wh=i("h3",{id:"案例-实现简易通信协议",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#案例-实现简易通信协议"},[i("span",null,"案例：实现简易通信协议")])],-1),Nh=i("p",null,[i("img",{src:Ji,alt:"Alt text"})],-1),Uh=i("code",null,"SimpleProtocol.h",-1),wh=i("code",null,"SimpleProtocol.c",-1),Hh=i("code",null,"main.h",-1),Kh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __SimpleProtocol_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __SimpleProtocol_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rxPkgSize"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," txPkgSize"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," rxPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"255"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"255"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*是否收到数据包*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_isReceived"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*恢复接收状态*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_reset_state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*解析数据包，提取原始数据*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_parse_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*将数据封装成数据包*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_packet_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),zh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "SimpleProtocol.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 定义包头，包尾")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 定义转义符号")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 类似于定义字符串 "12345"，两个双引号标识字符串的开始和结束，')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 但是字符串中间要传输双引号 就需要转义字符")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 如 "12345"  实际数据为 12345')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 如 "abcde"  实际数据为 abcde')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 如 "123\\"45"  实际数据为 123"45')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 如 "123\\x45"  实际数据为 123\\x45')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 如 "123\\145"  实际数据为 123\\145')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},'// 如 "123\\\\45"  实际数据为 123\\45')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," pkg_header"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"ff"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 帧头")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," pkg_tail"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"fe"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 帧尾")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," pkg_escape"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"fc"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 转义符号")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waiting_for_header"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 等待包头")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waiting_for_data"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 等待数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waiting_for_escaped_data"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待转义数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waiting_for_tail"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 等待包尾")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waiting_for_read"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 等待读取")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_header"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rxPkgSize "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," txPkgSize "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**收到的数据帧，无帧头帧尾，无转义的原始数据*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," rxPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"255"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**待发送的封装完毕的数据帧，有帧头帧尾，有转义数据*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"255"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/*是否收到数据包*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_isReceived"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_reset_state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_header"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**解析数据*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_parse_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 等待帧头")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_header"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 收到帧头")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_header"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            rxPkgSize "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 等待数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 收到转义字符")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_escape"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_escaped_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 收到帧头")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_tail"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            rxPkgSize "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 收到帧尾")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_tail"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 收到普通数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            rxPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"rxPkgSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 等待转义数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_escaped_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        rxPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"rxPkgSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," waiting_for_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," protocol_packet_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    txPkgSize "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 添加帧头")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"txPkgSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_header"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 填充数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 如果数据是特殊字符，添加转义")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_header "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"||")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_escape "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"||")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_tail"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"txPkgSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_escape"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"txPkgSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 添加帧尾")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"txPkgSize"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," pkg_tail"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Vh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "SimpleProtocol.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    protocol_parse_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SetDataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"protocol_isReceived"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"            for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rxPkgSize"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"            {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," rxPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"            }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 将收到的数据封装打包")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            protocol_packet_data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"rxPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rxPkgSize"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 将打包好的数据发送")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            Serial_SendArray"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"txPacket"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," txPkgSize"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            protocol_reset_state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowHexNum"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," rxPkgSize"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Xh=k('<h2 id="i2c通信软件实现" tabindex="-1"><a class="header-anchor" href="#i2c通信软件实现"><span>I2C通信软件实现</span></a></h2><h3 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h3><ul><li>I²C（Inter-Integrated Circuit）集成电路之间的总线，</li><li>是I²C Bus简称,</li><li>中文:集成电路总线</li><li>两根通信线： <ul><li>SCL（Serial Clock）串行时钟</li><li>SDA（Serial Data）串行数据</li></ul></li><li>同步，半双工</li><li>带数据应答</li><li>支持总线挂载多设备 <ul><li>一主多从</li><li>多主多从</li></ul></li><li><img src="'+$i+'" alt="Alt text"><ul><li>MPU6050</li><li>0.96 OLED</li><li>AT24C02</li></ul></li></ul><h3 id="硬件规定" tabindex="-1"><a class="header-anchor" href="#硬件规定"><span>硬件规定</span></a></h3><ul><li>所有I2C设备，SCL连在一起，SDA连在一起</li><li>设备的SCL和SDA均要配置成<strong>开漏输出模式</strong></li><li>SCL和SDA各添加一个上拉电阻，阻值一般为4.7KΩ左右</li><li><img src="'+is+'" alt="Alt text"></li></ul><h3 id="时序规定" tabindex="-1"><a class="header-anchor" href="#时序规定"><span>时序规定</span></a></h3><p><strong>通信的开始</strong></p><ul><li>SCL高电平期间，SDA从高电平切换到低电平</li><li><img src="'+ss+'" alt="Alt text"></li></ul><p><strong>通信的结束</strong></p><ul><li>SCL高电平期间，SDA从低电平切换到高电平</li><li><img src="'+ls+'" alt="Alt text"></li></ul><p><strong>字节数据的发送</strong></p><ul><li>SCL低电平期间，</li><li>主机将数据位放到SDA线上（高位先行），然后释放SCL，</li><li>从机将在SCL高电平期间读取数据位， <ul><li>所以SCL高电平期间SDA不允许有数据变化，</li></ul></li><li>依次循环上述过程8次，即可发送一个字节</li><li><img src="'+ts+'" alt="Alt text"></li></ul><p><strong>字节数据的接收</strong></p><ul><li>SCL低电平期间，</li><li>从机将数据位放到SDA线上（高位先行），然后释放SCL，</li><li>主机将在SCL高电平期间读取数据位， <ul><li>所以SCL高电平期间SDA不允许有数据变化，</li></ul></li><li>依次循环上述过程8次，</li><li>即可接收一个字节（主机在接收之前，需要释放SDA）</li><li><img src="'+hs+'" alt="Alt text"></li></ul><p><strong>应答信号的发送</strong></p><ul><li>主机在接收完一个字节之后，</li><li>在下一个时钟发送一位数据，</li><li>数据0表示应答，数据1表示非应答</li><li><img src="'+as+'" alt="Alt text"></li></ul><p><strong>应答信号的接收</strong></p><ul><li>主机在发送完一个字节之后，</li><li>在下一个时钟接收一位数据，</li><li>判断从机是否应答，数据0表示应答，数据1表示非应答（主机在接收之前，需要释放SDA）</li><li><img src="'+ns+'" alt="Alt text"></li></ul><p><strong>总结</strong></p><ul><li><img src="'+ks+'" alt="Alt text"></li></ul><h3 id="i2c通信时序" tabindex="-1"><a class="header-anchor" href="#i2c通信时序"><span>I2C通信时序</span></a></h3><p><strong>地址寄存器</strong></p><ul><li>从设备中存在一个地址寄存器，</li><li>该寄存器实际是一个指针，指向另一个寄存器</li><li>初始值为0，</li><li>读写从设备的数据，就是在读取指针(地址寄存器)指向的寄存器的数据</li><li>每次读写从设备后，该寄存器的值都会自增。</li><li>主设备读写从设备寄存器时，会发送要操作的寄存器地址，这个地址就会写入指针（地址寄存器）中</li><li><blockquote><p>所以在进行连续多字节读/写时，只需要指定一次地址</p></blockquote></li></ul><p><strong>单字节/多字节写入(指定地址)</strong></p><ul><li><blockquote><p>写入单字节可以看作是写入多字节的特殊情况</p></blockquote></li><li>主机发送开始通信信号</li><li>主机发送从机地址和写标志位 <ul><li>7bit地址右移1位，或上1bit的写标志位0，共8bit数据</li></ul></li><li>从机发送ACK信号，表示成功接收</li><li>主机发送要写入寄存器的地址</li><li>从机发送ACK信号，表示成功接收</li><li>写入数据(单字节或多字节) <ul><li>主机发送要写入的8bit数据</li><li>从机发送ACK信号，表示成功接收</li><li>主机发送要写入的8bit数据</li><li>从机发送ACK信号，表示成功接收</li><li>......</li><li>主机发送要写入的8bit数据</li><li>从机发送ACK信号，表示成功接收</li></ul></li><li>主机发送结束通信信号</li><li><img src="'+es+'" alt="Alt text"></li><li><img src="'+rs+'" alt="Alt text"></li></ul><p><strong>单字节/多字节读取（不指定地址）</strong></p><ul><li><img src="'+ds+'" alt="Alt text"></li><li><img src="'+Es+'" alt="Alt text"></li></ul><p><strong>单字节/多字节读取（指定地址）</strong></p><ul><li><blockquote><p>读取单字节可以看作是读取多字节的特殊情况</p></blockquote></li><li>主机发送开始信号</li><li>主机发送从机地址和写标志位 <ul><li>7bit地址右移1位，或上1bit的写标志位0，共8bit数据</li></ul></li><li>从机发送ACK信号，表示成功接收</li><li>主机发送寄存器地址</li><li>从机发送ACK信号，表示成功接收</li><li>主机再次发送开始信号</li><li>主机发送从机地址和读标志位 <ul><li>7bit地址右移1位，或上1bit的读标志位1，共8bit数据</li></ul></li><li>从机发送ACK信号，表示成功接收</li><li>读取数据(单字节或多字节) <ul><li>从机发送8bit数据，主机读取</li><li>主机发送ACK信号，表示成功接收</li><li>从机发送8bit数据，主机读取</li><li>主机发送ACK信号，表示成功接收</li><li>......</li><li>从机发送8bit数据，主机读取</li><li>主机发送NACK信号，表示读取完成（重要！！！）</li></ul></li><li>主机发送结束信号</li><li><img src="'+ps+'" alt="Alt text"></li><li><img src="'+ys+'" alt="Alt text"></li></ul><p><strong>总结</strong></p><ul><li><img src="'+gs+'" alt="Alt text"></li></ul><h3 id="i2c通信软件实现-1" tabindex="-1"><a class="header-anchor" href="#i2c通信软件实现-1"><span>I2C通信软件实现</span></a></h3>',32),Qh=i("code",null,"Soft_I2C.h",-1),qh=i("code",null,"Soft_I2C.c",-1),Yh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_I2C_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_I2C_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," I2C_Port"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," GPIOA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," SLK"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," GPIO_Pin_2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," SDA"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," GPIO_Pin_1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Height"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," Bit_SET")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," LOW"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," Bit_RESET")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ACK"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," NACK"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 1Mhz => 1us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 400khz => 0.4Mhz => (1/0.4)us => 2.5us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," US"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 写入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"                     \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},");"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Delay_us"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"US"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"                     \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},");"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Delay_us"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"US"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 读取")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," R_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"()"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," GPIO_ReadInputDataBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," R_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"()"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," GPIO_ReadInputDataBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 产生基本时序 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开始")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 停止")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 写比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 读写字节 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 写字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_WriteByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 发送和接收字节 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发字节，并检查ACK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 收字节，并发送ACK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," endWithAck"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 对指定设备的指定寄存器读写数据 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Read_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),jh=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Soft_I2C.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SLK "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_Out_OD"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_SetBits"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SLK "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ######################## [ Start/Stop ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SCL ________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //             |_________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SDA ____")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //         |_____________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 先拉高数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 再拉高时钟（避免在时钟高电平期间修改数据位）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 先拉低数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 再拉低时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SCL          ________________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     ________|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SDA                  ________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     ________________|")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 先拉低时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 再拉低数据（避免在时钟高电平期间修改数据位）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ######################## [ read/write Bit ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 写入比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //                 ________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SCL ___________|        |___________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     ________ ______________ ________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SDA ________X______________X________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 先拉低时钟(始终保持时钟线低电平)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"state "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"?"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Height "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},":"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 再写入数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 再拉高时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 再拉低时钟(始终保持时钟线低电平)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 松开数据线(保持数据线悬空)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 读取比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //                 ________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SCL ___________|        |___________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    //     ________ ______________ ________")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SDA ________X______________X________")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 先拉低时钟(始终保持时钟线低电平)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Height"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 再拉高时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," res "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," R_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 再读取数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"LOW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 再拉低时钟(始终保持时钟线低电平)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," res"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 写入字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_WriteByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Soft_I2C_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"byte "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"80"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," >>"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 读取字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ######################## [ send/receive Byte ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 发送字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_WriteByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ACK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 接收字节，并发送AKC")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 接收值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," endWithAck"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," val "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"endWithAck"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," val"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ######################## [ Device Write/Write Data/Datas ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器写入单字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 是否写入成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 单字节写入时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 主 | Start | AD+W |     | RA |     | DATA |     | Stop |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 从 |       |      | ACK |    | ACK |      | ACK |      |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                 // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 发送寄存器地址 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                      // 发送字节 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                  // 结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                 // 返回是否成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器写入多个字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 是否写入成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 多字节写入时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 主 | Start | AD+W |     | RA |     | DATA |     | DATA |     | ...... | DATA |     | Stop |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 从 |       |      | ACK |    | ACK |      | ACK |      | ACK | ...... |      | ACK |      |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                 // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 发送寄存器地址 返回是否发送成功")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 失败结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送寄存器地址 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                              // 失败结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"            goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 返回是否成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器读取单字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 读取的字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Read_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 单字节写入时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 主 | Start | AD+W |     | RA |     | Start | AD+R |      | NACK | Stop |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 从 |       |      | ACK |    | ACK |       |      | DATA |      |      |")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                 // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 发送寄存器地址 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                   // 失败结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                      // 再次开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                        // 失败结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NACK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 接收一个字节，回应一个NACK表示读取完毕")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 返回是否成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器读取多字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@return"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 读取的字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 单字节写入时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 主 | Start | AD+W |     | RA |     | Start | AD+R |      | ACK |      | ACK | ...... |      | NACK | Stop |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 从 |       |      | ACK |    | ACK |       |      | DATA |     | DATA |     | ...... | DATA |      |      |")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                 // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 发送寄存器地址 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                                   // 如果发送失败，结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                      // 再次开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志 返回是否发送成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                                        // 如果发送失败，结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                      // 除了读取最后一个字节时要回应NACK,读取其余字节要回应ACK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ACK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 接收一个字节，回应一个ACK表示读取成功")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NACK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 最后一个字节接收完成后发送NACK")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Zh=k('<h2 id="i2c通信硬件实现" tabindex="-1"><a class="header-anchor" href="#i2c通信硬件实现"><span>I2C通信硬件实现</span></a></h2><h3 id="简介-1" tabindex="-1"><a class="header-anchor" href="#简介-1"><span>简介</span></a></h3><ul><li>STM32内部集成了硬件I2C收发电路， <ul><li>硬件自动生成时钟、</li><li>起始终止条件生成、</li><li>应答位收发、</li><li>数据收发等</li></ul></li><li>支持多主机模型 <ul><li>一主多从模型</li><li>多主机模型 <ul><li>固定多主机模型</li><li>可变多主机模型（stm32）</li></ul></li></ul></li><li>支持7位/10位地址模式 <ul><li>7bit地址：起始 + 7bit地址+1bit读写标志</li><li>10bit地址：起始 + 5bit标志位(11110) + 10bit地址 + 1bit读写标志</li></ul></li><li>支持不同的通讯速度 <ul><li>标准速度(高达100 kHz)</li><li>快速(高达400 kHz)</li></ul></li><li>支持DMA <ul><li>在使用I2C读写多字节数据时可使用DMA提高效率</li></ul></li><li>兼容SMBus协议</li></ul><blockquote><p>STM32F103C8T6 硬件I2C资源：I2C1、I2C2</p></blockquote><h3 id="功能框图" tabindex="-1"><a class="header-anchor" href="#功能框图"><span>功能框图</span></a></h3><p><img src="'+Cs+'" alt="Alt text"></p><h3 id="功能简图" tabindex="-1"><a class="header-anchor" href="#功能简图"><span>功能简图</span></a></h3><p><img src="'+cs+'" alt="Alt text"></p><h3 id="收发时序" tabindex="-1"><a class="header-anchor" href="#收发时序"><span>收发时序</span></a></h3><p><img src="'+Fs+'" alt="Alt text"><br><img src="'+os+'" alt="Alt text"></p><h3 id="案例代码" tabindex="-1"><a class="header-anchor" href="#案例代码"><span>案例代码</span></a></h3>',11),Jh=i("code",null,"Hard_I2C.h",-1),$h=i("code",null,"Hard_I2C.c",-1),ia=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_I2C_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_I2C_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 对指定设备的指定寄存器读写数据 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),sa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Hard_I2C.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // init gpio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // PB10为I2C2_SCL")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // PB11为I2C2_SDA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_10 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_11"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_OD"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 复用开漏输出")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // init i2c")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    I2C_InitTypeDef I2C_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        50000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 时钟速度 50khz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        I2C_Mode_I2C"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // i2c模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        I2C_DutyCycle_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"              // 占空比(低:高) 2:1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"        0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                         // 本机地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        I2C_Ack_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // 自动回应ACK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        I2C_AcknowledgedAddress_7bit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 7bit地址模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 初始化")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 启动")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," TimeOut"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 带有超时机制的等待事件")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," I2C_EVENT"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," timer "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"I2C_CheckEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," I2C_EVENT"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," !="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SUCCESS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"timer"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," >"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," TimeOut"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"            return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ERROR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 超时退出")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SUCCESS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ######################## [ Device Write/Write ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器写入单个字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器写入单个或多个字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 多字节写入时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 主 | Start | AD+W |     | RA |     | DATA |     | DATA |     | ...... | DATA |     | Stop |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 从 |       |      | ACK |    | ACK |      | ACK |      | ACK | ...... |      | ACK |      |")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 生成START信号")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_GenerateSTART"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待EV5事件（主机模式已选择，成功发送start信号）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_MODE_SELECT"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式已选择事件（默认处于从机模式）*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据（自带接收应答功能）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待ev6事件（发送模式已选择）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_TRANSMITTER_MODE_SELECTED"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机发送模式已选择事件*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送寄存器地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待ev8事件（正在发送数据，因为此时数据写入DR寄存器,DR转交数据给移位寄存器发送数据，此时DR为空，移位寄存器有数据）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_BYTE_TRANSMITTING"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式正在发送字节事件*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        I2C_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 阻塞，等待ev8事件（正在发送数据，因为此时数据写入DR寄存器,DR转交数据给移位寄存器发送数据，此时DR为空，移位寄存器有数据）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_BYTE_TRANSMITTING"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式正在发送字节事件*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"            goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待ev8_2事件（发送数据完毕，因为此时数据写入DR寄存器,DR转交数据给移位寄存器发送数据，发送完毕后移位寄存器空，DR寄存器也空）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_BYTE_TRANSMITTED"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式发送字节完成*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 生成STOP信号")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_GenerateSTOP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 结束通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器读取单个字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"@brief"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," 在指定设备的指定寄存器读取单个或多个字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 单字节写入时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 主 | Start | AD+W |     | RA |     | Start | AD+R |      | ACK |      | ACK | ...... |      | NACK | Stop |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // | 从 |       |      | ACK |    | ACK |       |      | DATA |     | DATA |     | ...... | DATA |      |      |")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 生成START信号")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_GenerateSTART"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待EV5事件（主机模式已选择，成功发送start信号）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_MODE_SELECT"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式已选择事件（默认处于从机模式）*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据（自带接收应答功能）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待ev6事件（发送模式已选择）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_TRANSMITTER_MODE_SELECTED"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机发送模式已选择事件*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送寄存器地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待ev8_2事件（发送数据完毕，因为此时数据写入DR寄存器,DR转交数据给移位寄存器发送数据，发送完毕后移位寄存器空，DR寄存器也空）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_BYTE_TRANSMITTED"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式发送字节完成*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 生成START信号")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_GenerateSTART"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开始通信")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待EV5事件（主机模式已选择，成功发送start信号）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_MODE_SELECT"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式已选择事件（默认处于从机模式）*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据（自带接收应答功能）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"deviceId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 发送设备id 读写标志")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 阻塞，等待ev6事件（接收模式已选择）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_RECEIVER_MODE_SELECTED"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机接收模式已选择事件*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"-"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 接收最后一个字节时")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 准备接收最后一个数据，提前设置好ACK=1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            I2C_AcknowledgeConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," DISABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 生成STOP信号(不会立即生成,会在字节接收完毕后产生stop信号)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            I2C_GenerateSTOP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 阻塞，等待ev7事件（接收数据完毕，此时ACK=1响应已经发送，停止信号正在产生）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"isSuccess "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," waitEvent"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C_EVENT_MASTER_BYTE_RECEIVED"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," /*主机模式接收字节完成*/"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"            goto"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 读取DR,就是接收到的数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," I2C_ReceiveData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"_stop_"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 恢复ACK默认设置，即在收到字节后默认发ACK=0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    I2C_AcknowledgeConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"I2C2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," isSuccess"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),la=k('<h2 id="mpu6050" tabindex="-1"><a class="header-anchor" href="#mpu6050"><span>MPU6050</span></a></h2><h3 id="简介-2" tabindex="-1"><a class="header-anchor" href="#简介-2"><span>简介</span></a></h3><ul><li>MPU6050是一个6轴姿态传感器， <ul><li>可以测量芯片自身X、Y、Z轴的<strong>加速度</strong>、<strong>角速度</strong>参数，</li><li>通过数据融合，可进一步得到<strong>姿态角</strong>。</li></ul></li><li>常应用于平衡车、飞行器等需要检测自身<strong>姿态</strong>的场景</li><li>3轴加速度计（Accelerometer）：测量X、Y、Z轴的加速度</li><li>3轴陀螺仪传感器（Gyroscope）：测量X、Y、Z轴的角速度</li><li>9轴：加速度x3、角速度x3、磁场强度x3</li><li>10轴：加速度x3、角速度x3、磁场强度x3(方向)、气压计x1(高度)</li><li><img src="'+Ds+'" alt="Alt text"></li></ul><h3 id="可配置参数" tabindex="-1"><a class="header-anchor" href="#可配置参数"><span>可配置参数</span></a></h3><ul><li>16位ADC采集传感器的模拟信号，量化范围：-32768~32767</li><li>加速度计满量程选择：±2、±4、±8、±16（g）</li><li>陀螺仪满量程选择： ±250、±500、±1000、±2000（°/sec） <ul><li>量程越小，精度越高</li></ul></li><li>可配置的数字低通滤波器</li><li>可配置的时钟源</li><li>可配置的采样分频</li><li>I2C从机地址： <ul><li>可通过AD0引脚配置地址的最后一位</li><li><code>0x68 =&gt; 0110 1000（AD0=0）</code></li><li><code>0x69 =&gt; 0110 1001（AD0=1）</code></li></ul></li></ul><h3 id="芯片框图" tabindex="-1"><a class="header-anchor" href="#芯片框图"><span>芯片框图</span></a></h3><ul><li><img src="'+As+'" alt="Alt text"></li><li>加速度计x3,角速度计x3，温度传感器x1 <ul><li>输出的模拟信号，</li><li>通向各自的ADC（16位）进行模数转换</li><li>转换完成后放入各自的传感器数据寄存器中。</li><li>使用I2C协议读取寄存器，即可得到各自的值。</li></ul></li><li>自测单元 <ul><li>启动自测后，</li><li>内部会模拟外力施加在传感器上，</li><li>这将导致传感器输出一个较大值的模拟信号</li><li>自测响应：使能自测前寄存器值-使能自测后寄存器值</li><li>自测响应在数据手册给出的范围中，说明芯片正常。</li></ul></li><li>电荷泵 <ul><li>升压电路</li><li>用于给角速度传感器提供高压支持</li><li>CPOUT需外接电容</li></ul></li><li>中断状态寄存器 <ul><li>可以控制芯片内部的某些事件输出到INT中断引脚</li></ul></li><li>FIFO <ul><li>先入先出寄存器</li><li>可对数据流缓存</li></ul></li><li>配置寄存器 <ul><li>配置芯片内部电路</li></ul></li><li>传感器寄存器 <ul><li>各个传感器的数据寄存器</li></ul></li><li>工厂校准 <ul><li>用来实现在出厂前对传感器进行校准</li></ul></li><li>数字运动处理器（DMP） <ul><li>芯片内部自带姿态解算硬件算法</li><li>需配合官方的DMP库</li></ul></li><li>FSYNC <ul><li>帧同步</li></ul></li><li>通信部分 <ul><li>I2C从机和SPI串行接口 <ul><li>用来实现对I2C和SPI通信的支持</li></ul></li><li>I2C主机串行接口 <ul><li>用来实现对I2C从机设备的支持</li><li>可以外挂磁力传感器到6脚和7脚</li></ul></li><li>串行接口选择器（Serial Interface Bypass Mux） <ul><li>一个开关</li><li>可以实现将7、6脚并联到23、24脚上</li></ul></li></ul></li><li>Bias&amp;LDO <ul><li>供电部分</li></ul></li></ul><h3 id="芯片电器特性" tabindex="-1"><a class="header-anchor" href="#芯片电器特性"><span>芯片电器特性</span></a></h3><ul><li>I2C时钟最大频率400K</li><li>供电电压[2.375,3.46]</li></ul><h3 id="时钟源的选择" tabindex="-1"><a class="header-anchor" href="#时钟源的选择"><span>时钟源的选择</span></a></h3><ul><li>允许的内部时钟 <ul><li>一个内部弛张振荡器 (Relaxation oscillator)</li><li>XYZ陀螺仪内部的MEMS振荡器时钟(随温度精度变化±1%)</li></ul></li><li>允许的外部时钟 <ul><li>32.768Khz方波</li><li>19.2Mhz方波</li></ul></li></ul><h3 id="主要寄存器" tabindex="-1"><a class="header-anchor" href="#主要寄存器"><span>主要寄存器</span></a></h3><ul><li>配置寄存器 <ul><li>SMPLRT_DIV 采样频率分频器</li><li>CONFIG 配置寄存器</li><li>GYRO_CONFIG 陀螺仪配置寄存器</li><li>ACCEL_CONFIG 加速度计配置寄存器</li><li><img src="'+fs+'" alt="Alt text"></li></ul></li><li>数据寄存器 <ul><li>ACCEL加速度计</li><li>TEMP温度计</li><li>GYRO陀螺仪</li><li>_L低8bit</li><li>_H高8bit</li><li><img src="'+us+'" alt="Alt text"></li></ul></li><li>其他 <ul><li>PWR_MGMT_1电源管理配置寄存器1</li><li>PWR_MGMT_2电源管理配置寄存器2</li><li>WHO_AM_I器件ID(最后一位始终0)</li><li><img src="'+ms+'" alt="Alt text"></li></ul></li></ul><h3 id="主要寄存器详细说明" tabindex="-1"><a class="header-anchor" href="#主要寄存器详细说明"><span>主要寄存器详细说明</span></a></h3><blockquote><p>所有寄存器的默认值为0x00，除了：</p><ul><li>0x75 WHO_AM_I 默认值：0x68 (芯片id)</li><li>0x68 PWR_MGMT_1 默认值：0x40 (低功耗模式)</li></ul></blockquote><p><strong>SMPLRT_DIV采样频率分频器</strong></p><ul><li><img src="'+vs+'" alt="Alt text"></li><li>采样频率 = 内部时钟频率/(1+SMPLRT_DIV)</li><li>数据手册推荐将内部陀螺仪时钟作为内部时钟</li><li>不使用低通滤波器时，陀螺仪时钟为8k,使用后为1k</li></ul><hr><p><strong>CONFIG配置寄存器</strong></p><ul><li><img src="'+_s+'" alt="Alt text"></li><li>EXT_SYNC_SET[2:0] 外部同步设置 <ul><li>略</li></ul></li><li>DLPF_CFG[2:0] 低通滤波器配置 <ul><li>可以让输出数据更平滑</li><li>配置为0时，表示不使用滤波器，陀螺仪时钟为8K,否则为1k</li><li>配置为1时，使用滤波器，对于加速度计延迟2ms采样，对于陀螺仪计延迟1.9ms采样</li><li>......</li><li><img src="'+bs+'" alt="Alt text"></li></ul></li></ul><hr><p><strong>GYRO_CONFIG陀螺仪配置寄存器</strong></p><ul><li><img src="'+Bs+'" alt="Alt text"></li><li>XG_ST、YG_ST、ZG_ST <ul><li>X、Y、Z轴的自测使能位</li><li>自测响应=自测使能开启时传感器输出-自测使能关闭时传感器输出</li><li>自测响应范围：</li><li><img src="'+Is+'" alt="Alt text"></li></ul></li><li>FS_SEL[1:0] 满量程选择位 <ul><li><img src="'+Ss+'" alt="Alt text"></li></ul></li></ul><hr><p><strong>ACCEL_CONFIG 加速度计配置寄存器</strong></p><ul><li><img src="'+Ps+'" alt="Alt text"><ul><li>XA_ST YA_ST ZA_ST，自测使能 <ul><li>略，同上。</li><li><img src="'+Ts+'" alt="Alt text"></li></ul></li><li>AFS_SEL[1:0] 满量程选择位</li><li><img src="'+xs+'" alt="Alt text"></li></ul></li></ul><hr><p><strong>ACCEL加速度传感器数据寄存器x3</strong></p><ul><li><img src="'+Rs+'" alt="Alt text"></li><li>ACCEL_XOUT、ACCEL_YOUT、ACCEL_ZOUT <ul><li>每个数据为16bit补码形式（16-bit 2’s complement value）</li></ul></li></ul><hr><p><strong>TEMP加速度传感器数据寄存器x1</strong></p><ul><li><img src="'+Ms+'" alt="Alt text"></li><li>温度值（℃）的计算 <ul><li><img src="'+Os+'" alt="Alt text"></li></ul></li><li>类型 <ul><li>16bit有符号数</li><li><img src="'+Ls+'" alt="Alt text"></li></ul></li></ul><hr><p><strong>GYRO陀螺仪传感器数据寄存器x3</strong></p><ul><li><img src="'+Gs+'" alt="Alt text"></li><li>略</li></ul><hr><p><strong>PWR_MGMT_1 电源管理配置寄存器1</strong></p><ul><li><img src="'+Ws+'" alt="Alt text"></li><li>DEVICE_RESET 设备复位位 <ul><li>写1复位所有寄存器到默认值</li></ul></li><li>SLEEP 睡眠模式 <ul><li>写1芯片睡眠，进入低功耗模式</li></ul></li><li>CYCLE 循环模式 <ul><li>设备进入低功耗模式，过一段时间启动一次，启动频率由下一个寄存器的最高两位决定</li></ul></li><li>TEMP_DIS 温度传感器失能 <ul><li>写1关闭温度传感器</li></ul></li><li>CLKSEL 时钟来源选择 <ul><li>可选值：</li><li><img src="'+Ns+'" alt="Alt text"></li><li>一般选择内部8M时钟或陀螺仪时钟。</li><li>数据手册强烈建议选择陀螺仪时钟或外部时钟来提高稳定性。</li></ul></li></ul><hr><p><strong>PWR_MGMT_2 电源管理配置寄存器2</strong></p><ul><li><img src="'+Us+'" alt="Alt text"></li><li>LP_WAKE_CTRL <ul><li>用来配置循环模式的启动频率</li><li>可选值：</li><li><img src="'+ws+'" alt="Alt text"></li><li>例： <ul><li>设置PWR_MGMT_1.SLEEP=0(关闭睡眠模式)</li><li>设置PWR_MGMT_1.CYCLE=1(开启循环模式)</li><li>设置PWR_MGMT_2.LP_WAKE_CTRL=1(配置启动频率为5hz)</li></ul></li></ul></li><li>STBY_XA、STBY_YA、STBY_ZA、STBY_XG、STBY_YG、STBY_ZG <ul><li>6个轴的待机控制位</li><li>如果不需要某些轴的数据可以写1实现待机省电。</li></ul></li></ul><p><strong>WHO_AM_I器件ID</strong>(最后一位始终0)</p><ul><li><img src="'+Hs+'" alt="Alt text"></li><li>用来验证器件的id</li><li>存储的是芯片7bit地址的高6位。</li><li>其实际I2C地址取决于AP0引脚</li><li>默认值为0x68</li></ul><h3 id="基于软件i2c实现mpu6050驱动" tabindex="-1"><a class="header-anchor" href="#基于软件i2c实现mpu6050驱动"><span>基于软件I2C实现MPU6050驱动</span></a></h3>',44),ta=i("code",null,"main.cpp",-1),ha=i("code",null,"MPU6050.h",-1),aa=i("code",null,"MPU6050.c",-1),na=i("code",null,"Soft_I2C.h",-1),ka=i("code",null,"OLED_Printf.h",-1),ea=i("code",null,"OLED_Printf.c",-1),ra=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Soft_I2C.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "MPU6050.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    MPU6050_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        MPU6050_Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"ACC:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\t"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"GYR:"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"x:%2.2f %2.2f'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 250"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"y:%2.2f %2.2f'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 250"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"z:%2.2f %2.2f'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 250"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),da=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __MPU6050_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __MPU6050_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Soft_I2C.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 设备ID")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"68")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 配置寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_SMPLRT_DIV"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"19")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_CONFIG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1A")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_CONFIG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_CONFIG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 数据寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_XOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_XOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_YOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3D")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_YOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3E")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_ZOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3F")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_ZOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"40")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_TEMP_OUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"41")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_TEMP_OUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"42")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_XOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"43")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_XOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"44")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_YOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"45")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_YOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"46")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_ZOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"47")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_ZOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"48")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 其他寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_PWR_MGMT_1"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_PWR_MGMT_2"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_WHO_AM_I"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"75")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," temp"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ea=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "MPU6050.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"14"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 加速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 温度x1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," temp"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 加速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_PWR_MGMT_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 关闭默认的睡眠模式,配置时钟源为陀螺仪时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_SMPLRT_DIV"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"09"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 采样频率分频器,0x00不分频 0x09分频系数10")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_CONFIG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"06"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 0x00不使用滤波器 0x06使用最平滑的滤波")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_GYRO_CONFIG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 陀螺仪配置 默认满量程±250°/s")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_ACCEL_CONFIG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 加速度计配置 默认满量程±2g")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * 耗时:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * MPU6050时钟最大频率 400khz => 0.4Mhz => (1/0.4)us => 2.5us ≈ 3us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * 数据量：开始 主机地址x1 ACK 寄存器地址x1 ACK 开始 主机地址x1 ACK (数据+ACK)x14 结束 ≈ 17字节 => 136比特位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * 耗时 = 3us x 136bit = 408 us ≈ 0.4 ms")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     **/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_ACCEL_XOUT_H"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 14"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," j "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," k "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"        int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," <<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"j"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 加速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            temp "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 温度x1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"k"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 角速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),pa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_I2C_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_I2C_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," I2C_Port"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," GPIOA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," SLK"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," GPIO_Pin_2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," SDA"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," GPIO_Pin_1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Height"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," Bit_SET")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," LOW"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," Bit_RESET")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ACK"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," NACK"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 1Mhz => 1us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 400khz => 0.4Mhz => (1/0.4)us => 2.5us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," US"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 写入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"                     \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},");"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Delay_us"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"US"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"                     \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," X"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},");"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}}," \\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Delay_us"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"US"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 读取")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," R_SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"()"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," GPIO_ReadInputDataBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SLK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," R_SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"()"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," GPIO_ReadInputDataBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"I2C_Port"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," SDA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 产生基本时序 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开始")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 停止")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 写比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," state"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 读写字节 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 写字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_WriteByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读字节")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReadByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 发送和接收字节 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发字节，并检查ACK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_SendByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," byte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 收字节，并发送ACK")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_ReceiveByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," endWithAck"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 对指定设备的指定寄存器读写数据 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Read_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ya=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __OLED_PRINTF_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __OLED_PRINTF_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stdio.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "math.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MAX_ROW"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MAX_COL"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," OLED_putchar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"char"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," OLED_Printf"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," printf")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ga=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," row "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," OLED_putchar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"char"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"row "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Clear"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 清屏")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," '"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\r"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 回到第一列")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," '"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 回到第一列")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        row "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 换行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}}," '"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\t"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"'"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 一个制表符等于4个空格")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ceil"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"/"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4.0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 上取整，保证对齐")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 普通字符")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_ShowChar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"row "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"           // 换列")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," MAX_COL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 列满")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            row "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 换行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    col "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," MAX_COL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    row "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," MAX_ROW"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/*针对于arm编译器(microlib)，需要重写fputc实现对printf的重写*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," fputc"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#4EC9B0","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FILE"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"dest"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_putchar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ch"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/*针对于gcc-arm编译器，需要重写_write实现对printf的重写*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," _write"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," fd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," char"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"pBuffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    int"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_putchar"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"pBuffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 这里直接复用上面实现的fputc")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ca=i("h3",{id:"基于硬件i2c实现mpu6050驱动",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#基于硬件i2c实现mpu6050驱动"},[i("span",null,"基于硬件I2C实现MPU6050驱动")])],-1),ca=i("code",null,"main.cpp",-1),Fa=i("code",null,"MPU6050.h",-1),oa=i("code",null,"MPU6050.c",-1),Da=i("code",null,"Hard_I2C.h",-1),Aa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Soft_I2C.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "MPU6050.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    MPU6050_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        MPU6050_Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"ACC:'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\t"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},"GYR:"),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"x:%2.2f %2.2f'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 250"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"y:%2.2f %2.2f'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 250"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"z:%2.2f %2.2f'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768.0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 250"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),fa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __MPU6050_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __MPU6050_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 设备ID")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"68")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 配置寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_SMPLRT_DIV"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"19")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_CONFIG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1A")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_CONFIG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_CONFIG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 数据寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_XOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_XOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_YOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3D")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_YOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3E")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_ZOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3F")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_ACCEL_ZOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"40")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_TEMP_OUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"41")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_TEMP_OUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"42")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_XOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"43")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_XOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"44")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_YOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"45")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_YOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"46")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_ZOUT_H"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"47")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_GYRO_ZOUT_L"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"48")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 其他寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_PWR_MGMT_1"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_PWR_MGMT_2"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Reg_WHO_AM_I"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"75")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," temp"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ua=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "MPU6050.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Hard_I2C.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 加速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 温度x1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," temp"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 加速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_PWR_MGMT_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 关闭默认的睡眠模式,配置时钟源为陀螺仪时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_SMPLRT_DIV"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"09"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 采样频率分频器,0x00不分频 0x09分频系数10")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_CONFIG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"06"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 0x00不使用滤波器 0x06使用最平滑的滤波")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_GYRO_CONFIG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 陀螺仪配置 默认满量程±250°/s")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_ACCEL_CONFIG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 加速度计配置 默认满量程±2g")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"14"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," MPU6050_Read"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * 耗时:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * MPU6050时钟最大频率 400khz => 0.4Mhz => (1/0.4)us => 2.5us ≈ 3us")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * 数据量：开始 主机地址x1 ACK 寄存器地址x1 ACK 开始 主机地址x1 ACK (数据+ACK)x14 结束 ≈ 17字节 => 136比特位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     * 耗时 = 3us x 136bit = 408 us ≈ 0.4 ms")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     **/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"MPU6050_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Reg_ACCEL_XOUT_H"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 14"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," j "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," k "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"        int16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," <<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            acce"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"j"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 加速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}}," if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"=="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            temp"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 温度x1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"            gyro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"k"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," value"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 角速度x3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ma=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_I2C_H_")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_I2C_H_")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // ######################## [ 对指定设备的指定寄存器读写数据 ] ########################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器写入多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Write_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取单字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 在指定设备的指定寄存器读取多字节数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_I2C_Read_Device_Register_Datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," deviceId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," regAddr"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),va=k('<h2 id="spi通信软件实现" tabindex="-1"><a class="header-anchor" href="#spi通信软件实现"><span>SPI通信软件实现</span></a></h2><h3 id="简介-3" tabindex="-1"><a class="header-anchor" href="#简介-3"><span>简介</span></a></h3><ul><li>SPI（Serial Peripheral Interface）是由Motorola公司开发的一种通用数据总线</li><li>四根通信线： <ul><li>SCK（Serial Clock）</li><li>MOSI（Master Output Slave Input）</li><li>MISO（Master Input Slave Output）</li><li>SS（Slave Select）</li></ul></li><li>同步，全双工</li><li>支持总线挂载多设备（一主多从）</li><li><img src="'+Ks+'" alt="Alt text"></li></ul><h3 id="硬件电路" tabindex="-1"><a class="header-anchor" href="#硬件电路"><span>硬件电路</span></a></h3><ul><li>所有SPI设备的SCK、MOSI、MISO分别连在一起</li><li>主机另外引出多条SS控制线，分别接到各从机的SS引脚</li><li>SPI主机输出引脚配置为<strong>推挽输出</strong>，</li><li>SPI主机输入引脚配置为<strong>浮空或上拉输入</strong></li></ul><p><img src="'+zs+'" alt="Alt text"></p><h3 id="移位发送过程" tabindex="-1"><a class="header-anchor" href="#移位发送过程"><span>移位发送过程</span></a></h3><p><img src="'+Vs+'" alt="Alt text"></p><p><img src="'+Xs+'" alt="Alt text"><br><img src="'+Qs+'" alt="Alt text"><br><img src="'+qs+'" alt="Alt text"></p><h3 id="spi基本通信时序" tabindex="-1"><a class="header-anchor" href="#spi基本通信时序"><span>SPI基本通信时序</span></a></h3><h4 id="起始条件" tabindex="-1"><a class="header-anchor" href="#起始条件"><span>起始条件</span></a></h4><p>起始条件：SS从高电平切换到低电平<br><img src="'+Ys+'" alt="Alt text"></p><h4 id="终止条件" tabindex="-1"><a class="header-anchor" href="#终止条件"><span>终止条件</span></a></h4><p>终止条件：SS从低电平切换到高电平<br><img src="'+js+'" alt="Alt text"></p><h4 id="交换字节-模式0" tabindex="-1"><a class="header-anchor" href="#交换字节-模式0"><span>交换字节(模式0)</span></a></h4><ul><li>CPOL(Clock Polarity时钟极性)=0：表示空闲状态时，SCK为低电平</li><li>CPHA(Clock Phase时钟相位)=0：表示SCK第一个边沿<strong>移入数据</strong>，第二个边沿<strong>移出数据</strong></li><li><img src="'+Zs+'" alt="Alt text"></li></ul><h4 id="交换字节-模式1" tabindex="-1"><a class="header-anchor" href="#交换字节-模式1"><span>交换字节(模式1)</span></a></h4><ul><li>CPOL=0：空闲状态时，SCK为低电平</li><li>CPHA=1：SCK第一个边沿移出数据，第二个边沿移入数据</li><li><img src="'+Js+'" alt="Alt text"></li></ul><h4 id="交换字节-模式2" tabindex="-1"><a class="header-anchor" href="#交换字节-模式2"><span>交换字节(模式2)</span></a></h4><ul><li>CPOL=1：空闲状态时，SCK为高电平</li><li>CPHA=0：SCK第一个边沿移入数据，第二个边沿移出数据</li><li><img src="'+$s+'" alt="Alt text"></li></ul><h4 id="交换字节-模式3" tabindex="-1"><a class="header-anchor" href="#交换字节-模式3"><span>交换字节(模式3)</span></a></h4><ul><li>CPOL=1：空闲状态时，SCK为高电平</li><li>CPHA=1：SCK第一个边沿移出数据，第二个边沿移入数据</li><li><img src="'+il+'" alt="Alt text"></li></ul><h3 id="spi通信指令" tabindex="-1"><a class="header-anchor" href="#spi通信指令"><span>SPI通信指令</span></a></h3><h4 id="发送指令" tabindex="-1"><a class="header-anchor" href="#发送指令"><span>发送指令</span></a></h4><ul><li>向SS指定的设备，发送指令（0x06）</li></ul><p>时序：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span>| 开始 | 交换字节(0x06) | 停止 |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><img src="'+sl+'" alt="Alt text"></li><li></li></ul><h4 id="指定地址写" tabindex="-1"><a class="header-anchor" href="#指定地址写"><span>指定地址写</span></a></h4><ul><li>向SS指定的设备，发送写指令（0x02），</li><li>随后在指定地址（Address[23:0]）下，写入指定数据（Data）</li></ul><p>时序：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span>| 开始 | 交换字节(写指令0x02) | 交换字节(Address[23:0]) | 交换字节(Data) | 停止 |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><img src="'+ll+'" alt="Alt text"></li></ul><h4 id="指定地址写-1" tabindex="-1"><a class="header-anchor" href="#指定地址写-1"><span>指定地址写</span></a></h4><ul><li>向SS指定的设备，发送读指令（0x03），</li><li>随后在指定地址（Address[23:0]）下，读取从机数据（Data）</li></ul><p>时序：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span>| 开始 | 交换字节(读指令0x03) | 交换字节(Address[23:0]) | 交换字节(Data) | 停止 |</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><img src="'+tl+'" alt="Alt text"></li></ul><h3 id="spi软件模拟实现" tabindex="-1"><a class="header-anchor" href="#spi软件模拟实现"><span>SPI软件模拟实现</span></a></h3>',39),_a=i("code",null,"Soft_SPI.h",-1),ba=i("code",null,"Soft_SPI.c",-1),Ba=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_SPI_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_SPI_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ia=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Soft_SPI.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启GPIOA时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化GPIOA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA4 CS （推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA5 SPI1_SCK （推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA6 SPI1_MISO （浮空或上拉）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA7 SPI1_MOSI （推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_4 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_5 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_Out_PP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_W_SCK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ###################################  [ 基本读写函数 ]  ###################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BitAction"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_W_SCK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_5"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BitAction"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_R_MISO"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," GPIO_ReadInputDataBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_W_MOSI"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BitAction"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ###################################  [ 基本通信时序 ]  ###################################")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 模式0时序")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," idx"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Soft_SPI_W_MOSI"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"80"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 移出数据（最高位）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Soft_SPI_W_SCK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 时钟上升沿")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<<="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                   // 腾出位置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_R_MISO"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 移入数据（最低位）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Soft_SPI_W_SCK"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // 时钟下降沿")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Sa=k('<h2 id="spi通信硬件实现" tabindex="-1"><a class="header-anchor" href="#spi通信硬件实现"><span>SPI通信硬件实现</span></a></h2><h3 id="简介-4" tabindex="-1"><a class="header-anchor" href="#简介-4"><span>简介</span></a></h3><ul><li>STM32内部集成了硬件SPI收发电路，可以由硬件自动执行时钟生成、数据收发等功能，减轻CPU的负担</li><li>可配置 <ul><li>8位数据帧/16位数据帧(等于两个8位数据帧)</li><li>高位先行/低位先行</li></ul></li><li>时钟频率： <ul><li>fPCLK / (2, 4, 8, 16, 32, 64, 128, 256)</li><li>PCLK(外设时钟)，</li><li>SPI1=&gt;APB2=72Mhz</li><li>SPI2=&gt;APB1=&gt;36Mhz</li></ul></li><li>支持多主机模型、主或从操作</li><li>可精简为： <ul><li>半双工(单数据线分时收发数据)</li><li>单工通信(只发送)</li></ul></li><li>支持DMA</li><li>兼容I2S协议（音频传输协议）</li></ul><blockquote><p>STM32F103C8T6 硬件SPI资源：SPI1、SPI2</p></blockquote><h3 id="原理框图" tabindex="-1"><a class="header-anchor" href="#原理框图"><span>原理框图</span></a></h3><ul><li>LSBFIRST位：控制帧格式 <ul><li>1：低位先行（移位寄存器右移）</li><li>0：高位先行（移位寄存器左移）</li></ul></li><li>TXE 发送寄存器空（当发送数据寄存器（TDR）数据整体移入移位寄存器时）</li><li>RXNE 接收寄存器非空（当移位寄存器数据整体移入接收数据寄存器(RDR)时）</li><li>SPI_CR1寄存器的BR[2:0]三个bit控制分频系数 <ul><li>000 2分频</li><li>001 4分频</li><li>111 256分频</li></ul></li><li>SPE SPI使能位</li><li>MSTR 主从模式</li><li>CPOL和CPHA共同决定SPI的四种模式</li><li>NSS 从机选择引脚，低电平有效（N）</li><li><img src="'+hl+'" alt="Alt text"></li></ul><h3 id="原理简图" tabindex="-1"><a class="header-anchor" href="#原理简图"><span>原理简图</span></a></h3><p><img src="'+al+'" alt="Alt text"></p><h3 id="连续传输发送" tabindex="-1"><a class="header-anchor" href="#连续传输发送"><span>连续传输发送</span></a></h3><p><strong>时序</strong></p><ul><li>写入发送寄存器Send_Data[0]</li><li>等待发送寄存器空标志位</li><li>写入发送寄存器Send_Data[1]</li><li>while(1)接收数据循环 <ul><li>i=0</li><li>等待接收寄存器非空标志位</li><li>读取接收寄存器Received_Data[0]</li><li>等待发送寄存器空标志位</li><li>写入发送寄存器Send_Data[2]</li><li>i=1 <ul><li>等待接收寄存器非空标志位</li><li>读取接收寄存器Received_Data[1]</li><li>等待发送寄存器空标志位</li><li>写入发送寄存器Send_Data[3]</li><li>等待接收寄存器非空标志位</li></ul></li><li>i=2 <ul><li>等待接收寄存器非空标志位</li><li>读取接收寄存器Received_Data[2]</li><li>等待发送寄存器空标志位</li><li>写入发送寄存器Send_Data[4]</li></ul></li><li>......</li></ul></li><li><img src="'+nl+'" alt="Alt text"></li></ul><h3 id="非连续传输发送" tabindex="-1"><a class="header-anchor" href="#非连续传输发送"><span>非连续传输发送</span></a></h3><p><strong>时序</strong></p><ul><li>等待发送寄存器空标志位</li><li>写入发送寄存器数据</li><li>等待接收寄存器非空标志位</li><li>读取接收寄存器</li><li><img src="'+kl+'" alt="Alt text"></li></ul><h3 id="spi硬件外设实现" tabindex="-1"><a class="header-anchor" href="#spi硬件外设实现"><span>SPI硬件外设实现</span></a></h3>',15),Pa=i("code",null,"Hard_SPI.h",-1),Ta=i("code",null,"Hard_SPI.c",-1),xa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_SPI_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_SPI_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ra=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Hard_SPI.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启GPIOA时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启SPI1时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 初始化GPIOA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA4 CS （推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA5 SPI1_SCK （复用推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA6 SPI1_MISO （浮空或上拉输入）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PA7 SPI1_MOSI （复用推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // CS （推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_Out_PP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SPI1_SCK （复用推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SPI1_MOSI （复用推挽输出）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_5 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // SPI1_MISO （浮空或上拉输入）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    SPI_InitTypeDef SPI_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_Direction_2Lines_FullDuplex"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 两线，全双工模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_Mode_Master"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 主机模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_DataSize_8b"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                 // 8位数据模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_CPOL_Low"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                    // 时钟默认低电平")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_CPHA_1Edge"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 第1个边沿采样（模式0：时钟默认低电平，第一个边沿移入数据位，第二个边沿移出数据位）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_NSS_Soft"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                    // 软件控制NSS位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_BaudRatePrescaler_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 分频器系数 72M/2=36Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        SPI_FirstBit_MSB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // 高位先行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        7"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                               // CRC系数,默认7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    SPI_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启SPI")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 拉高CS引脚")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ###################################  [ 基本读写函数 ]  ###################################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_WriteBit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BitAction"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"bitVal"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ###################################  [ 基本通信时序 ]  ###################################")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_W_CS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"SPI_I2S_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SPI_I2S_FLAG_TXE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待发送寄存器为空")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    SPI_I2S_SendData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                           // 发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"SPI_I2S_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SPI_I2S_FLAG_RXNE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待接收寄存器不为空(发送数据完毕)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," SPI_I2S_ReceiveData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SPI1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 读取接收到的数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ma=k('<h2 id="w25q64存储器" tabindex="-1"><a class="header-anchor" href="#w25q64存储器"><span>W25Q64存储器</span></a></h2><ul><li>W25Qxx系列是一种 <ul><li>低成本、</li><li>小型化、</li><li>使用简单的</li><li>非易失性存储器</li></ul></li><li>常应用于 <ul><li>数据存储、</li><li>字库存储、</li><li>固件程序存储(XIP eXecute in Place就地执行)</li><li>等场景</li></ul></li><li>存储介质：Nor Flash（闪存）</li><li>时钟频率： <ul><li>80MHz（相比于stm32的50Mhz的GPIO非常快）</li><li>160MHz (Dual SPI双重SPI模式)</li><li>320MHz (Quad SPI四重SPI模式)</li></ul></li><li>存储容量（24位地址，16MB寻址空间）： <ul><li>W25Q40:----&gt;4Mbit / 512KByte</li><li>W25Q80:----&gt;8Mbit / 1MByte</li><li>W25Q16:----&gt;16Mbit / 2MByte</li><li>W25Q32:----&gt;32Mbit / 4MByte</li><li>W25Q64:----&gt;64Mbit / 8MByte</li><li>W25Q128:----&gt;128Mbit / 16MByte</li><li>W25Q256:----&gt;256Mbit / 32MByte <ul><li>后16MB需要使用四字节地址读写模式</li></ul></li></ul></li></ul><h3 id="芯片引脚功能定义" tabindex="-1"><a class="header-anchor" href="#芯片引脚功能定义"><span>芯片引脚功能定义</span></a></h3><p><img src="'+el+'" alt="Alt text"></p><h3 id="芯片内部框图" tabindex="-1"><a class="header-anchor" href="#芯片内部框图"><span>芯片内部框图</span></a></h3><p><strong>存储空间划分</strong></p><ul><li>块（Block）: 64KB</li><li>扇区（Sector）：4KB</li><li>页（page）:256B</li></ul><p><img src="'+rl+'" alt="Alt text"></p><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><p>写入操作时：</p><ul><li>写入操作前，必须发送写使能指令</li><li>每个数据位只能由1改写为0，不能由0改写为1</li><li>写入数据前必须先擦除，擦除后，所有数据位变为1，即0xff</li><li>擦除必须按最小擦除单元进行 <ul><li>整个芯片擦除</li><li>按块擦除</li><li>按扇区擦除（4KB）</li></ul></li><li>连续写入多字节时， <ul><li>如果从页起始地址开始写入，最多写入一页(256B)的数据，超过页尾位置的数据，会回到页首覆盖写入</li><li>如果从页的中间地址开始写入，写入的位置跨越页地址时，会导致地址错乱。</li></ul></li><li>写入操作结束后，芯片进入忙状态，不响应新的读写操作</li></ul><p>读取操作时：</p><ul><li>直接调用读取时序，无需使能，无需额外操作，没有页的限制，读取操作结束后不会进入忙状态，但不能在忙状态时读取</li></ul><h3 id="指令集" tabindex="-1"><a class="header-anchor" href="#指令集"><span>指令集</span></a></h3><p><img src="'+dl+'" alt="Alt text"><br><img src="'+El+'" alt="Alt text"></p><h3 id="基于软件spi实现" tabindex="-1"><a class="header-anchor" href="#基于软件spi实现"><span>基于软件SPI实现</span></a></h3>',16),Oa=i("code",null,"W25Q64.h",-1),La=i("code",null,"W25Q64.c",-1),Ga=i("code",null,"Soft_SPI.h",-1),Wa=i("code",null,"main.cpp",-1),Na=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __W25QXX_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __W25QXX_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Soft_SPI.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// #################### Instructions ####################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write_Enable"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"06")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write_Disable"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"04")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Status_Register_1"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"05")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Status_Register_2"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"35")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write_Status_Register"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Page_Program"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"02")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Quad_Page_Program"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"32")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Block_Erase_64KB"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"D8")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Block_Erase_32KB"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"52")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Sector_Erase_4KB"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"20")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Chip_Erase"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"60"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," //  C7h/60h")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Erase_Suspend"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"75")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Erase_Resume"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"7A")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Power_down"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"B9")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," High_Performance_Mode"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"A3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Continuous_Read_Mode_Reset"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"FF")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Release_Power_down_or_HPM_Device_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"AB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Manufacturer_Device_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"90")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Unique_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," JEDEC_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"9F")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Data"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"03")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Dual_Output"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Dual_IO"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"BB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Quad_Output"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Quad_IO"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"EB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Octal_Word_Read_Quad_IO"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"E3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Dummy"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"FF")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_PageProgram"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_SectorErase4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ua=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "W25Q64.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 读取：")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 厂商id:ManufacturerId")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 芯片id：MemoryType + Capacity")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"JEDEC_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ManufacturerId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Id "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," <<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Id "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_WriteEnable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Write_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadStatusReg1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Read_Status_Register_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," statusReg1 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," statusReg1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Read_Status_Register_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," timeout "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"timeout "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &&"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        timeout"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"--"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * length 0~256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_PageProgram"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙等待（事前等待）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WriteEnable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Page_Program"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送24bit地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_SectorErase4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙等待（事前等待）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WriteEnable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Sector_Erase_4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送24bit地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙等待（事前等待）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Read_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送24bit地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),wa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_SPI_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Soft_SPI_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Soft_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ha=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "W25Q64.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"aa"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"aa"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_ReadId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X %X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_SectorErase4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"000000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 擦除扇区")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_PageProgram"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"000000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写入数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_ReadData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"000000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取数据")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X %X %X %X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X %X %X %X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ka=i("h3",{id:"基于硬件spi实现",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#基于硬件spi实现"},[i("span",null,"基于硬件SPI实现")])],-1),za=i("code",null,"W25Q64.h",-1),Va=i("code",null,"W25Q64.c",-1),Xa=i("code",null,"Hard_SPI.h",-1),Qa=i("code",null,"main.cpp",-1),qa=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __W25QXX_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __W25QXX_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Hard_SPI.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// #################### Instructions ####################")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write_Enable"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"06")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write_Disable"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"04")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Status_Register_1"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"05")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Status_Register_2"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"35")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Write_Status_Register"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Page_Program"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"02")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Quad_Page_Program"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"32")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Block_Erase_64KB"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"D8")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Block_Erase_32KB"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"52")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Sector_Erase_4KB"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"20")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Chip_Erase"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"60"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," //  C7h/60h")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Erase_Suspend"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"75")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Erase_Resume"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"7A")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Power_down"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"B9")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," High_Performance_Mode"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"A3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Continuous_Read_Mode_Reset"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"FF")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Release_Power_down_or_HPM_Device_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"AB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Manufacturer_Device_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"90")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Unique_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," JEDEC_ID"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"9F")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Read_Data"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"03")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Dual_Output"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Dual_IO"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"BB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Quad_Output"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6B")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Fast_Read_Quad_IO"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"EB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Octal_Word_Read_Quad_IO"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"E3")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Dummy"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"FF")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_PageProgram"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_SectorErase4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ya=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "W25Q64.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 读取：")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 厂商id:ManufacturerId")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 芯片id：MemoryType + Capacity")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"JEDEC_ID"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ManufacturerId "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Id "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," <<"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"    *"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Id "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_WriteEnable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Write_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadStatusReg1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Read_Status_Register_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," statusReg1 "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," statusReg1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"W25Q64_ReadStatusReg1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"01"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * length 0~256")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_PageProgram"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙等待（事前等待）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WriteEnable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Page_Program"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送24bit地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_SectorErase4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙等待（事前等待）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WriteEnable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写使能")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Sector_Erase_4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送24bit地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," W25Q64_ReadData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint8_t"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," *"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_WaitNotBusy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 忙等待（事前等待）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Read_Data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 发送24bit地址")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},">>"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        datas"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Dummy"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ja=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_SPI_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __Hard_SPI_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Start"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_Stop"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Hard_SPI_SwapByte"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Za=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "W25Q64.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// ff => 0111 1111 ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 00 => 0000 0000 ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 55 => 0001 0101 ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"aa"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"aa"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"00"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_ReadId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X %X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ManufacturerId"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Id"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_SectorErase4KB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"000000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 擦除扇区 0x000XXX")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_PageProgram"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"000000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写入数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    W25Q64_ReadData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"000000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取数据")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X %X %X %X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X %X %X %X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"],"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," datasB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Ja=k(`<h2 id="bkp" tabindex="-1"><a class="header-anchor" href="#bkp"><span>BKP</span></a></h2><ul><li>BKP（Backup Registers）备份寄存器</li><li>BKP可用于存储用户应用程序数据。 <ul><li>当VDD（2.0~3.6V）芯片供电电源被切断时，BKP可由VBAT（1.8~3.6V）维持工作。</li><li>待机模式唤醒、系统复位、电源复位，都不会使得BKP复位。</li></ul></li><li>BKP可存储RTC时钟校准参数</li><li>BKP的RTC引脚可输出RTC校准时钟、RTC闹钟脉冲或者秒脉冲</li><li>BKP的TAMPER引脚可产生的侵入事件将所有备份寄存器内容清除，并产生中断 <ul><li>PC13-TAMPER-RTC共用一个引脚</li></ul></li><li>存储容量： <ul><li>20字节（中容量和小容量）(c8t6中容量)</li><li>84字节（大容量和互联型）</li></ul></li></ul><h3 id="注意事项-1" tabindex="-1"><a class="header-anchor" href="#注意事项-1"><span>注意事项</span></a></h3><ul><li>实现对BKP和RTC访问的充要条件： <ol><li>通过设置RCC_APB1ENR的PWREN和BKPEN，<strong>使能PWR和BKP时钟</strong></li><li>通过设置PWR_CR的DBP， <strong>使能对BKP和RTC的访问</strong></li></ol></li></ul><h3 id="bkp标准库函数介绍" tabindex="-1"><a class="header-anchor" href="#bkp标准库函数介绍"><span>BKP标准库函数介绍</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// BKP（以及RTC）外设访问控制</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PWR_BackupAccessCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 恢复BKP外设寄存器默认配置，可用于手动清空所有数据寄存器。</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_DeInit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 侵入检测引脚功能配置,设置侵入检测引脚有效电平（高电平触发或低电平触发）</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_TamperPinLevelConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_TamperPinLevel</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 侵入检查功能开启/关闭</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_TamperPinCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 中断配置，是否开启</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_ITConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// RTC时钟输出配置（输出RTC校准时钟、RTC闹钟、秒脉冲）</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_RTCOutputConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_RTCOutputSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 设置RTC校准值（写入RTC校准寄存器）。</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_SetRTCCalibrationValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CalibrationValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 写入BKP寄存器</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_WriteBackupRegister</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_DR</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 读取BKP寄存器</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_ReadBackupRegister</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_DR</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 其他</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_GetFlagStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_ClearFlag</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ITStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_GetITStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> BKP_ClearITPendingBit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="读写bkp" tabindex="-1"><a class="header-anchor" href="#读写bkp"><span>读写BKP</span></a></h3>`,8),$a=i("code",null,"main.cpp",-1),sn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_PWR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启PWR时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_BKP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启BKP时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    PWR_BackupAccessCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 允许访问BKP(以及RCC)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 使BKP所有寄存器恢复默认值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // BKP_DeInit();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 写入BKP数据寄存器（中容量:BKP_DR1~10）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    BKP_WriteBackupRegister"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BKP_DR1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55AA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 读取BKP数据寄存器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," BKP_ReadBackupRegister"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BKP_DR1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 使用OLED显示输出")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),ln=k('<h3 id="原理简图-1" tabindex="-1"><a class="header-anchor" href="#原理简图-1"><span>原理简图</span></a></h3><p><img src="'+pl+'" alt="Alt text"></p><h2 id="rtc" tabindex="-1"><a class="header-anchor" href="#rtc"><span>RTC</span></a></h2><ul><li>RTC（Real Time Clock）实时时钟</li><li>RTC是一个独立的定时器，可为系统提供时钟和日历的功能</li><li>RTC和时钟配置系统处于后备区域(BKP) <ul><li>后备区域(BKP)系统复位时数据不清零</li><li>VDD（2.0~3.6V）断电后可借助VBAT（1.8~3.6V）供电继续走时</li></ul></li><li>32位的可编程计数器，可对应Unix时间戳的秒计数器</li><li>20位的可编程预分频器，可适配不同频率的输入时钟</li><li>可选择三种RTC时钟源： <ul><li>HSE时钟除以128（通常为8MHz/128）</li><li>LSE振荡器时钟（通常为32.768KHz） <ul><li>接入15位计数器，计数器自然溢出的频率就是1Hz</li><li>2^15=32768</li></ul></li><li>LSI振荡器时钟（40KHz）</li><li>三路时钟源，只有32.768Khz时钟能在断电后由VBAT供电工作。</li></ul></li></ul><h3 id="原理框图-1" tabindex="-1"><a class="header-anchor" href="#原理框图-1"><span>原理框图</span></a></h3><p><strong>分频</strong></p><ul><li><p>RTC_PRL:重装寄存器（作用相当于定时器中的ARR自动重装寄存器）</p><ul><li>计数目标值，用来配置是几分频</li><li>写入0是1分频</li><li>写入x是x+1分频</li></ul></li><li><p>RTC_DIV:余数寄存器（作用相当于定时器中的CNT计数器）</p><ul><li>自减计数器</li><li>0值自减将溢出，产生溢出信号，同时自动加载重装值。</li></ul></li><li><p>将32768hz分频到1hz</p><ul><li>RTC_PRL需写入32768-1</li><li>RTC_DIV可给0</li><li>第0秒 <ul><li>第1个时钟到来时， <ul><li>RTC_DIV自减溢出，产生溢出信号（1hz）</li><li>RTC_DIV变为重装值32768-1=32767</li></ul></li><li>第2个时钟到来时， <ul><li>RTC_DIV自减，变为=32768-2=32766</li></ul></li><li>......</li><li>第32768个时钟到来时， <ul><li>RTC_DIV自减，变为=32768-32768=0</li></ul></li></ul></li><li>第1秒 <ul><li>第1个时钟到来时，</li><li>RTC_DIV自减溢出，产生溢出信号（1hz）</li><li>RTC_DIV变为重装值32768-1=32767</li></ul></li></ul></li><li><p>RTC_ALR:闹钟寄存器</p><ul><li>和RTC_CNT等宽的寄存器，</li><li>用于设置闹钟值，</li><li>可以配置达到设定值后产生中断、退出待机模式。</li></ul></li><li><p>RTC_Second:秒中断</p><ul><li>来自RTC_CNT寄存器的输入TR_CLK</li><li>开启后可以每秒触发一次中断。</li></ul></li><li><p>RTC_Overflow：溢出中断</p><ul><li>CNT计数器溢出中断</li><li>CNT为无符号数，在2106年溢出</li></ul></li></ul><p><img src="'+yl+'" alt="Alt text"></p><p><img src="'+gl+'" alt="Alt text"></p><h3 id="原理简图-2" tabindex="-1"><a class="header-anchor" href="#原理简图-2"><span>原理简图</span></a></h3><p><img src="'+Cl+`" alt="Alt text"></p><h3 id="注意事项-2" tabindex="-1"><a class="header-anchor" href="#注意事项-2"><span>注意事项</span></a></h3><ul><li>实现对BKP和RTC访问的充要条件： <ol><li>通过设置RCC_APB1ENR的PWREN和BKPEN，<strong>使能PWR和BKP时钟</strong></li><li>通过设置PWR_CR的DBP， <strong>使能对BKP和RTC的访问</strong></li></ol></li><li>上电复位后首次读取RTC寄存器需等待RTC时钟和APB1时钟完成同步。 <ul><li>若在读取RTC寄存器时，RTC的APB1接口曾经处于禁止状态，</li><li>则软件首先必须等待RTC_CRL寄存器中的RSF位（寄存器同步标志）被硬件置1</li></ul></li><li>RTC配置模式 <ul><li>必须设置RTC_CRL寄存器中的CNF位，使RTC进入配置模式后，才能写入RTC_PRL、RTC_CNT、RTC_ALR寄存器。 <ul><li><blockquote><p>标准库已经自动完成该操作。</p></blockquote></li></ul></li><li>写入前需等待上一次写入操作结束 <ul><li><blockquote><p>因为RTC电路的工作频率和APB1总线工作频率不一致。</p></blockquote></li><li>对RTC任何寄存器的写操作，都必须在前一次写操作结束后进行。</li><li>可以通过查询RTC_CR寄存器中的RTOFF状态位，判断RTC寄存器是否处于更新中。</li><li>仅当RTOFF状态位是1时，才可以写入RTC寄存器</li></ul></li></ul></li></ul><h3 id="标准库函数-1" tabindex="-1"><a class="header-anchor" href="#标准库函数-1"><span>标准库函数</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_LSEConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_LSE</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">              // L低速E外部时钟：开启/关闭/旁路(从OSE32_IN引脚接入外部时钟)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_LSICmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">        // 低速内部时钟：开启/关闭</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_RTCCLKConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_RTCCLKSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 选择RTC时钟源：LSE/LSI/HSE_Div128</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_RTCCLKCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     // RTC时钟：开启/关闭</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_GetFlagStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RCC_FLAG</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">   // 获取RCC标志位状态：RCC_FLAG_LSIRDY低速外部时钟成功起振标志</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_EnterConfigMode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 // 进入配置模式，否则无法读写相关寄存器(RTC_PRL、RTC_CNT、RTC_ALR)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_ExitConfigMode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                  // 退出配置模式</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_GetCounter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                  // 获取RTC计数器的值（Unix时间戳）</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_SetCounter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> CounterValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">     // 设置RTC计数器</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_SetPrescaler</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> PrescalerValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 设置分频系数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_SetAlarm</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> AlarmValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">         // 设置闹钟值</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  RTC_GetDivider</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 // 获取余数寄存器值(得到更精确的时间戳)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_WaitForLastTask</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                 // 等待上次操作完成(等待上一次写操作结束),否则无法写入数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RTC_WaitForSynchro</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">                  // 等待同步(总线时钟和RTC时钟的同步)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取rtc毫秒级别时间" tabindex="-1"><a class="header-anchor" href="#获取rtc毫秒级别时间"><span>获取RTC毫秒级别时间</span></a></h3>`,17),tn=i("code",null,"/System/Rtc.c",-1),hn=i("code",null,"/System/Rtc.h",-1),an=i("code",null,"main.cpp",-1),nn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Rtc.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC配置时钟配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_PWR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启PWR时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_BKP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启BKP时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    PWR_BackupAccessCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 允许访问BKP(以及RTC)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_LSEConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_LSE_ON"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                          // 开启 LSE 时钟(32.768khz)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RCC_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_FLAG_LSERDY"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 等待 LSE 时钟启震动")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_RTCCLKConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_RTCCLKSource_LSE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 为RTC选择 LSE 时钟源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_RTCCLKCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 开启 RTC 时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC配置")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForSynchro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 等待AHB1时钟和RTC外设时钟同步完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForLastTask"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待上一次写入操作完成(可以不写)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_EnterConfigMode"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 进入配置模式，否则无法配置分频器(可以不写,因为RTC_SetXXX中已经包含)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_SetPrescaler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"32768"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置预分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForLastTask"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 等待写入完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RTC_SetCounter(0);           // 0表示1970年1月1日")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RTC_WaitForLastTask();       // 等待写入完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_SetUnixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," unixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForLastTask"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待上次写入完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_SetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"unixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取unix时间戳")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_S"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," RTC_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取毫秒级时间")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint64_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_MS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint64_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RTC_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // s *1000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"           ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"32768"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," RTC_GetDivider"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"())"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 先乘后除,避免使用浮点数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),kn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __RTC_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __RTC_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_SetUnixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," unixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_S"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint64_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_MS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),en=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "RTC.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Rtc_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"        uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," s "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_S"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"        uint64_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ms "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_MS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"s: %lu '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," s"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"ms: %lu '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),rn=k('<h2 id="pwr" tabindex="-1"><a class="header-anchor" href="#pwr"><span>PWR</span></a></h2><ul><li>PWR（Power Control）电源控制</li><li>PWR负责管理STM32内部的电源供电部分，</li><li>可以实现<strong>可编程电压监测器</strong>和<strong>低功耗模式</strong>的功能 <ul><li>可编程电压监测器（PVD） <ul><li>可以监控VDD电源电压，</li><li>当VDD下降到PVD阀值以下或上升到PVD阀值之上时，</li><li>PVD会触发中断，用于执行紧急关闭任务</li></ul></li><li>低功耗模式： <ul><li>睡眠模式（Sleep）</li><li>停机模式（Stop）</li><li>待机模式（Standby）</li></ul></li><li>可在系统空闲时，降低STM32的功耗，延长设备使用时间</li></ul></li></ul><h3 id="供电方案框图" tabindex="-1"><a class="header-anchor" href="#供电方案框图"><span>供电方案框图</span></a></h3><ul><li><img src="'+cl+'" alt="Alt text"></li></ul><h3 id="上电复位、掉电复位" tabindex="-1"><a class="header-anchor" href="#上电复位、掉电复位"><span>上电复位、掉电复位</span></a></h3><blockquote><p>当VDD/VDDA电压过低时，内部电路将直接产生复位信号。</p></blockquote><p><img src="'+Fl+'" alt="Alt text"></p><blockquote><p>大于1.88上电复位，低于1.92掉电复位</p></blockquote><p><img src="'+ol+'" alt="Alt text"></p><h3 id="电压过低检测" tabindex="-1"><a class="header-anchor" href="#电压过低检测"><span>电压过低检测</span></a></h3><blockquote><p>用于实现对VDD电压的监测，阈值范围可调。</p></blockquote><p><img src="'+Dl+'" alt="Alt text"></p><blockquote><ul><li>PVD 属于外部中断。</li><li>RTC 本身也有中断，也可以接到外部中断。</li><li>接入外部中断的原因是，只有外部中断信号可以唤醒处于停止模式的设备。</li></ul></blockquote><p><img src="'+Al+'" alt="Alt text"></p><h3 id="三种低功耗模式" tabindex="-1"><a class="header-anchor" href="#三种低功耗模式"><span>三种低功耗模式</span></a></h3><p><img src="'+fl+'" alt="Alt text"></p><p><strong>睡眠模式</strong></p><ul><li>如何进入 <ul><li>SLEEPONEXIT = 0 则立即进入睡眠模式，否则将等待中断函数执行退出后再进入。</li><li>然后调用WFI(Wait For Interrupt等待中断) 或 调用WFE(Wait For Event 等待事件) <ul><li>实际是两条内核指令</li></ul></li></ul></li><li>如何唤醒 <ul><li>WFI，等待任何中断</li><li>WFE，等待任何事件、或者开启了中断但未配置NVIC</li></ul></li><li>对电路的影响 <ul><li>关闭CPU时钟（但没有关闭电源，所以CPU寄存器和存储器数据仍然存在）</li></ul></li></ul><p><strong>停机模式</strong></p><ul><li>如何进入 <ul><li>PDDS=0 表示进入停机模式，否则进入待机模式</li><li>LPDS=0 电压调节器开启（1.8VCPU供电），否则关闭，进入低功耗模式（仍然可维持1.8V区域CPU寄存器和存储器数据）。</li><li>SLEEPDEEP = 1 表示进入深度睡眠模式</li><li>调用WFI或调用WFE</li></ul></li><li>如何唤醒 <ul><li>只有外部中断才能唤醒 <ul><li>WFI需用外部中断的中断模式唤醒</li><li>WFE需用外部中断的事件模式唤醒</li></ul></li></ul></li><li>对电路的影响 <ul><li>关闭1.8V区域的所有时钟（CPU时钟、存储器，内置数组外设、定时器、串口）</li><li>没有关闭电源，所以CPU寄存器和存储器数据仍然存在。</li><li>内部高速时钟、外部高速时钟关闭。</li><li>电压调节器根据LPDS位决定是否进入低功耗模式（没有关闭）</li></ul></li></ul><p><strong>待机模式</strong></p><ul><li>如何进入 <ul><li>PDDS=1 表示进入待机模式，否则进入停机模式</li><li>SLEEPDEEP = 1 表示进入深度睡眠模式</li><li>调用WFI或调用WFE</li></ul></li><li>如何唤醒 <ul><li>任何中断和事件都无法唤醒</li><li>只有WKUP引脚、RTC闹钟事件、NRST引脚的外部复位信号、IWDG独立看门狗复位。</li></ul></li><li>对电路的影响 <ul><li>1.8V区时钟关闭</li><li>两高速时钟关闭</li><li>电压调节器关闭（1.8V区域电源关闭，存储器和寄存器数据全部丢失）</li></ul></li></ul><blockquote><p>执行WFI（Wait For Interrupt）或者WFE（Wait For Event）指令后，STM32进入低功耗模式</p></blockquote><h3 id="三种低功耗模式的执行细节" tabindex="-1"><a class="header-anchor" href="#三种低功耗模式的执行细节"><span>三种低功耗模式的执行细节</span></a></h3><p><img src="'+ul+`" alt="Alt text"></p><p><strong>睡眠模式</strong></p><ul><li>SLEEPDEEP = 0 表示进入浅睡眠模式</li><li>执行完WFI/WFE指令后，STM32进入睡眠模式，程序暂停运行，唤醒后程序从暂停的地方继续运行</li><li>SLEEPONEXIT位 <ul><li>决定STM32执行完WFI或WFE后，</li><li>SLEEPONEXIT=0 立刻进入睡眠，</li><li>SLEEPONEXIT=1 等STM32从最低优先级的中断处理程序中退出时进入睡眠</li></ul></li><li>所有的I/O引脚都保持它们在运行模式时的状态</li><li>唤醒条件 <ul><li>WFI指令进入睡眠模式，可被<strong>任意一个NVIC</strong>响应的中断唤醒</li><li>WFE指令进入睡眠模式，可被<strong>唤醒事件</strong>唤醒 <ul><li>产生唤醒事件</li><li>方法1: <ul><li>再外设控制寄存器中使能中断（而不是再NVIC中使能）</li><li>再Cortex-M3系统控制寄存器中使能SEVONPEND位</li><li>被唤醒事件唤醒后需手动清除NVIC中断通道挂起位。</li></ul></li><li>方法2： <ul><li>配置一个外部或内部EXIT线为事件模式。</li><li>被唤醒事件唤醒后无需清除中断挂起位或外设的NVIC中断通道挂起位。</li></ul></li></ul></li></ul></li></ul><p><strong>停止模式</strong></p><ul><li><code>SLEEPDEEP = 1</code> 表示进入深度睡眠模式</li><li><code>PDDS = 0</code> 表示进入停机模式，否则进入待机模式</li><li>执行完<code>WFI/WFE</code>指令后，STM32进入停止模式，程序暂停运行，唤醒后程序从暂停的地方继续运行</li><li>1.8V供电区域的所有时钟都被停止，PLL、HSI和<code>HSE</code>被禁止，SRAM和寄存器内容被保留下来</li><li><strong>所有的I/O引脚都保持它们在运行模式时的状态</strong></li><li>当一个中断或唤醒事件导致退出停止模式时，<strong>HSI（高速内部8M时钟）被选为系统时钟</strong><ul><li>一般需要手动重启<code>HSE</code>,并配置主频为<code>72Mhz</code></li></ul></li><li>当<code>LPDS = 1</code>电压调节器处于低功耗模式下，系统从停止模式退出时，会有一段额外的启动延时</li><li>唤醒条件 <ul><li>WFI指令进入停止模式，可被任意一个<strong>EXTI中断</strong>唤醒</li><li>WFE指令进入停止模式，可被任意一个<strong>EXTI事件</strong>唤醒</li></ul></li></ul><p><strong>待机模式</strong></p><ul><li><code>SLEEPDEEP = 1</code> 表示进入深度睡眠模式</li><li><code>PDDS = 1</code> 表示进入待机模式</li><li>执行完<code>WFI/WFE</code>指令后，STM32进入待机模式，<strong>唤醒后程序从头开始运行</strong></li><li>整个1.8V供电区域被断电，PLL、HSI和HSE也被断电，SRAM和寄存器内容丢失，只有备份的寄存器和待机电路维持供电</li><li><strong>在待机模式下，所有的I/O引脚变为高阻态（浮空输入）</strong></li><li>唤醒条件 <ul><li>WKUP引脚的上升沿、RTC闹钟事件的上升沿、NRST引脚上外部复位、IWDG复位退出待机模式</li></ul></li></ul><h3 id="降低主频" tabindex="-1"><a class="header-anchor" href="#降低主频"><span>降低主频</span></a></h3><p><code>system_stm32f10x.c</code></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#if</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> defined</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> (</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">STM32F10X_LD_VL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">||</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> (</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">defined</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> STM32F10X_MD_VL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">||</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> (</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">defined</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> STM32F10X_HD_VL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;">)</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* #define SYSCLK_FREQ_HSE    HSE_VALUE */</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;"> #define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SYSCLK_FREQ_24MHz</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">  24000000</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#else</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 启用下面一条定义来选择主频。</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* #define SYSCLK_FREQ_HSE    HSE_VALUE */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* #define SYSCLK_FREQ_24MHz  24000000 */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* #define SYSCLK_FREQ_36MHz  36000000 */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* #define SYSCLK_FREQ_48MHz  48000000 */</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* #define SYSCLK_FREQ_56MHz  56000000 */</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> SYSCLK_FREQ_72MHz</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">  72000000</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#endif</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;stm32f10x.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Delay.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;OLED.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#include</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;OLED_Printf.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    OLED_Init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    // 显示系统主频</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    OLED_Printf</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;SystemCoreClock: %d </span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> SystemCoreClock</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">    while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="浅睡眠模式——串口唤醒" tabindex="-1"><a class="header-anchor" href="#浅睡眠模式——串口唤醒"><span>浅睡眠模式——串口唤醒</span></a></h3>`,36),dn=i("code",null,"User/main.cpp",-1),En=i("code",null,"/System/Serial.c",-1),pn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," BUFFER_MAX_SIZE"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," buffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"BUFFER_MAX_SIZE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/** 定义接收到数据时的处理函数*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 保存数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    buffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"length"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    length "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"%="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," BUFFER_MAX_SIZE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Serial_SetDataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Running'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"        for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," length"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%x "'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," buffer"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Seeping'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 进入浅睡眠模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        SCB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"SCR"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &="),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ~"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SCB_SCR_SLEEPDEEP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // SLEEPDEEP=0 浅睡眠模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        SCB"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"->"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"SCR"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &="),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ~"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SCB_SCR_SLEEPONEXIT"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // SLEEPONEXIT=0 立即进入睡眠模式，而不是等待中断函数执行完毕")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        __WFI"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                          // 进入睡眠模式，等待中断")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),yn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*开启时钟*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启USART1的时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB2PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB2Periph_GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 开启GPIOA的时钟")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*GPIO发送脚配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    GPIO_InitTypeDef GPIO_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Pin_9"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 速率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        GPIO_Mode_AF_PP"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"   // 复用推挽输出")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*GPIO接收脚配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Pin"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Pin_10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Speed"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Speed_50MHz"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 速率")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"."),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"GPIO_Mode"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," GPIO_Mode_IPU"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"     // 上拉输入")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    GPIO_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIOA"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"GPIO_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*USART配置*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    USART_InitTypeDef USART_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        9600"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                           // USART_BaudRate 波特率：9600")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_WordLength_8b"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"            // USART_WordLength 字长：8比特")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_StopBits_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"               // USART_StopBits 停止位长度：1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_Parity_No"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                // USART_Parity, 校验位：不校验")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_Mode_Rx "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"|"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_Mode_Tx"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // USART_Mode 模式：收发")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART_HardwareFlowControl_None"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // USART_HardwareFlowControl 硬件流控制：无")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," &"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*配置NVIC，把接收到数据的信号通向NVIC*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_ITConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," USART_IT_RXNE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*配置NVIC优先级分组方式*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_PriorityGroupConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_PriorityGroup_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*配置NVIC启用USART1中断通道*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    NVIC_InitTypeDef NVIC_InitStruct "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        USART1_IRQn"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 通道")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"        1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 优先级")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"        ENABLE"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 启用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    NVIC_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"&"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"NVIC_InitStruct"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    /*启动USART*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    USART_Cmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/** 处理接收数据的函数*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (*"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#D20F39","--shiki-dark":"#569CD6"}}," NULL"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Serial_SetDataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," (*"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"_dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"    dataHandler "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," _dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**重写中断处理函数，读取接收到的数据，传递给数据处理函数*/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," USART1_IRQHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        dataHandler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"USART_ReceiveData"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"USART1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),gn=i("h3",{id:"深度睡眠模式——停机模式——外部中断唤醒",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#深度睡眠模式——停机模式——外部中断唤醒"},[i("span",null,"深度睡眠模式——停机模式——外部中断唤醒")])],-1),Cn=i("code",null,"User/main.cpp",-1),cn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Serial.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "CountSensor.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_PWR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启PWR时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    CountSensor_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Running'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"count: %d '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," CountSensor_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"());")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Seeping'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 进入停止模式（库函数写法）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        PWR_EnterSTOPMode"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 进入停止模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            PWR_Regulator_ON"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启寄存器（不进入低功耗模式）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"            PWR_STOPEntry_WFI"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 使用wfi指令进入停止模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        );")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 进入停止模式（操作寄存器写法）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // PWR->CR &= ~PWR_CR_LPDS; // 关闭低功耗模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // SCB->SCR |= SCB_SCR_SLEEPDEEP; // SLEEPDEEP=1 深度睡眠模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // __WFI();                       // 进入睡眠模式，等待中断")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 退出停止模式后，时钟频率为8M")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        SystemInit"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 重新初始化系统时钟为72M")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Fn=i("h3",{id:"深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒"},[i("span",null,"深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒")])],-1),on=i("code",null,"User/main.cpp",-1),Dn=i("code",null,"System/Rtc.c",-1),An=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Rtc.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    Rtc_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_PWR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启PWR时钟")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_SetAlarm"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RTC_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 10"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置闹钟为10秒后")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // PWR_WakeUpPinCmd(ENABLE);            // 开启wakeup功能（默认下拉低电平，给高电平唤醒）")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Running'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"time: %d '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," RTC_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"());")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Seeping'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 进入待机模式（库函数写法）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        PWR_EnterSTANDBYMode"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 进入待机模式（操作寄存器写法）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // SCB->SCR |= SCB_SCR_SLEEPDEEP; // SLEEPDEEP=1 深度睡眠模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // PWR->CR |= PWR_CR_PDDS;        // PWR_CR_PDDS=1 待机模式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // PWR->CR |= PWR_CR_CWUF;        // 清除唤醒标志位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // __WFI();                       // 进入睡眠模式，等待唤醒")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),fn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Rtc.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC配置时钟配置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_PWR"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启PWR时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_BKP"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 开启BKP时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    PWR_BackupAccessCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                        // 允许访问BKP(以及RTC)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_LSEConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_LSE_ON"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                          // 开启 LSE 时钟(32.768khz)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"!"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RCC_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_FLAG_LSERDY"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"))"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 等待 LSE 时钟启震动")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"        ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_RTCCLKConfig"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_RTCCLKSource_LSE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 为RTC选择 LSE 时钟源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_RTCCLKCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                  // 开启 RTC 时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RCC配置")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForSynchro"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 等待AHB1时钟和RTC外设时钟同步完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForLastTask"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待上一次写入操作完成(可以不写)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_EnterConfigMode"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 进入配置模式，否则无法配置分频器(可以不写,因为RTC_SetXXX中已经包含)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_SetPrescaler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"32768"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 设置预分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForLastTask"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"       // 等待写入完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RTC_SetCounter(0);           // 0表示1970年1月1日")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // RTC_WaitForLastTask();       // 等待写入完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_SetUnixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," unixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_WaitForLastTask"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 等待上次写入完成")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RTC_SetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"unixTime"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取unix时间戳")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_S"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," RTC_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," * 获取毫秒级时间")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint64_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Rtc_GetTime_MS"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint64_t"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RTC_GetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // s *1000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"           ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"32768"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," RTC_GetDivider"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"())"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1000"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 32768"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 先乘后除,避免使用浮点数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),un=k('<h2 id="wdg看门狗" tabindex="-1"><a class="header-anchor" href="#wdg看门狗"><span>WDG看门狗</span></a></h2><ul><li>WDG（Watchdog）看门狗</li><li>看门狗可以监控程序的运行状态，当程序因为设计漏洞、硬件故障、电磁干扰等原因，出现卡死或跑飞现象时，看门狗能及时复位程序，避免程序陷入长时间的罢工状态，保证系统的可靠性和安全性</li><li>看门狗本质上是一个定时器，当指定时间范围内，程序没有执行喂狗（重置计数器）操作时，看门狗硬件电路就自动产生复位信号</li><li>STM32内置两个看门狗 <ul><li>独立看门狗（IWDG）：独立工作，对时间精度要求较低（不能太晚喂狗） <ul><li>使用专用时钟，LSI内部低速时钟</li></ul></li><li>窗口看门狗（WWDG）：要求看门狗在精确计时窗口起作用（不能太晚喂狗也不能太早喂狗） <ul><li>使用APB1时钟</li></ul></li></ul></li></ul><h3 id="原理框图-2" tabindex="-1"><a class="header-anchor" href="#原理框图-2"><span>原理框图</span></a></h3><p><strong>独立看门狗</strong></p>',4),mn=i("ul",null,[i("li",null,"递减计数器自减溢出后产生复位信号。"),i("li",null,"程序运行中为了避免复位应当不断重置计数器，避免其归零。"),i("li",null,"预分频器只有8位，最大只能进行256分频。"),i("li",null,[s("递减计数器为12位， 最大值为："),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msup",null,[i("mn",null,"2"),i("mrow",null,[i("mn",null,"12"),i("mo",null,"−"),i("mn",null,"1")])]),i("mo",null,"="),i("mn",null,"4095")]),i("annotation",{encoding:"application/x-tex"},"2^{12-1}=4095")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8141em"}}),i("span",{class:"mord"},[i("span",{class:"mord"},"2"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.8141em"}},[i("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mtight"},"12"),i("span",{class:"mbin mtight"},"−"),i("span",{class:"mord mtight"},"1")])])])])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.6444em"}}),i("span",{class:"mord"},"4095")])])])]),i("li",null,"可以在重装寄存器中写入初始值避免复位。"),i("li",null,"在键寄存器写入特定数据，然后重装值将复制到计数器中，自减运行。")],-1),vn=k('<p><img src="'+ml+'" alt="Alt text"></p><h3 id="独立看门狗键寄存器" tabindex="-1"><a class="header-anchor" href="#独立看门狗键寄存器"><span>独立看门狗键寄存器</span></a></h3><ul><li>键寄存器本质上是控制寄存器，用于控制硬件电路的工作</li><li>在可能存在干扰的情况下，一般通过在整个键寄存器写入特定值来代替控制寄存器写入一位的功能，以降低硬件电路受到干扰的概率</li></ul><table><thead><tr><th style="text-align:center;">写入键寄存器的值</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">0xCCCC</td><td style="text-align:center;">启用独立看门狗</td></tr><tr><td style="text-align:center;">0xAAAA</td><td style="text-align:center;">IWDG_RLR中的值重新加载到计数器（喂狗）</td></tr><tr><td style="text-align:center;">0x5555</td><td style="text-align:center;">解除IWDG_PR和IWDG_RLR的写保护</td></tr><tr><td style="text-align:center;">0x5555之外的其他值</td><td style="text-align:center;">启用IWDG_PR和IWDG_RLR的写保护</td></tr></tbody></table><h3 id="独立看门狗超时时间" tabindex="-1"><a class="header-anchor" href="#独立看门狗超时时间"><span>独立看门狗超时时间</span></a></h3>',5),_n=i("ul",null,[i("li",null,[s("超时时间："),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"I"),i("mi",null,"W"),i("mi",null,"D"),i("mi",null,"G")])]),i("mo",null,"="),i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"L"),i("mi",null,"S"),i("mi",null,"I")])]),i("mo",null,"×"),i("mtext",null,"PR预分频系数"),i("mo",null,"×"),i("mo",{stretchy:"false"},"("),i("mi",null,"R"),i("mi",null,"L"),i("mo",null,"+"),i("mn",null,"1"),i("mo",{stretchy:"false"},")")]),i("annotation",{encoding:"application/x-tex"},"T_{IWDG} = T_{LSI} × \\text{PR预分频系数} × (RL + 1)")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07847em"}},"I"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"W"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D"),i("span",{class:"mord mathnormal mtight"},"G")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07847em"}},"I")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),i("span",{class:"mord text"},[i("span",{class:"mord"},"PR"),i("span",{class:"mord cjk_fallback"},"预分频系数")]),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mopen"},"("),i("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),i("span",{class:"mord mathnormal"},"L"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"+"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"1"),i("span",{class:"mclose"},")")])])]),i("ul",null,[i("li",null,[i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"L"),i("mi",null,"S"),i("mi",null,"I")])]),i("mo",null,"="),i("mn",null,"1"),i("mi",{mathvariant:"normal"},"/"),i("msub",null,[i("mi",null,"F"),i("mrow",null,[i("mi",null,"L"),i("mi",null,"S"),i("mi",null,"I")])]),i("mo",null,"="),i("mn",null,"0.025"),i("mi",null,"m"),i("mi",null,"s")]),i("annotation",{encoding:"application/x-tex"},"T_{LSI} = 1/F_{LSI}=0.025ms")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07847em"}},"I")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"1/"),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"F"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07847em"}},"I")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.6444em"}}),i("span",{class:"mord"},"0.025"),i("span",{class:"mord mathnormal"},"m"),i("span",{class:"mord mathnormal"},"s")])])])]),i("li",null,[i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"F"),i("mrow",null,[i("mi",null,"L"),i("mi",null,"S"),i("mi",null,"I")])]),i("mo",null,"="),i("mn",null,"40"),i("mi",null,"K"),i("mi",null,"h"),i("mi",null,"z")]),i("annotation",{encoding:"application/x-tex"},"F_{LSI}=40Khz")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"F"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07847em"}},"I")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.6944em"}}),i("span",{class:"mord"},"40"),i("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"K"),i("span",{class:"mord mathnormal"},"h"),i("span",{class:"mord mathnormal",style:{"margin-right":"0.04398em"}},"z")])])]),i("br"),i("img",{src:vl,alt:"Alt text"})])])])],-1),bn=k('<h3 id="窗口看门狗框图" tabindex="-1"><a class="header-anchor" href="#窗口看门狗框图"><span>窗口看门狗框图</span></a></h3><ul><li>PCLK1,36M的时钟，其实还经过了一个固定的4096分频才到达看门狗的预分频器。</li><li>WWDG_CR控制寄存器 <ul><li>WDGA 启用窗口看门狗的位</li><li>CNT: 六位的递减计数器</li><li>T6: 计数器的第七位，用来当计数器的溢出标志位，当其从1变化为0时，输出的就是复位信号。 <ul><li><code>0x1000000 = 0x40</code></li></ul></li></ul></li><li>WWDG_CFR配置寄存器，决定了最早时间界限。 <ul><li>当喂狗时（往递减计数去写数时），T6:0&gt;W6:0,表示写入的时机过早，比较器将输出1，导致复位。</li></ul></li></ul><p><img src="'+_l+'" alt="Alt text"></p><h3 id="窗口看门狗时序" tabindex="-1"><a class="header-anchor" href="#窗口看门狗时序"><span>窗口看门狗时序</span></a></h3><ul><li>（没有及时喂狗）递减计数器T[6:0]的值等于0x40-1时，WWDG产生复位</li><li>（过早喂狗）递减计数器T[6:0]在窗口W[6:0]外被重新装载时，WWDG产生复位</li><li>（0溢事件）递减计数器T[6:0]等于0x40时可以产生早期唤醒中断（EWI），用于重装载计数器以避免WWDG复位</li><li>定期写入WWDG_CR寄存器（喂狗）以避免WWDG复位</li></ul><p><img src="'+bl+'" alt="Alt text"></p><h3 id="窗口看门狗的超时时间" tabindex="-1"><a class="header-anchor" href="#窗口看门狗的超时时间"><span>窗口看门狗的超时时间</span></a></h3>',7),Bn=i("ul",null,[i("li",null,[s("超时时间："),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"W"),i("mi",null,"W"),i("mi",null,"D"),i("mi",null,"G")])]),i("mo",null,"="),i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"P"),i("mi",null,"C"),i("mi",null,"L"),i("mi",null,"K"),i("mn",null,"1")])]),i("mo",null,"×"),i("mn",null,"4096"),i("mo",null,"×"),i("msup",null,[i("mn",null,"2"),i("mtext",null,"WDGTB预分频系数")]),i("mo",null,"×"),i("mo",{stretchy:"false"},"("),i("mi",null,"T"),i("mo",{stretchy:"false"},"["),i("mn",null,"5"),i("mo",null,":"),i("mn",null,"0"),i("mo",{stretchy:"false"},"]"),i("mo",null,"+"),i("mn",null,"1"),i("mo",{stretchy:"false"},")")]),i("annotation",{encoding:"application/x-tex"},"T_{WWDG} = T_{PCLK1} × 4096 × 2^{\\text{WDGTB预分频系数}} × (T[5:0] + 1)")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"WW"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D"),i("span",{class:"mord mathnormal mtight"},"G")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"PC"),i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"K"),i("span",{class:"mord mtight"},"1")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),i("span",{class:"mord"},"4096"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.9247em","vertical-align":"-0.0833em"}}),i("span",{class:"mord"},[i("span",{class:"mord"},"2"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.8413em"}},[i("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord text mtight"},[i("span",{class:"mord mtight"},"WDGTB"),i("span",{class:"mord cjk_fallback mtight"},"预分频系数")])])])])])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mopen"},"("),i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"mopen"},"["),i("span",{class:"mord"},"5"),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},":"),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"0"),i("span",{class:"mclose"},"]"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"+"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"1"),i("span",{class:"mclose"},")")])])])]),i("li",null,[s("窗口时间："),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"W"),i("mi",null,"I"),i("mi",null,"N")])]),i("mo",null,"="),i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"P"),i("mi",null,"C"),i("mi",null,"L"),i("mi",null,"K"),i("mn",null,"1")])]),i("mo",null,"×"),i("mn",null,"4096"),i("mo",null,"×"),i("msup",null,[i("mn",null,"2"),i("mtext",null,"WDGTB预分频系数")]),i("mo",null,"×"),i("mo",{stretchy:"false"},"("),i("mi",null,"T"),i("mo",{stretchy:"false"},"["),i("mn",null,"5"),i("mo",null,":"),i("mn",null,"0"),i("mo",{stretchy:"false"},"]"),i("mo",null,"−"),i("mi",null,"W"),i("mo",{stretchy:"false"},"["),i("mn",null,"5"),i("mo",null,":"),i("mn",null,"0"),i("mo",{stretchy:"false"},"]"),i("mo",{stretchy:"false"},")")]),i("annotation",{encoding:"application/x-tex"},"T_{WIN} = T_{PCLK1} × 4096 × 2^{\\text{WDGTB预分频系数}} × (T[5:0] - W[5:0])")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"W"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07847em"}},"I"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.10903em"}},"N")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"PC"),i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"K"),i("span",{class:"mord mtight"},"1")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),i("span",{class:"mord"},"4096"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.9247em","vertical-align":"-0.0833em"}}),i("span",{class:"mord"},[i("span",{class:"mord"},"2"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.8413em"}},[i("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord text mtight"},[i("span",{class:"mord mtight"},"WDGTB"),i("span",{class:"mord cjk_fallback mtight"},"预分频系数")])])])])])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"×"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mopen"},"("),i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"mopen"},"["),i("span",{class:"mord"},"5"),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},":"),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"0"),i("span",{class:"mclose"},"]"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),i("span",{class:"mbin"},"−"),i("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),i("span",{class:"mopen"},"["),i("span",{class:"mord"},"5"),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},":"),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"0"),i("span",{class:"mclose"},"])")])])]),i("ul",null,[i("li",null,[s("其中："),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msub",null,[i("mi",null,"T"),i("mrow",null,[i("mi",null,"P"),i("mi",null,"C"),i("mi",null,"L"),i("mi",null,"K"),i("mn",null,"1")])]),i("mo",null,"="),i("mn",null,"1"),i("mi",{mathvariant:"normal"},"/"),i("msub",null,[i("mi",null,"F"),i("mrow",null,[i("mi",null,"P"),i("mi",null,"C"),i("mi",null,"L"),i("mi",null,"K"),i("mn",null,"1")])])]),i("annotation",{encoding:"application/x-tex"},"T_{PCLK1} = 1 / F_{PCLK1}")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"PC"),i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"K"),i("span",{class:"mord mtight"},"1")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])]),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),i("span",{class:"mrel"},"="),i("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),i("span",{class:"base"},[i("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),i("span",{class:"mord"},"1/"),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"F"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t vlist-t2"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.3283em"}},[i("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"PC"),i("span",{class:"mord mathnormal mtight"},"L"),i("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.07153em"}},"K"),i("span",{class:"mord mtight"},"1")])])])]),i("span",{class:"vlist-s"},"​")]),i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.15em"}},[i("span")])])])])])])])])])])])],-1),In=k('<p><img src="'+Bl+'" alt="Alt text"></p><h3 id="独立看门狗和窗口看门狗的区别" tabindex="-1"><a class="header-anchor" href="#独立看门狗和窗口看门狗的区别"><span>独立看门狗和窗口看门狗的区别</span></a></h3><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">IWDG独立看门狗</th><th style="text-align:center;">WWDG窗口看门狗</th></tr></thead><tbody><tr><td style="text-align:center;">复位</td><td style="text-align:center;">计数器减到0后</td><td style="text-align:center;">计数器T[5:0]减到0后、过早重装计数器</td></tr><tr><td style="text-align:center;">中断</td><td style="text-align:center;">无</td><td style="text-align:center;">早期唤醒中断</td></tr><tr><td style="text-align:center;">时钟源</td><td style="text-align:center;">LSI（40KHz）</td><td style="text-align:center;">PCLK1（36MHz）</td></tr><tr><td style="text-align:center;">预分频系数</td><td style="text-align:center;">4、8、16、32、64、128、256</td><td style="text-align:center;">1、2、4、8</td></tr><tr><td style="text-align:center;">计数器</td><td style="text-align:center;">12位</td><td style="text-align:center;">6位（有效计数）</td></tr><tr><td style="text-align:center;">超时时间</td><td style="text-align:center;">0</td><td style="text-align:center;">.1ms~26214.4ms 113us~58.25ms</td></tr><tr><td style="text-align:center;">喂狗方式</td><td style="text-align:center;">写入键寄存器，重装固定值RLR</td><td style="text-align:center;">直接写入计数器，写多少重装多少</td></tr><tr><td style="text-align:center;">防误操作</td><td style="text-align:center;">键寄存器和写保护</td><td style="text-align:center;">无</td></tr><tr><td style="text-align:center;">用途</td><td style="text-align:center;">独立工作，对时间精度要求较低</td><td style="text-align:center;">要求看门狗在精确计时窗口起作用</td></tr></tbody></table><h3 id="iwdg案例代码" tabindex="-1"><a class="header-anchor" href="#iwdg案例代码"><span>IWDG案例代码</span></a></h3>',4),Sn=i("code",null,"User/main.cpp",-1),Pn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 由独立看门狗导致的复位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RCC_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_FLAG_IWDGRST"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"reset by: IWDG'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"reset by: RST'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 清除标志位，否则下次复位后还在。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_ClearFlag"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 设置1s的超时时间")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 时钟40k")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 预分频器:16分频。     40k / 16 => 2.5khz 0.0025s")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 重装值：2500。      2.5khz / 2.5k => 1hz 1s")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启LSI时钟（不需要手动开启，所以不用写）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 解除IWDG_PR和IWDG_RLR的写保护")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    IWDG_WriteAccessCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"IWDG_WriteAccess_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 给键寄存器写入0x5555指令")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 设置预分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    IWDG_SetPrescaler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"IWDG_Prescaler_16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 给PR预分频器写入0~6的值代表2~256的分频系数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 设置重装值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    IWDG_SetReload"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2500"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 给12位RLR自动重装计数器写入值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 喂狗:将重装值写入自减计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    IWDG_ReloadCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 给KR键寄存器写入0xAAAA，由于写入值不是0x5555,将自动开启写保护")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启独立看门狗")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    IWDG_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 给KR键寄存器写入0xCCCC，由于写入值不是0x5555,将自动开启写保护")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"state: Running'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // Delay_ms(200);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 喂狗:将重装值写入自减计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        IWDG_ReloadCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Tn=i("h3",{id:"wwdg案例代码",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#wwdg案例代码"},[i("span",null,"WWDG案例代码")])],-1),xn=i("code",null,"User/main.cpp",-1),Rn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 由独立看门狗导致的复位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"RCC_GetFlagStatus"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_FLAG_WWDGRST"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," =="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SET"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"reset by: WWDG'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"reset by: RST'),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 清除标志位，否则下次复位后还在。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_ClearFlag"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 设置10ms的超时时间, 5ms 的窗口时间")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 1000ms 1hz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 100ms 10hz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 10ms 100hz")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 时钟36Mhz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 内置预分频器: 4096        36Mhz / 4096 => 8,789.0625Hz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 预分频器: 2分频。      8,789.0625Hz / 2 => 4,394.53125Hz")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 重装值：43.9453125      4,394.53125Hz / 43.9453125 => 100hz 10ms")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 开启WWDG的时钟")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    RCC_APB1PeriphClockCmd"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"RCC_APB1Periph_WWDG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," ENABLE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    WWDG_SetPrescaler"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"WWDG_Prescaler_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"      // 预分频器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    WWDG_SetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"40"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"44"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"         // 自减计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    WWDG_SetWindowValue"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"40"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"44"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," /"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 窗口值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    WWDG_Enable"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"40"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"44"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"             // 启用 0x80是WDGA位 0x40是溢出标志位 44-1是重装值")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // Delay_ms(5); // 过早喂狗,导致直接复位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        Delay_ms"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"6"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"                      //")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        WWDG_SetCounter"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}},"0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"40"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," |"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"44"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," -"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 喂狗：重写自减计数器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Mn=k('<h2 id="flash闪存" tabindex="-1"><a class="header-anchor" href="#flash闪存"><span>Flash闪存</span></a></h2><ul><li>STM32F1系列的FLASH包含三个部分 <ul><li>程序存储器</li><li>系统存储器</li><li>选项字节</li></ul></li><li>通过<strong>闪存存储器接口（外设）<strong>可以对</strong>程序存储器</strong>和<strong>选项字节</strong>进行擦除和编程</li><li>读写FLASH的用途： <ul><li>利用程序存储器的剩余空间来保存掉电不丢失的用户数据 <ul><li>如：可以在FLASH的最后几页存储想要存储的参数。</li></ul></li><li>通过在程序中编程（IAP），实现程序的自我更新 <ul><li>通过Flash中的程序直接修改程序自己本身。</li></ul></li></ul></li><li>在线编程（In-Circuit Programming – ICP） <ul><li>用于更新程序存储器的全部内容，它通过JTAG、SWD协议或系统加载程序（Bootloader）下载程序</li><li>就是烧录程序最常用的方式，通过串口或或st-link下载程序。</li></ul></li><li>在程序中编程（In-Application Programming – IAP） <ul><li>可以使用微控制器支持的任一种通信接口下载程序</li><li>如自己写一个bootloader程序放在flash存储器的最后几页，</li><li>需要更新程序时，控制程序跳转到自己写的bootloader，</li><li>然后接收任何通信接口的数据写入到Flash。</li></ul></li></ul><h3 id="闪存模块组织结构" tabindex="-1"><a class="header-anchor" href="#闪存模块组织结构"><span>闪存模块组织结构</span></a></h3><blockquote><p>STM32F10xxx闪存编程参考手册.pdf</p></blockquote><p><strong>中容量闪存模块组织结构</strong></p><ul><li>主存储器 <ul><li>存放程序代码的。</li></ul></li><li>信息块 <ul><li>启动程序代码：系统存储器，存放Bootloader程序，用于串口下载。</li><li>用户选择字节：选项字节，存放独立的参数。</li></ul></li><li>闪存存储器接口寄存器 <ul><li>实际是一些数据寄存器，存储介质为SRAM，</li><li>可以用来控制闪存的<strong>擦除</strong>和<strong>编程（写入）</strong></li></ul></li><li><img src="'+Il+'" alt="Alt text"></li></ul><h3 id="闪存结构简图" tabindex="-1"><a class="header-anchor" href="#闪存结构简图"><span>闪存结构简图</span></a></h3><p><img src="'+Sl+`" alt="Alt text"></p><h3 id="解锁flash" tabindex="-1"><a class="header-anchor" href="#解锁flash"><span>解锁FLASH</span></a></h3><p><strong>FPEC键值</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">/* FLASH Keys */</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> RDP_Key</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">                  ((</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;">0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">000000A5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">)</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // RDPRT（read protect读保护）</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_KEY1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">               ((</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;">0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">45670123</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">)</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_KEY2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">               ((</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;">0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">CDEF89AB</span><span style="--shiki-light:#7C7F93;--shiki-dark:#569CD6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解锁流程</strong></p><ul><li>复位后，闪存存储器接口FPEC被保护，不能写入FLASH_CR</li><li><strong>在FLASH_KEYR先写入KEY1，再写入KEY2，解锁</strong><blockquote><p>错误的操作序列（如电磁干扰）会锁死<code>FPEC</code>和<code>FLASH_CR</code>,除非复位。</p></blockquote></li></ul><p><strong>加锁流程</strong></p><ul><li>设置FLASH_CR.LOCK为1,锁住FPEC和FLASH_CR</li></ul><h3 id="使用指针读取存储器" tabindex="-1"><a class="header-anchor" href="#使用指针读取存储器"><span>使用指针读取存储器</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 防止编译器优化，告诉编译器该数据是易变的，不需要做缓存优化。</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 缓存优化：编译器通过把要对内存频繁读写的数据备份到高速缓存（工作组寄存器）来加速读写速度，但是有可能程序直接修改了内存的数据（如中断、DMA、ADC数据寄存器），但是高速寄存器中还是原始值，这就需要使用volatile关键字。</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#C586C0;">#define</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    __IO</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    volatile</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 使用指针读指定地址下的存储器：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> Data </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">__IO </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)(</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;">0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">08000000</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 使用指针写指定地址下的存储器(需要提前解锁Flash，并进行忙等待)：</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">__IO </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)(</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;">0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">08000000</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">))</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#B5CEA8;"> 0x</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1234</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 读取字节</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Flash_Read_uint8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">__IO </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint8_t</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Flash_Read_uint16</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">__IO </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 读取float</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">float</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Flash_Read_float</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">__IO </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">float</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">double</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Flash_Read_double</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">((</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">__IO </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">double</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="flash全擦除流程" tabindex="-1"><a class="header-anchor" href="#flash全擦除流程"><span>Flash全擦除流程</span></a></h3><ul><li><code>执行Flash解锁流程</code></li><li><code>FLASH_CR.MER=1</code> （MASS ERASE全擦除）</li><li><code>FLASH_CR.STRT=1</code> (start 开始干活)</li><li><code>while(FLASH_SR.BSY==1);</code> (忙等待)</li></ul><p><img src="`+Pl+'" alt="Alt text"></p><h3 id="flash页擦除流程" tabindex="-1"><a class="header-anchor" href="#flash页擦除流程"><span>Flash页擦除流程</span></a></h3><ul><li><code>执行Flash解锁流程</code></li><li><code>FLASH_CR.PER=1</code> （Page Erase页擦除）</li><li><code>FLASH_AR=页首地址</code></li><li><code>FLASH_CR.STRT=1</code> (start 开始干活)</li><li><code>while(FLASH_SR.BSY==1);</code> (忙等待)</li></ul><p><img src="'+Tl+'" alt="Alt text"></p><h3 id="flash半字-16bit-写入流程" tabindex="-1"><a class="header-anchor" href="#flash半字-16bit-写入流程"><span>Flash半字（16bit）写入流程</span></a></h3><ul><li><code>执行Flash解锁流程</code></li><li>FLASH_CR.PG=1 (Programming编程写入)</li><li><code>*((__IO uint16_t *)(0x08000000)) = 0x1234;</code> (写入半字16bit)</li><li><code>while(FLASH_SR.BSY==1);</code> (忙等待)</li></ul><p><img src="'+xl+'" alt="Alt text"></p><h3 id="选项字节" tabindex="-1"><a class="header-anchor" href="#选项字节"><span>选项字节</span></a></h3><p><img src="'+Rl+`" alt="Alt text"></p><ul><li><code>nRDP</code><ul><li>写入RDP的反码</li></ul></li><li><code>RDP</code><ul><li>读出保护选择字节</li><li>写入(RDPRT键=0x00A5)后，闪存被开放允许读出访问。</li></ul></li><li><code>USER</code><ul><li>选择看门狗事件：硬件或软件</li><li>进入停机(STOP)模式时的复位事件</li><li>进入待机模式时的复位事件</li></ul></li><li><code>Data0/1</code><ul><li>用户自定义使用</li></ul></li><li><code>WRP0/1/2/3</code><ul><li>配置写保护</li><li>每位保护4页（中容量） <ul><li>4x8=32位</li><li>32x4=128页</li></ul></li></ul></li></ul><h4 id="选项字节的擦除流程" tabindex="-1"><a class="header-anchor" href="#选项字节的擦除流程"><span>选项字节的擦除流程</span></a></h4><ul><li><code>while(FLASH_SR.BSY==1);</code> (事前忙等待)</li><li><code>执行Flash解锁流程</code></li><li><code>解锁选项字节解锁流程</code><ul><li>在<code>FLASH_OPTKEYR</code>先写入KEY1，再写入KEY2，解锁选项字节</li><li>然后硬件会自动将<code>FLASH_CR.OPTWRE=1</code> （Option Write Enable选项写入允许）</li></ul></li><li><code>FLASH_CR.OPTER=1</code> （Option Erase选项字节擦除）</li><li><code>FLASH_CR.STRT=1</code> (start 开始干活)</li><li><code>while(FLASH_SR.BSY==1);</code> (事后忙等待)</li><li>擦除完成</li></ul><h4 id="选项字节的写入流程" tabindex="-1"><a class="header-anchor" href="#选项字节的写入流程"><span>选项字节的写入流程</span></a></h4><ul><li><code>while(FLASH_SR.BSY==1);</code> (事前忙等待)</li><li><code>执行Flash解锁流程</code></li><li><code>解锁选项字节解锁流程</code></li><li><code>FLASH_CR.OPTPG=1</code> （Option Erase选项字节擦除）</li><li><code>*((__IO uint16_t *)(0x08000000)) = 0x1234;</code> (写入半字16bit)</li><li><code>while(FLASH_SR.BSY==1);</code> (事后忙等待)</li><li>写入完成</li></ul><h3 id="器件电子签名" tabindex="-1"><a class="header-anchor" href="#器件电子签名"><span>器件电子签名</span></a></h3><ul><li><strong>电子签名</strong>存放在闪存存储器模块的<strong>系统存储区域（Bootloader）</strong>，</li><li>包含的芯片识别信息在出厂时编写，<strong>不可更改</strong>，</li><li>使用指针读指定地址下的存储器可获取电子签名</li><li><code>F_SIZE</code> 闪存容量寄存器： <ul><li>基地址：0x1FFF F7E0</li><li>大小：16位</li></ul></li><li><code>U_ID</code> 产品唯一身份标识寄存器： <ul><li>基地址： 0x1FFF F7E8</li><li>大小：96位</li></ul></li></ul><h3 id="主闪存编程" tabindex="-1"><a class="header-anchor" href="#主闪存编程"><span>主闪存编程</span></a></h3><ul><li>对主闪存编程每次可以写入16位。</li><li>当FLASH_CR寄存器的PG位为’1’时，</li><li>在一个闪存地址写入一个半字将启动一次编程；</li><li>写入任何非半字的数据，FPEC都会产生总线错误。</li><li>在编程过程中(BSY位为’1’)，任何读写闪存的操作都会使CPU暂停，直到此次闪存编程结束。</li></ul><p><strong>关于读写闪存导致CPU暂停</strong></p><ol><li>当CPU执行如 while(FLASH_SR.BSY == 1); 这样的循环时，它实际上是在执行存储在RAM或内部缓存中的指令，而不是直接从闪存读取指令。即使闪存处于忙碌状态，CPU仍然能够从其内部缓存或RAM中执行代码，除非它需要从闪存中读取数据或指令。</li><li>对FLASH_SR.BSY的访问实际上是对Flash状态寄存器的访问，而不是对Flash存储器本身的访问。</li><li>如果在 BSY 位为1时尝试访问闪存，CPU并不会真正“暂停”，而是会遇到访问延迟，因为闪存控制器会阻止任何访问直到其内部操作完成。这可能会影响程序的执行速度，尤其是在频繁访问闪存的情况下。</li></ol><h3 id="标准库flash外设" tabindex="-1"><a class="header-anchor" href="#标准库flash外设"><span>标准库Flash外设</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" data-title="cpp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 三个和内核代码有关的，不需要用户调用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_SetLatency</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_Latency</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> // 设置SYSCLK(系统时钟)周期与闪存访问时间的比例</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_HalfCycleAccessCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_HalfCycleAccess</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//闪存半周期访问使能</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_PrefetchBufferCmd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_PrefetchBuffer</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">//预取缓冲区使能</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_Unlock</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 解锁</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_Lock</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 上锁</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_ErasePage</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Page_Address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 页擦除</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_EraseAllPages</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 全页擦除</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_EraseOptionBytes</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 选项字节擦除</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_ProgramWord</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 写入字</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_ProgramHalfWord</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 写入半字</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_ProgramOptionByteData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Address</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint8_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 写入选项字节</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_EnableWriteProtection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_Pages</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开启写保护</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_ReadOutProtection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FunctionalState</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> NewState</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 开启读保护</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FLASH_Status</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_UserOptionByteConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OB_IWDG</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OB_STOP</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> uint16_t</span><span style="--shiki-light:#E64553;--shiki-dark:#9CDCFE;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> OB_STDBY</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 写入用户选项的三个配置位</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_GetUserOptionByte</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 读取用户选项</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">uint32_t</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_GetWriteProtectionOptionByte</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取写保护状态</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_GetReadOutProtectionStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取读保护状态</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#4EC9B0;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">FlagStatus</span><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> FLASH_GetPrefetchBufferStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">void</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">// 获取预取缓冲区状态</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="flash擦除和写入" tabindex="-1"><a class="header-anchor" href="#flash擦除和写入"><span>FLash擦除和写入</span></a></h3>`,43),On=i("code",null,"User/main.cpp",-1),Ln=i("code",null,"System/FlashUtils.h",-1),Gn=i("code",null,"System/FlashUtils.c",-1),Wn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "FlashUtils.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x08000000 00")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x08000001 50")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x08000002 00")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x08000003 20")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%lX '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"FLASH_BASE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"  // 0x00")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%lX '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"FLASH_BASE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 0x5000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%lX '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint32"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"FLASH_BASE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"));"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 0x20005000")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashUtils_Erase_Page"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"FLASH_BASE "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 63"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1024"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 擦除第63页（每页1024字节）")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc01	78")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc02	56")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc03	34")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc04	12")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashUtils_Write_Word"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"FLASH_BASE "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 63"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1024"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"12345678"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写入4字节")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc05	CD")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc06	AB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc07	00")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 0x0800fc08	00")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashUtils_Write_Word"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"FLASH_BASE "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 63"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1024"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," +"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"ABCD"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 写入2字节")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#if"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"//  全页擦除")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashUtils_Erase_All_Pages"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Nn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __FlashUtils_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __FlashUtils_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint32_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint32"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Erase_All_Pages"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Erase_Page"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," pageAddres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Write_Word"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," addres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Write_HalfWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," addres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Un=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "FlashUtils.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint32"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"__IO "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"__IO "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint8"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    return"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"__IO "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint8_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Erase_All_Pages"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Unlock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_EraseAllPages"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Lock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Erase_Page"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," pageAddres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Unlock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_ErasePage"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"pageAddres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Lock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Write_Word"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," addres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Unlock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_ProgramWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"addres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Lock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Write_HalfWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," addres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Unlock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_ProgramHalfWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"addres"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," data"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FLASH_Lock"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),wn=i("h3",{id:"flashstore存储",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#flashstore存储"},[i("span",null,"FLashStore存储")])],-1),Hn=i("code",null,"User/main.cpp",-1),Kn=i("code",null,"System/FlashStore.h",-1),zn=i("code",null,"System/FlashStore.c",-1),Vn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "FlashUtils.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "FlashStore.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashStore_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1234"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"    store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashStore_Save"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Xn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifndef"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __FlashStore_H__")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," __FlashStore_H__")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "FlashUtils.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"extern"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "C"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    extern"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}}," uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"512"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Save"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Sync"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"    void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Clear"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#ifdef"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," __cplusplus")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#endif")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),Qn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "FlashStore.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," SAVED_FLAG"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"55aa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Flash_Store_Size"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 512")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," Flash_Store_Address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}}," ("),i("span",{style:{"--shiki-light":"#E64553","--shiki-dark":"#9CDCFE","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"FLASH_BASE"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}}," + 63 * 1024"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 最后一页首地址")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 1kB内存空间")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Flash_Store_Size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," {"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"SAVED_FLAG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 第一次启动,没有保存标志位")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    if"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"FlashUtils_Read_Uint16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Flash_Store_Address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," !="),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," SAVED_FLAG"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 保存一次")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        FlashStore_Save"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        // 同步")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        FlashStore_Sync"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 内存数据store => Flash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Save"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashUtils_Erase_Page"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Flash_Store_Address"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 擦除")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Flash_Store_Size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"        FlashUtils_Write_HalfWord"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Flash_Store_Address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}}," store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// Flash => 内存数据store")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Sync"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Flash_Store_Size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashUtils_Read_Uint16"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"Flash_Store_Address "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"*"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"// 清除")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," FlashStore_Clear"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    for"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"="),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"<"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," Flash_Store_Size"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," i"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"++"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#9CDCFE"}},"        store"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"["),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}},"i"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"]"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," ="),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"0000"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    FlashStore_Save"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),qn=i("h3",{id:"读取芯片容量和id",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#读取芯片容量和id"},[i("span",null,"读取芯片容量和ID")])],-1),Yn=i("code",null,"User/main.cpp",-1),jn=i("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp","data-title":"cpp",style:{"--shiki-light":"#4c4f69","--shiki-dark":"#E6E6E6","--shiki-light-bg":"#eff1f5","--shiki-dark-bg":"#222222"}},[i("pre",{class:"shiki shiki-themes catppuccin-latte slack-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "stm32f10x.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "Delay.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED.h"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#include"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},' "OLED_Printf.h"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," F_SIZE_BASE"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1ffff7e0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," F_SIZE"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"__I "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint16_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"F_SIZE_BASE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," F_ID_BASE"),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#B5CEA8"}}," 0x"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1ffff7e8")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," F_ID_1"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"__I "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"F_ID_BASE "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 0"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," F_ID_2"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"__I "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"F_ID_BASE "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#DF8E1D","--shiki-dark":"#C586C0"}},"#define"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," F_ID_3"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},"(("),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"__I "),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"uint32_t"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")"),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#569CD6"}},"F_ID_BASE "),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}},"+"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 4"),i("span",{style:{"--shiki-light":"#179299","--shiki-dark":"#D4D4D4"}}," *"),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}}," 2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#569CD6"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"int"),i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," main"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#569CD6"}},"void"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Init"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 芯片容量")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," F_SIZE"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");"),i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}}," // 0x40 => 64KB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#9CA0B0","--shiki-dark":"#6A9955","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    // 芯片id")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," F_ID_1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," F_ID_2"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#1E66F5","--shiki-dark":"#DCDCAA","--shiki-light-font-style":"italic","--shiki-dark-font-style":"inherit"}},"    OLED_Printf"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"("),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"%X '),i("span",{style:{"--shiki-light":"#EA76CB","--shiki-dark":"#D7BA7D"}},"\\n"),i("span",{style:{"--shiki-light":"#40A02B","--shiki-dark":"#CE9178"}},'"'),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},","),i("span",{style:{"--shiki-light":"#4C4F69","--shiki-dark":"#E6E6E6"}}," F_ID_3"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#8839EF","--shiki-dark":"#C586C0"}},"    while"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}}," ("),i("span",{style:{"--shiki-light":"#FE640B","--shiki-dark":"#B5CEA8"}},"1"),i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#7C7F93","--shiki-dark":"#E6E6E6"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1);function Zn(Jn,$n){const a=r("CodeTabs");return E(),d("div",null,[Ol,n(a,{id:"4757",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>Timer2.c</code>"},{id:"<code v-pre>Timer2.h</code>"}]},{title0:l(({value:t,isActive:h})=>[Ll]),title1:l(({value:t,isActive:h})=>[Gl]),title2:l(({value:t,isActive:h})=>[Wl]),tab0:l(({value:t,isActive:h})=>[Nl]),tab1:l(({value:t,isActive:h})=>[Ul]),tab2:l(({value:t,isActive:h})=>[wl]),_:1}),Hl,n(a,{id:"4771",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>Timer2.c</code>"},{id:"<code v-pre>Timer2.h</code>"}]},{title0:l(({value:t,isActive:h})=>[Kl]),title1:l(({value:t,isActive:h})=>[zl]),title2:l(({value:t,isActive:h})=>[Vl]),tab0:l(({value:t,isActive:h})=>[Xl]),tab1:l(({value:t,isActive:h})=>[Ql]),tab2:l(({value:t,isActive:h})=>[ql]),_:1}),Yl,n(a,{id:"4785",data:[{id:"<code v-pre>PWM.c</code>"},{id:"<code v-pre>PWM.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[jl]),title1:l(({value:t,isActive:h})=>[Zl]),title2:l(({value:t,isActive:h})=>[Jl]),tab0:l(({value:t,isActive:h})=>[$l]),tab1:l(({value:t,isActive:h})=>[it]),tab2:l(({value:t,isActive:h})=>[st]),_:1}),lt,n(a,{id:"4884",data:[{id:"<code v-pre>PWM.c</code>"},{id:"<code v-pre>PWM.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[tt]),title1:l(({value:t,isActive:h})=>[ht]),title2:l(({value:t,isActive:h})=>[at]),tab0:l(({value:t,isActive:h})=>[nt]),tab1:l(({value:t,isActive:h})=>[kt]),tab2:l(({value:t,isActive:h})=>[et]),_:1}),rt,n(a,{id:"5016",data:[{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[dt]),tab0:l(({value:t,isActive:h})=>[Et]),_:1}),pt,yt,gt,Ct,n(a,{id:"5223",data:[{id:"<code v-pre>User/main.cpp</code>"},{id:"<code v-pre>/System/InputCompare.h</code>"},{id:"<code v-pre>/System/InputCompare.c</code>"},{id:"<code v-pre>/System/PWM.h</code>"},{id:"<code v-pre>/System/PWM.c</code>"}]},{title0:l(({value:t,isActive:h})=>[ct]),title1:l(({value:t,isActive:h})=>[Ft]),title2:l(({value:t,isActive:h})=>[ot]),title3:l(({value:t,isActive:h})=>[Dt]),title4:l(({value:t,isActive:h})=>[At]),tab0:l(({value:t,isActive:h})=>[ft]),tab1:l(({value:t,isActive:h})=>[ut]),tab2:l(({value:t,isActive:h})=>[mt]),tab3:l(({value:t,isActive:h})=>[vt]),tab4:l(({value:t,isActive:h})=>[_t]),_:1}),bt,n(a,{id:"5286",data:[{id:"<code v-pre>User/main.cpp</code>"},{id:"<code v-pre>/System/InputCompare.h</code>"},{id:"<code v-pre>/System/InputCompare.c</code>"},{id:"<code v-pre>/System/PWM.h</code>"},{id:"<code v-pre>/System/PWM.c</code>"}]},{title0:l(({value:t,isActive:h})=>[Bt]),title1:l(({value:t,isActive:h})=>[It]),title2:l(({value:t,isActive:h})=>[St]),title3:l(({value:t,isActive:h})=>[Pt]),title4:l(({value:t,isActive:h})=>[Tt]),tab0:l(({value:t,isActive:h})=>[xt]),tab1:l(({value:t,isActive:h})=>[Rt]),tab2:l(({value:t,isActive:h})=>[Mt]),tab3:l(({value:t,isActive:h})=>[Ot]),tab4:l(({value:t,isActive:h})=>[Lt]),_:1}),Gt,n(a,{id:"5662",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>System/EncoderInterface.c</code>"},{id:"<code v-pre>System/EncoderInterface.h</code>"}]},{title0:l(({value:t,isActive:h})=>[Wt]),title1:l(({value:t,isActive:h})=>[Nt]),title2:l(({value:t,isActive:h})=>[Ut]),tab0:l(({value:t,isActive:h})=>[wt]),tab1:l(({value:t,isActive:h})=>[Ht]),tab2:l(({value:t,isActive:h})=>[Kt]),_:1}),zt,n(a,{id:"6679",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>AD.c</code>"},{id:"<code v-pre>AD.h</code>"}]},{title0:l(({value:t,isActive:h})=>[Vt]),title1:l(({value:t,isActive:h})=>[Xt]),title2:l(({value:t,isActive:h})=>[Qt]),tab0:l(({value:t,isActive:h})=>[qt]),tab1:l(({value:t,isActive:h})=>[Yt]),tab2:l(({value:t,isActive:h})=>[jt]),_:1}),Zt,n(a,{id:"6693",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>AD.c</code>"},{id:"<code v-pre>AD.h</code>"}]},{title0:l(({value:t,isActive:h})=>[Jt]),title1:l(({value:t,isActive:h})=>[$t]),title2:l(({value:t,isActive:h})=>[ih]),tab0:l(({value:t,isActive:h})=>[sh]),tab1:l(({value:t,isActive:h})=>[lh]),tab2:l(({value:t,isActive:h})=>[th]),_:1}),hh,n(a,{id:"6707",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>AD.c</code>"}]},{title0:l(({value:t,isActive:h})=>[ah]),title1:l(({value:t,isActive:h})=>[nh]),tab0:l(({value:t,isActive:h})=>[kh]),tab1:l(({value:t,isActive:h})=>[eh]),_:1}),rh,n(a,{id:"7422",data:[{id:"<code v-pre>DMA1_Data_Transfer.c</code>"},{id:"<code v-pre>DMA1_Data_Transfer.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[dh]),title1:l(({value:t,isActive:h})=>[Eh]),title2:l(({value:t,isActive:h})=>[ph]),tab0:l(({value:t,isActive:h})=>[yh]),tab1:l(({value:t,isActive:h})=>[gh]),tab2:l(({value:t,isActive:h})=>[Ch]),_:1}),ch,n(a,{id:"7562",data:[{id:"<code v-pre>AD_With_DMA.c</code>"},{id:"<code v-pre>AD_With_DMA.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[Fh]),title1:l(({value:t,isActive:h})=>[oh]),title2:l(({value:t,isActive:h})=>[Dh]),tab0:l(({value:t,isActive:h})=>[Ah]),tab1:l(({value:t,isActive:h})=>[fh]),tab2:l(({value:t,isActive:h})=>[uh]),_:1}),mh,n(a,{id:"8793",data:[{id:"<code v-pre>Serial.h</code>"},{id:"<code v-pre>Serial.c</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[vh]),title1:l(({value:t,isActive:h})=>[_h]),title2:l(({value:t,isActive:h})=>[bh]),tab0:l(({value:t,isActive:h})=>[Bh]),tab1:l(({value:t,isActive:h})=>[Ih]),tab2:l(({value:t,isActive:h})=>[Sh]),_:1}),Ph,Th,n(a,{id:"8810",data:[{id:"<code v-pre>Serial.h</code>"},{id:"<code v-pre>Serial.c</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[xh]),title1:l(({value:t,isActive:h})=>[Rh]),title2:l(({value:t,isActive:h})=>[Mh]),tab0:l(({value:t,isActive:h})=>[Oh]),tab1:l(({value:t,isActive:h})=>[Lh]),tab2:l(({value:t,isActive:h})=>[Gh]),_:1}),Wh,Nh,n(a,{id:"8827",data:[{id:"<code v-pre>SimpleProtocol.h</code>"},{id:"<code v-pre>SimpleProtocol.c</code>"},{id:"<code v-pre>main.h</code>"}]},{title0:l(({value:t,isActive:h})=>[Uh]),title1:l(({value:t,isActive:h})=>[wh]),title2:l(({value:t,isActive:h})=>[Hh]),tab0:l(({value:t,isActive:h})=>[Kh]),tab1:l(({value:t,isActive:h})=>[zh]),tab2:l(({value:t,isActive:h})=>[Vh]),_:1}),Xh,n(a,{id:"9421",data:[{id:"<code v-pre>Soft_I2C.h</code>"},{id:"<code v-pre>Soft_I2C.c</code>"}]},{title0:l(({value:t,isActive:h})=>[Qh]),title1:l(({value:t,isActive:h})=>[qh]),tab0:l(({value:t,isActive:h})=>[Yh]),tab1:l(({value:t,isActive:h})=>[jh]),_:1}),Zh,n(a,{id:"9570",data:[{id:"<code v-pre>Hard_I2C.h</code>"},{id:"<code v-pre>Hard_I2C.c</code>"}]},{title0:l(({value:t,isActive:h})=>[Jh]),title1:l(({value:t,isActive:h})=>[$h]),tab0:l(({value:t,isActive:h})=>[ia]),tab1:l(({value:t,isActive:h})=>[sa]),_:1}),la,n(a,{id:"10562",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>MPU6050.h</code>"},{id:"<code v-pre>MPU6050.c</code>"},{id:"<code v-pre>Soft_I2C.h</code>"},{id:"<code v-pre>OLED_Printf.h</code>"},{id:"<code v-pre>OLED_Printf.c</code>"}]},{title0:l(({value:t,isActive:h})=>[ta]),title1:l(({value:t,isActive:h})=>[ha]),title2:l(({value:t,isActive:h})=>[aa]),title3:l(({value:t,isActive:h})=>[na]),title4:l(({value:t,isActive:h})=>[ka]),title5:l(({value:t,isActive:h})=>[ea]),tab0:l(({value:t,isActive:h})=>[ra]),tab1:l(({value:t,isActive:h})=>[da]),tab2:l(({value:t,isActive:h})=>[Ea]),tab3:l(({value:t,isActive:h})=>[pa]),tab4:l(({value:t,isActive:h})=>[ya]),tab5:l(({value:t,isActive:h})=>[ga]),_:1}),Ca,n(a,{id:"10585",data:[{id:"<code v-pre>main.cpp</code>"},{id:"<code v-pre>MPU6050.h</code>"},{id:"<code v-pre>MPU6050.c</code>"},{id:"<code v-pre>Hard_I2C.h</code>"}]},{title0:l(({value:t,isActive:h})=>[ca]),title1:l(({value:t,isActive:h})=>[Fa]),title2:l(({value:t,isActive:h})=>[oa]),title3:l(({value:t,isActive:h})=>[Da]),tab0:l(({value:t,isActive:h})=>[Aa]),tab1:l(({value:t,isActive:h})=>[fa]),tab2:l(({value:t,isActive:h})=>[ua]),tab3:l(({value:t,isActive:h})=>[ma]),_:1}),va,n(a,{id:"10867",data:[{id:"<code v-pre>Soft_SPI.h</code>"},{id:"<code v-pre>Soft_SPI.c</code>"}]},{title0:l(({value:t,isActive:h})=>[_a]),title1:l(({value:t,isActive:h})=>[ba]),tab0:l(({value:t,isActive:h})=>[Ba]),tab1:l(({value:t,isActive:h})=>[Ia]),_:1}),Sa,n(a,{id:"11214",data:[{id:"<code v-pre>Hard_SPI.h</code>"},{id:"<code v-pre>Hard_SPI.c</code>"}]},{title0:l(({value:t,isActive:h})=>[Pa]),title1:l(({value:t,isActive:h})=>[Ta]),tab0:l(({value:t,isActive:h})=>[xa]),tab1:l(({value:t,isActive:h})=>[Ra]),_:1}),Ma,n(a,{id:"11475",data:[{id:"<code v-pre>W25Q64.h</code>"},{id:"<code v-pre>W25Q64.c</code>"},{id:"<code v-pre>Soft_SPI.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[Oa]),title1:l(({value:t,isActive:h})=>[La]),title2:l(({value:t,isActive:h})=>[Ga]),title3:l(({value:t,isActive:h})=>[Wa]),tab0:l(({value:t,isActive:h})=>[Na]),tab1:l(({value:t,isActive:h})=>[Ua]),tab2:l(({value:t,isActive:h})=>[wa]),tab3:l(({value:t,isActive:h})=>[Ha]),_:1}),Ka,n(a,{id:"11492",data:[{id:"<code v-pre>W25Q64.h</code>"},{id:"<code v-pre>W25Q64.c</code>"},{id:"<code v-pre>Hard_SPI.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[za]),title1:l(({value:t,isActive:h})=>[Va]),title2:l(({value:t,isActive:h})=>[Xa]),title3:l(({value:t,isActive:h})=>[Qa]),tab0:l(({value:t,isActive:h})=>[qa]),tab1:l(({value:t,isActive:h})=>[Ya]),tab2:l(({value:t,isActive:h})=>[ja]),tab3:l(({value:t,isActive:h})=>[Za]),_:1}),Ja,n(a,{id:"11602",data:[{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[$a]),tab0:l(({value:t,isActive:h})=>[sn]),_:1}),ln,n(a,{id:"11998",data:[{id:"<code v-pre>/System/Rtc.c</code>"},{id:"<code v-pre>/System/Rtc.h</code>"},{id:"<code v-pre>main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[tn]),title1:l(({value:t,isActive:h})=>[hn]),title2:l(({value:t,isActive:h})=>[an]),tab0:l(({value:t,isActive:h})=>[nn]),tab1:l(({value:t,isActive:h})=>[kn]),tab2:l(({value:t,isActive:h})=>[en]),_:1}),rn,n(a,{id:"12588",data:[{id:"<code v-pre>User/main.cpp</code>"},{id:"<code v-pre>/System/Serial.c</code>"}]},{title0:l(({value:t,isActive:h})=>[dn]),title1:l(({value:t,isActive:h})=>[En]),tab0:l(({value:t,isActive:h})=>[pn]),tab1:l(({value:t,isActive:h})=>[yn]),_:1}),gn,n(a,{id:"12599",data:[{id:"<code v-pre>User/main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[Cn]),tab0:l(({value:t,isActive:h})=>[cn]),_:1}),Fn,n(a,{id:"12607",data:[{id:"<code v-pre>User/main.cpp</code>"},{id:"<code v-pre>System/Rtc.c</code>"}]},{title0:l(({value:t,isActive:h})=>[on]),title1:l(({value:t,isActive:h})=>[Dn]),tab0:l(({value:t,isActive:h})=>[An]),tab1:l(({value:t,isActive:h})=>[fn]),_:1}),un,mn,vn,_n,bn,Bn,In,n(a,{id:"13019",data:[{id:"<code v-pre>User/main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[Sn]),tab0:l(({value:t,isActive:h})=>[Pn]),_:1}),Tn,n(a,{id:"13027",data:[{id:"<code v-pre>User/main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[xn]),tab0:l(({value:t,isActive:h})=>[Rn]),_:1}),Mn,n(a,{id:"13643",data:[{id:"<code v-pre>User/main.cpp</code>"},{id:"<code v-pre>System/FlashUtils.h</code>"},{id:"<code v-pre>System/FlashUtils.c</code>"}]},{title0:l(({value:t,isActive:h})=>[On]),title1:l(({value:t,isActive:h})=>[Ln]),title2:l(({value:t,isActive:h})=>[Gn]),tab0:l(({value:t,isActive:h})=>[Wn]),tab1:l(({value:t,isActive:h})=>[Nn]),tab2:l(({value:t,isActive:h})=>[Un]),_:1}),wn,n(a,{id:"13657",data:[{id:"<code v-pre>User/main.cpp</code>"},{id:"<code v-pre>System/FlashStore.h</code>"},{id:"<code v-pre>System/FlashStore.c</code>"}]},{title0:l(({value:t,isActive:h})=>[Hn]),title1:l(({value:t,isActive:h})=>[Kn]),title2:l(({value:t,isActive:h})=>[zn]),tab0:l(({value:t,isActive:h})=>[Vn]),tab1:l(({value:t,isActive:h})=>[Xn]),tab2:l(({value:t,isActive:h})=>[Qn]),_:1}),qn,n(a,{id:"13671",data:[{id:"<code v-pre>User/main.cpp</code>"}]},{title0:l(({value:t,isActive:h})=>[Yn]),tab0:l(({value:t,isActive:h})=>[jn]),_:1})])}const sk=e(Ml,[["render",Zn],["__file","index.html.vue"]]),lk=JSON.parse('{"path":"/%E7%94%B5%E5%AD%90/STM32%E5%8F%8A%E6%A0%87%E5%87%86%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","title":"STM32及标准库学习笔记","lang":"zh-CN","frontmatter":{"title":"STM32及标准库学习笔记","date":"2024-02-15T23:00:00.000Z","cover":"./assets/cover/STM32及标准库学习笔记.png","tag":["stm32"],"category":["笔记","电子"],"star":true,"description":"STM32及标准库学习笔记 Alt text 目录 STM32及标准库学习笔记 目录 F103C8T6简介 F1X片上资源 系统结构 引脚定义 启动配置 工程架构 Hello_World 标准外设库 RCC 基本介绍 RCC时钟树 标准库函数 GPIO 基本介绍 案例代码：点灯 中断与NVIC 基本介绍 STM32的中断 EXTI外部中断 案例代码：光...","head":[["meta",{"property":"og:url","content":"https://dingdingdang.online/%E7%94%B5%E5%AD%90/STM32%E5%8F%8A%E6%A0%87%E5%87%86%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],["meta",{"property":"og:site_name","content":"YiguiDing的Blog小站"}],["meta",{"property":"og:title","content":"STM32及标准库学习笔记"}],["meta",{"property":"og:description","content":"STM32及标准库学习笔记 Alt text 目录 STM32及标准库学习笔记 目录 F103C8T6简介 F1X片上资源 系统结构 引脚定义 启动配置 工程架构 Hello_World 标准外设库 RCC 基本介绍 RCC时钟树 标准库函数 GPIO 基本介绍 案例代码：点灯 中断与NVIC 基本介绍 STM32的中断 EXTI外部中断 案例代码：光..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-22T16:53:14.000Z"}],["meta",{"property":"article:author","content":"丁毅桂"}],["meta",{"property":"article:tag","content":"stm32"}],["meta",{"property":"article:published_time","content":"2024-02-15T23:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-22T16:53:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"STM32及标准库学习笔记\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-02-15T23:00:00.000Z\\",\\"dateModified\\":\\"2024-07-22T16:53:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"丁毅桂\\",\\"email\\":\\"2449695354@qq.com\\"}]}"],["meta",{"name":"baidu-site-verification","content":"codeva-PwE9Ts6nMl"}]]},"headers":[{"level":2,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":2,"title":"F103C8T6简介","slug":"f103c8t6简介","link":"#f103c8t6简介","children":[]},{"level":2,"title":"F1X片上资源","slug":"f1x片上资源","link":"#f1x片上资源","children":[]},{"level":2,"title":"系统结构","slug":"系统结构","link":"#系统结构","children":[]},{"level":2,"title":"引脚定义","slug":"引脚定义","link":"#引脚定义","children":[]},{"level":2,"title":"启动配置","slug":"启动配置","link":"#启动配置","children":[]},{"level":2,"title":"工程架构","slug":"工程架构","link":"#工程架构","children":[]},{"level":2,"title":"Hello_World","slug":"hello-world","link":"#hello-world","children":[]},{"level":2,"title":"标准外设库","slug":"标准外设库","link":"#标准外设库","children":[]},{"level":2,"title":"RCC","slug":"rcc","link":"#rcc","children":[{"level":3,"title":"基本介绍","slug":"基本介绍","link":"#基本介绍","children":[]},{"level":3,"title":"RCC时钟树","slug":"rcc时钟树","link":"#rcc时钟树","children":[]},{"level":3,"title":"标准库函数","slug":"标准库函数","link":"#标准库函数","children":[]}]},{"level":2,"title":"GPIO","slug":"gpio","link":"#gpio","children":[{"level":3,"title":"基本介绍","slug":"基本介绍-1","link":"#基本介绍-1","children":[]},{"level":3,"title":"案例代码：点灯","slug":"案例代码-点灯","link":"#案例代码-点灯","children":[]}]},{"level":2,"title":"中断与NVIC","slug":"中断与nvic","link":"#中断与nvic","children":[{"level":3,"title":"基本介绍","slug":"基本介绍-2","link":"#基本介绍-2","children":[]},{"level":3,"title":"STM32的中断","slug":"stm32的中断","link":"#stm32的中断","children":[]},{"level":3,"title":"EXTI外部中断","slug":"exti外部中断","link":"#exti外部中断","children":[]},{"level":3,"title":"案例代码：光电计数器触发外部中断","slug":"案例代码-光电计数器触发外部中断","link":"#案例代码-光电计数器触发外部中断","children":[]}]},{"level":2,"title":"TIM定时器","slug":"tim定时器","link":"#tim定时器","children":[{"level":3,"title":"概念","slug":"概念","link":"#概念","children":[]},{"level":3,"title":"基本定时器","slug":"基本定时器","link":"#基本定时器","children":[]},{"level":3,"title":"通用定时器","slug":"通用定时器","link":"#通用定时器","children":[]},{"level":3,"title":"高级定时器","slug":"高级定时器","link":"#高级定时器","children":[]},{"level":3,"title":"时基单元","slug":"时基单元","link":"#时基单元","children":[]},{"level":3,"title":"输出比较","slug":"输出比较","link":"#输出比较","children":[]},{"level":3,"title":"输入比较","slug":"输入比较","link":"#输入比较","children":[]},{"level":3,"title":"案例：定时中断","slug":"案例-定时中断","link":"#案例-定时中断","children":[]},{"level":3,"title":"案例：LED呼吸灯","slug":"案例-led呼吸灯","link":"#案例-led呼吸灯","children":[]},{"level":3,"title":"案例：舵机驱动","slug":"案例-舵机驱动","link":"#案例-舵机驱动","children":[]},{"level":3,"title":"案例：定时器输出捕获——测量方波","slug":"案例-定时器输出捕获——测量方波","link":"#案例-定时器输出捕获——测量方波","children":[]},{"level":3,"title":"编码器接口","slug":"编码器接口","link":"#编码器接口","children":[]},{"level":3,"title":"编码器测位置、测速案例","slug":"编码器测位置、测速案例","link":"#编码器测位置、测速案例","children":[]}]},{"level":2,"title":"ADC模拟/数字转化器","slug":"adc模拟-数字转化器","link":"#adc模拟-数字转化器","children":[{"level":3,"title":"ADC概念","slug":"adc概念","link":"#adc概念","children":[]},{"level":3,"title":"ADC原理","slug":"adc原理","link":"#adc原理","children":[]},{"level":3,"title":"STM32_ADC原理","slug":"stm32-adc原理","link":"#stm32-adc原理","children":[]},{"level":3,"title":"ADC的标准库函数","slug":"adc的标准库函数","link":"#adc的标准库函数","children":[]},{"level":3,"title":"ADC案例","slug":"adc案例","link":"#adc案例","children":[]}]},{"level":2,"title":"DMA","slug":"dma","link":"#dma","children":[{"level":3,"title":"DMA简介","slug":"dma简介","link":"#dma简介","children":[]},{"level":3,"title":"DMA原理","slug":"dma原理","link":"#dma原理","children":[]},{"level":3,"title":"DMA案例","slug":"dma案例","link":"#dma案例","children":[]}]},{"level":2,"title":"USART串口通信","slug":"usart串口通信","link":"#usart串口通信","children":[{"level":3,"title":"通信","slug":"通信","link":"#通信","children":[]},{"level":3,"title":"串口通信简介","slug":"串口通信简介","link":"#串口通信简介","children":[]},{"level":3,"title":"USART外设","slug":"usart外设","link":"#usart外设","children":[]},{"level":3,"title":"USART标准库函数","slug":"usart标准库函数","link":"#usart标准库函数","children":[]},{"level":3,"title":"案例：串口收发数据；实现printf","slug":"案例-串口收发数据-实现printf","link":"#案例-串口收发数据-实现printf","children":[]},{"level":3,"title":"案例：串口中断接收处理数据","slug":"案例-串口中断接收处理数据","link":"#案例-串口中断接收处理数据","children":[]},{"level":3,"title":"案例：实现简易通信协议","slug":"案例-实现简易通信协议","link":"#案例-实现简易通信协议","children":[]}]},{"level":2,"title":"I2C通信软件实现","slug":"i2c通信软件实现","link":"#i2c通信软件实现","children":[{"level":3,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":3,"title":"硬件规定","slug":"硬件规定","link":"#硬件规定","children":[]},{"level":3,"title":"时序规定","slug":"时序规定","link":"#时序规定","children":[]},{"level":3,"title":"I2C通信时序","slug":"i2c通信时序","link":"#i2c通信时序","children":[]},{"level":3,"title":"I2C通信软件实现","slug":"i2c通信软件实现-1","link":"#i2c通信软件实现-1","children":[]}]},{"level":2,"title":"I2C通信硬件实现","slug":"i2c通信硬件实现","link":"#i2c通信硬件实现","children":[{"level":3,"title":"简介","slug":"简介-1","link":"#简介-1","children":[]},{"level":3,"title":"功能框图","slug":"功能框图","link":"#功能框图","children":[]},{"level":3,"title":"功能简图","slug":"功能简图","link":"#功能简图","children":[]},{"level":3,"title":"收发时序","slug":"收发时序","link":"#收发时序","children":[]},{"level":3,"title":"案例代码","slug":"案例代码","link":"#案例代码","children":[]}]},{"level":2,"title":"MPU6050","slug":"mpu6050","link":"#mpu6050","children":[{"level":3,"title":"简介","slug":"简介-2","link":"#简介-2","children":[]},{"level":3,"title":"可配置参数","slug":"可配置参数","link":"#可配置参数","children":[]},{"level":3,"title":"芯片框图","slug":"芯片框图","link":"#芯片框图","children":[]},{"level":3,"title":"芯片电器特性","slug":"芯片电器特性","link":"#芯片电器特性","children":[]},{"level":3,"title":"时钟源的选择","slug":"时钟源的选择","link":"#时钟源的选择","children":[]},{"level":3,"title":"主要寄存器","slug":"主要寄存器","link":"#主要寄存器","children":[]},{"level":3,"title":"主要寄存器详细说明","slug":"主要寄存器详细说明","link":"#主要寄存器详细说明","children":[]},{"level":3,"title":"基于软件I2C实现MPU6050驱动","slug":"基于软件i2c实现mpu6050驱动","link":"#基于软件i2c实现mpu6050驱动","children":[]},{"level":3,"title":"基于硬件I2C实现MPU6050驱动","slug":"基于硬件i2c实现mpu6050驱动","link":"#基于硬件i2c实现mpu6050驱动","children":[]}]},{"level":2,"title":"SPI通信软件实现","slug":"spi通信软件实现","link":"#spi通信软件实现","children":[{"level":3,"title":"简介","slug":"简介-3","link":"#简介-3","children":[]},{"level":3,"title":"硬件电路","slug":"硬件电路","link":"#硬件电路","children":[]},{"level":3,"title":"移位发送过程","slug":"移位发送过程","link":"#移位发送过程","children":[]},{"level":3,"title":"SPI基本通信时序","slug":"spi基本通信时序","link":"#spi基本通信时序","children":[]},{"level":3,"title":"SPI通信指令","slug":"spi通信指令","link":"#spi通信指令","children":[]},{"level":3,"title":"SPI软件模拟实现","slug":"spi软件模拟实现","link":"#spi软件模拟实现","children":[]}]},{"level":2,"title":"SPI通信硬件实现","slug":"spi通信硬件实现","link":"#spi通信硬件实现","children":[{"level":3,"title":"简介","slug":"简介-4","link":"#简介-4","children":[]},{"level":3,"title":"原理框图","slug":"原理框图","link":"#原理框图","children":[]},{"level":3,"title":"原理简图","slug":"原理简图","link":"#原理简图","children":[]},{"level":3,"title":"连续传输发送","slug":"连续传输发送","link":"#连续传输发送","children":[]},{"level":3,"title":"非连续传输发送","slug":"非连续传输发送","link":"#非连续传输发送","children":[]},{"level":3,"title":"SPI硬件外设实现","slug":"spi硬件外设实现","link":"#spi硬件外设实现","children":[]}]},{"level":2,"title":"W25Q64存储器","slug":"w25q64存储器","link":"#w25q64存储器","children":[{"level":3,"title":"芯片引脚功能定义","slug":"芯片引脚功能定义","link":"#芯片引脚功能定义","children":[]},{"level":3,"title":"芯片内部框图","slug":"芯片内部框图","link":"#芯片内部框图","children":[]},{"level":3,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":3,"title":"指令集","slug":"指令集","link":"#指令集","children":[]},{"level":3,"title":"基于软件SPI实现","slug":"基于软件spi实现","link":"#基于软件spi实现","children":[]},{"level":3,"title":"基于硬件SPI实现","slug":"基于硬件spi实现","link":"#基于硬件spi实现","children":[]}]},{"level":2,"title":"BKP","slug":"bkp","link":"#bkp","children":[{"level":3,"title":"注意事项","slug":"注意事项-1","link":"#注意事项-1","children":[]},{"level":3,"title":"BKP标准库函数介绍","slug":"bkp标准库函数介绍","link":"#bkp标准库函数介绍","children":[]},{"level":3,"title":"读写BKP","slug":"读写bkp","link":"#读写bkp","children":[]},{"level":3,"title":"原理简图","slug":"原理简图-1","link":"#原理简图-1","children":[]}]},{"level":2,"title":"RTC","slug":"rtc","link":"#rtc","children":[{"level":3,"title":"原理框图","slug":"原理框图-1","link":"#原理框图-1","children":[]},{"level":3,"title":"原理简图","slug":"原理简图-2","link":"#原理简图-2","children":[]},{"level":3,"title":"注意事项","slug":"注意事项-2","link":"#注意事项-2","children":[]},{"level":3,"title":"标准库函数","slug":"标准库函数-1","link":"#标准库函数-1","children":[]},{"level":3,"title":"获取RTC毫秒级别时间","slug":"获取rtc毫秒级别时间","link":"#获取rtc毫秒级别时间","children":[]}]},{"level":2,"title":"PWR","slug":"pwr","link":"#pwr","children":[{"level":3,"title":"供电方案框图","slug":"供电方案框图","link":"#供电方案框图","children":[]},{"level":3,"title":"上电复位、掉电复位","slug":"上电复位、掉电复位","link":"#上电复位、掉电复位","children":[]},{"level":3,"title":"电压过低检测","slug":"电压过低检测","link":"#电压过低检测","children":[]},{"level":3,"title":"三种低功耗模式","slug":"三种低功耗模式","link":"#三种低功耗模式","children":[]},{"level":3,"title":"三种低功耗模式的执行细节","slug":"三种低功耗模式的执行细节","link":"#三种低功耗模式的执行细节","children":[]},{"level":3,"title":"降低主频","slug":"降低主频","link":"#降低主频","children":[]},{"level":3,"title":"浅睡眠模式——串口唤醒","slug":"浅睡眠模式——串口唤醒","link":"#浅睡眠模式——串口唤醒","children":[]},{"level":3,"title":"深度睡眠模式——停机模式——外部中断唤醒","slug":"深度睡眠模式——停机模式——外部中断唤醒","link":"#深度睡眠模式——停机模式——外部中断唤醒","children":[]},{"level":3,"title":"深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒","slug":"深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒","link":"#深度睡眠模式——待机模式——rtc闹钟唤醒——wakeup唤醒","children":[]}]},{"level":2,"title":"WDG看门狗","slug":"wdg看门狗","link":"#wdg看门狗","children":[{"level":3,"title":"原理框图","slug":"原理框图-2","link":"#原理框图-2","children":[]},{"level":3,"title":"独立看门狗键寄存器","slug":"独立看门狗键寄存器","link":"#独立看门狗键寄存器","children":[]},{"level":3,"title":"独立看门狗超时时间","slug":"独立看门狗超时时间","link":"#独立看门狗超时时间","children":[]},{"level":3,"title":"窗口看门狗框图","slug":"窗口看门狗框图","link":"#窗口看门狗框图","children":[]},{"level":3,"title":"窗口看门狗时序","slug":"窗口看门狗时序","link":"#窗口看门狗时序","children":[]},{"level":3,"title":"窗口看门狗的超时时间","slug":"窗口看门狗的超时时间","link":"#窗口看门狗的超时时间","children":[]},{"level":3,"title":"独立看门狗和窗口看门狗的区别","slug":"独立看门狗和窗口看门狗的区别","link":"#独立看门狗和窗口看门狗的区别","children":[]},{"level":3,"title":"IWDG案例代码","slug":"iwdg案例代码","link":"#iwdg案例代码","children":[]},{"level":3,"title":"WWDG案例代码","slug":"wwdg案例代码","link":"#wwdg案例代码","children":[]}]},{"level":2,"title":"Flash闪存","slug":"flash闪存","link":"#flash闪存","children":[{"level":3,"title":"闪存模块组织结构","slug":"闪存模块组织结构","link":"#闪存模块组织结构","children":[]},{"level":3,"title":"闪存结构简图","slug":"闪存结构简图","link":"#闪存结构简图","children":[]},{"level":3,"title":"解锁FLASH","slug":"解锁flash","link":"#解锁flash","children":[]},{"level":3,"title":"使用指针读取存储器","slug":"使用指针读取存储器","link":"#使用指针读取存储器","children":[]},{"level":3,"title":"Flash全擦除流程","slug":"flash全擦除流程","link":"#flash全擦除流程","children":[]},{"level":3,"title":"Flash页擦除流程","slug":"flash页擦除流程","link":"#flash页擦除流程","children":[]},{"level":3,"title":"Flash半字（16bit）写入流程","slug":"flash半字-16bit-写入流程","link":"#flash半字-16bit-写入流程","children":[]},{"level":3,"title":"选项字节","slug":"选项字节","link":"#选项字节","children":[]},{"level":3,"title":"器件电子签名","slug":"器件电子签名","link":"#器件电子签名","children":[]},{"level":3,"title":"主闪存编程","slug":"主闪存编程","link":"#主闪存编程","children":[]},{"level":3,"title":"标准库Flash外设","slug":"标准库flash外设","link":"#标准库flash外设","children":[]},{"level":3,"title":"FLash擦除和写入","slug":"flash擦除和写入","link":"#flash擦除和写入","children":[]},{"level":3,"title":"FLashStore存储","slug":"flashstore存储","link":"#flashstore存储","children":[]},{"level":3,"title":"读取芯片容量和ID","slug":"读取芯片容量和id","link":"#读取芯片容量和id","children":[]}]}],"git":{"createdTime":1710439010000,"updatedTime":1721667194000,"contributors":[{"name":"YiguiDing","email":"2449695354@qq.com","commits":12}]},"readingTime":{"minutes":120.58,"words":36175},"filePathRelative":"电子/STM32及标准库学习笔记/index.md","localizedDate":"2024年2月15日","excerpt":"","autoDesc":true}');export{sk as comp,lk as data};
