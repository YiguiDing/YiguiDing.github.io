<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"JavaWeb学习笔记","image":[""],"datePublished":"2022-11-06T05:13:00.000Z","dateModified":"2023-11-28T11:27:55.000Z","author":[{"@type":"Person","name":"丁毅桂","email":"2449695354@qq.com"}]}</script><meta property="og:url" content="https://dingdingdang.online/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"><meta property="og:site_name" content="YiguiDing的Blog小站"><meta property="og:title" content="JavaWeb学习笔记"><meta property="og:description" content="JavaWeb学习笔记 显示/隐藏 目录 JavaWeb学习笔记 目录 概念 数据库:mySql mySql安装配置 SQL基础语法 MySql数据类型 SQL语句的分类 DDL(Data Definition Language)数据定义语言 DDL——>操作数据库 查询数据库 创建数据库 删除数据库 使用（切换）数据库 查看当前使用的数据库 DDL—..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-11-28T11:27:55.000Z"><meta property="article:tag" content="笔记"><meta property="article:published_time" content="2022-11-06T05:13:00.000Z"><meta property="article:modified_time" content="2023-11-28T11:27:55.000Z"><meta name="baidu-site-verification" content="codeva-PwE9Ts6nMl"><link rel="alternate" type="application/rss+xml" href="https://dingdingdang.online/rss.xml" title="YiguiDing的Blog小站 RSS Feed"><link rel="icon" href="/images/favicon_icon.jpg"><title>JavaWeb学习笔记 | YiguiDing的Blog小站</title><meta name="description" content="JavaWeb学习笔记 显示/隐藏 目录 JavaWeb学习笔记 目录 概念 数据库:mySql mySql安装配置 SQL基础语法 MySql数据类型 SQL语句的分类 DDL(Data Definition Language)数据定义语言 DDL——>操作数据库 查询数据库 创建数据库 删除数据库 使用（切换）数据库 查看当前使用的数据库 DDL—...">
    <link rel="preload" href="/assets/style-BUxT4UJq.css" as="style"><link rel="stylesheet" href="/assets/style-BUxT4UJq.css">
    <link rel="modulepreload" href="/assets/app-CMKR-Zwd.js"><link rel="modulepreload" href="/assets/JavaWeb学习笔记.html-DRYnBuKB.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><!----><!----><span class="vp-site-name">YiguiDing的Blog小站</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><!--]--></div><div class="vp-navbar-end"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><i class="vp-icon fas fa-house-chimney" sizing="height"></i><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="笔记"><!--[--><i class="vp-icon fas fa-pen-to-square" sizing="height"></i>笔记<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%89%8D%E7%AB%AF/" aria-label="前端"><!--[--><i class="vp-icon fas fa-code fa-fw" sizing="both"></i><!--]-->前端<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/%E5%90%8E%E7%AB%AF/" aria-label="后端"><!--[--><i class="vp-icon fas fa-server fa-fw" sizing="both"></i><!--]-->后端<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%AE%97%E6%B3%95/" aria-label="算法"><!--[--><i class="vp-icon fas fa-diagram-project fa-fw" sizing="both"></i><!--]-->算法<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%94%B5%E5%AD%90/" aria-label="电子"><!--[--><i class="vp-icon fas fa-bolt fa-fw" sizing="both"></i><!--]-->电子<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E6%BA%90%E7%A0%81/" aria-label="源码"><!--[--><i class="vp-icon fas fa-code-fork fa-fw" sizing="both"></i><!--]-->源码<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%90%86%E8%AE%BA/" aria-label="理论"><!--[--><i class="vp-icon fas fa-book-bookmark fa-fw" sizing="both"></i><!--]-->理论<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/" aria-label="工具"><!--[--><i class="vp-icon fas fa-screwdriver-wrench fa-fw" sizing="both"></i><!--]-->工具<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E4%BA%A4%E6%98%93/" aria-label="投资"><!--[--><i class="vp-icon fas fa-right-left fa-fw" sizing="both"></i><!--]-->投资<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/%E9%9A%8F%E7%AC%94/" aria-label="随笔"><!--[--><i class="vp-icon fas fa-note-sticky" sizing="height"></i><!--]-->随笔<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/%E9%A1%B9%E7%9B%AE/" aria-label="项目"><!--[--><i class="vp-icon fas fa-box" sizing="height"></i><!--]-->项目<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/%E7%BD%91%E7%AB%99/%E5%8F%8B%E9%93%BE.html" aria-label="友链"><!--[--><i class="vp-icon fas fa-user-group" sizing="height"></i><!--]-->友链<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/%E7%BD%91%E7%AB%99/%E5%85%B3%E4%BA%8E.html" aria-label="关于"><!--[--><i class="vp-icon fas fa-address-card" sizing="height"></i><!--]-->关于<!----></a></div></nav><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">搜索</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">博客网站及V2ray伪装配置过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Alpine Linux(i SH and UTM)配置过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Alpine安装code Server过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Express学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Express配置子域名和https证书</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Java Web学习笔记</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" aria-label="JavaWeb学习笔记"><!---->JavaWeb学习笔记<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Linux备忘笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">LInux复习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Mkcert生成自签https证书过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Mysql笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nginx最简可用配置记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nginx实现反向代理并启用ssl的最简配置</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Node Addon学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nodejs Npm备忘笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nodejs学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nodejs的mysql模块学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring Boot2学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SQL学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SSM框架学习</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntu22.04配置过程命令记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntu23.10相关配置过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntu下配置x RDP过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntu配置code Server过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Web Rtc学习笔记</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Win10将exe配置成服务过程记录</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">使用letsencrypt自动更新https证书</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">树莓派linux配置</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/./cover/JavaWeb学习笔记.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->JavaWeb学习笔记</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">丁毅桂</span></span><span property="author" content="丁毅桂"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2022/11/6</span><meta property="datePublished" content="2022-11-06T05:13:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 105 分钟</span><meta property="timeRequired" content="PT105M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color3 clickable" role="navigation">笔记</span><!--]--><meta property="articleSection" content="笔记"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color3 clickable" role="navigation">笔记</span><!--]--><meta property="keywords" content="笔记"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="javaweb学习笔记" tabindex="-1"><a class="header-anchor" href="#javaweb学习笔记"><span>JavaWeb学习笔记</span></a></h1><p><img src="/assets/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-B7-qdjKt.png" alt=""></p><details><summary> 显示/隐藏 <h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2></summary><ul><li><a href="#javaweb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">JavaWeb学习笔记</a><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E6%A6%82%E5%BF%B5">概念</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93mysql">数据库:mySql</a><ul><li><a href="#mysql%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">mySql安装配置</a></li><li><a href="#sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95">SQL基础语法</a></li><li><a href="#mysql%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">MySql数据类型</a></li><li><a href="#sql%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%88%86%E7%B1%BB">SQL语句的分类</a></li><li><a href="#ddldata-definition-language%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80">DDL(Data Definition Language)数据定义语言</a><ul><li><a href="#ddl%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93">DDL——&gt;<code>操作数据库</code></a><ul><li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93">查询数据库</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93">创建数据库</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93">删除数据库</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93">使用（切换）数据库</a></li><li><a href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93">查看当前使用的数据库</a></li></ul></li><li><a href="#ddl%E6%93%8D%E4%BD%9C%E8%A1%A8">DDL——&gt;<code>操作表</code></a><ul><li><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8">创建表</a></li><li><a href="#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E8%A1%A8">查询所有表</a></li><li><a href="#%E6%9F%A5%E8%AF%A2%E8%A1%A8%E7%BB%93%E6%9E%84">查询表结构</a></li><li><a href="#%E5%88%A0%E9%99%A4%E8%A1%A8">删除表</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E8%A1%A8">修改表</a><ul><li><a href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%90%8D">修改表名</a></li><li><a href="#%E6%B7%BB%E5%8A%A0%E5%88%97">添加列</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">修改列的数据类型</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E5%88%97%E5%90%8D%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">修改列名和数据类型</a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%88%97">删除列</a></li></ul></li><li><a href="#%E6%A1%88%E4%BE%8B">案例</a></li></ul></li></ul></li><li><a href="#dmldata-manipulation-language%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80">DML(Data Manipulation Language)数据操作语言</a><ul><li><a href="#dml%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">DML——&gt;<code>添加数据</code></a><ul><li><a href="#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E5%88%B0%E6%8C%87%E5%AE%9A%E5%88%97">添加数据到指定列</a></li><li><a href="#%E7%BB%99%E6%89%80%E6%9C%89%E5%88%97%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">给所有列添加数据</a></li><li><a href="#%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">批量添加数据</a></li></ul></li><li><a href="#dml%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE">DML——&gt;<code>修改数据</code></a></li><li><a href="#dml%E5%88%A0%E9%99%A4%E8%A1%A8%E6%95%B0%E6%8D%AE">DML——&gt;<code>删除表数据</code></a></li></ul></li><li><a href="#dqldata-query-language%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80">DQL(Data Query Language)数据查询语言</a><ul><li><a href="#dql%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2">DQL——&gt;<code>基础查询</code></a></li><li><a href="#dql%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">DQL——&gt;<code>条件查询</code></a></li><li><a href="#dql%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2">DQL——&gt;<code>排序查询</code></a></li><li><a href="#dql%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2">DQL——&gt;<code>聚合查询</code></a></li><li><a href="#dql%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2">DQL——&gt;<code>分组查询</code></a></li><li><a href="#dql%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2">DQL——&gt;<code>分页查询</code></a></li></ul></li><li><a href="#dcldata-control-language%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80">DCL(Data Control Language)数据控制语言</a><ul><li><a href="#">??</a></li></ul></li><li><a href="#%E7%BA%A6%E6%9D%9F">约束</a><ul><li><a href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F">非空约束</a></li><li><a href="#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F">唯一约束</a></li><li><a href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F">主键约束</a></li><li><a href="#%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F">检查约束</a></li><li><a href="#%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F">默认约束</a></li><li><a href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F">外键约束</a></li><li><a href="#%E9%A2%9D">额</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1">数据库设计</a><ul><li><a href="#%E4%B8%80%E5%AF%B9%E4%B8%80">一对一</a></li><li><a href="#%E4%B8%80%E5%AF%B9%E5%A4%9A">一对多</a></li><li><a href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A">多对多</a></li></ul></li><li><a href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2">多表查询</a><ul><li><a href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF">笛卡尔积</a></li><li><a href="#%E5%86%85%E8%BF%9E%E6%8E%A5">内连接</a></li><li><a href="#%E5%A4%96%E8%BF%9E%E6%8E%A5">外连接</a></li><li><a href="#%E5%AD%90%E6%9F%A5%E8%AF%A2">子查询</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AD%90%E6%9F%A5%E8%AF%A2">案例：子查询</a></li></ul></li><li><a href="#%E4%BA%8B%E5%8A%A1">事务</a></li></ul></li><li><a href="#jdbc">JDBC</a><ul><li><a href="#drivermanager%E5%B7%A5%E5%85%B7%E7%B1%BB">DriverManager工具类</a></li><li><a href="#connection%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1">Connection数据库连接对象</a></li><li><a href="#statement-sql%E6%89%A7%E8%A1%8C%E5%99%A8%E5%AF%B9%E8%B1%A1"><code>Statement</code> sql执行器对象</a></li><li><a href="#preparedstatement-%E9%A2%84%E7%BC%96%E8%AF%91sql%E6%89%A7%E8%A1%8C%E5%99%A8%E5%AF%B9%E8%B1%A1%E9%98%B2%E6%AD%A2sql%E6%B3%A8%E5%85%A5"><code>PreparedStatement</code> 预编译sql执行器对象:防止sql注入</a></li><li><a href="#resultset-%E7%BB%93%E6%9E%9C%E9%9B%86%E5%90%88%E5%AF%B9%E8%B1%A1">ResultSet 结果集合对象</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0">数据库连接池</a><ul><li><a href="#druid%E5%BE%B7%E9%B2%81%E4%BC%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0">Druid德鲁伊数据库连接池</a></li></ul></li><li><a href="#jdbc%E7%BB%83%E4%B9%A0">JDBC练习</a><ul><li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE">查询数据</a></li><li><a href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE">插入数据</a></li><li><a href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE">更新数据</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">删除数据</a></li></ul></li></ul></li><li><a href="#maven">Maven</a></li><li><a href="#mybatis">myBatis</a><ul><li><a href="#mybatis%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B">myBatis简单示例</a><ul><li><a href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B1mybatis%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B">使用示例1:myBatis简单示例</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B2%E4%BD%BF%E7%94%A8mapper%E4%BB%A3%E7%90%86%E6%96%B9%E5%BC%8F">使用示例2:使用Mapper代理方式</a></li></ul></li><li><a href="#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">核心配置文件</a></li><li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE-1">查询数据</a><ul><li><a href="#%E5%A4%9A%E6%9F%A5%E8%AF%A2selectall">多查询selectAll</a></li><li><a href="#%E5%8D%95%E6%9F%A5%E8%AF%A2selectbyid">单查询selectById</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E6%95%A3%E8%A3%85%E5%8F%82%E6%95%B0">多条件查询：散装参数</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E5%AF%B9%E8%B1%A1%E5%8F%82%E6%95%B0">多条件查询：对象参数</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E9%9B%86%E5%90%88%E5%8F%82%E6%95%B0">多条件查询：集合参数</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6-%E5%8A%A8%E6%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2where%E6%A0%87%E7%AD%BE%E6%88%9611%E6%81%92%E7%AD%89%E5%BC%8F">多条件-动态条件查询<code>where标签或1=1恒等式</code></a></li><li><a href="#%E5%8D%95%E6%9D%A1%E4%BB%B6-%E5%8A%A8%E6%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2whenchooseotherwise">单条件-动态条件查询<code>:when:choose:otherwise</code></a></li></ul></li><li><a href="#%E5%A2%9E%E6%B7%BB%E6%95%B0%E6%8D%AE">增添数据</a><ul><li><a href="#%E6%8F%92%E5%85%A5%E5%8D%95%E6%9D%A1%E6%95%B0%E6%8D%AE">插入单条数据</a></li><li><a href="#%E6%8F%92%E5%85%A5%E5%8D%95%E6%9D%A1%E6%95%B0%E6%8D%AE%E8%BF%94%E5%9B%9E%E4%B8%BB%E9%94%AE">插入单条数据：返回主键</a></li></ul></li><li><a href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE">修改数据</a><ul><li><a href="#%E4%BF%AE%E6%94%B9%E5%85%A8%E9%83%A8%E5%AD%97%E6%AE%B5">修改全部字段</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E4%BB%BB%E6%84%8F%E5%AD%97%E6%AE%B5setif">修改任意字段<code>set:if</code></a></li></ul></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE-1">删除数据</a><ul><li><a href="#%E5%88%A0%E9%99%A4%E5%8D%95%E4%B8%AAdeletebyid">删除单个deleteById</a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%A4%9A%E4%B8%AAdeletebyid%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%89%88">删除多个<code>deleteById</code>:<code>不使用注解版</code></a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%A4%9A%E4%B8%AAdeletebyid%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%89%88">删除多个<code>deleteById</code>:<code>使用注解版</code></a></li></ul></li><li><a href="#mybatis%E5%AF%B9%E5%8F%82%E6%95%B0%E7%9A%84%E5%B0%81%E8%A3%85">myBatis对参数的封装</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%8C%E6%88%90%E7%AE%80%E5%8D%95sql%E6%93%8D%E4%BD%9C">使用注解完成简单sql操作</a></li></ul></li><li><a href="#tomcat">Tomcat</a></li><li><a href="#servlet">Servlet</a><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFservlet">什么是Servlet</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E6%9C%80%E7%AE%80servlet%E7%A8%8B%E5%BA%8F">实现最简Servlet程序</a></li><li><a href="#servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">servlet生命周期</a></li><li><a href="#httpservlet">HTTPServlet</a></li><li><a href="#urlpattern%E9%85%8D%E7%BD%AE">urlPattern配置</a></li><li><a href="#xml%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEservlet">xml方式配置Servlet</a></li><li><a href="#request%E5%AF%B9%E8%B1%A1">Request对象</a><ul><li><a href="#request%E7%BB%A7%E6%89%BF%E4%BD%93%E7%B3%BB">Request继承体系</a></li><li><a href="#request%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95">Request常用方法</a></li><li><a href="#%E9%80%9A%E7%94%A8%E7%9A%84%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95">通用的获取参数的方法</a></li><li><a href="#%E8%A7%A3%E5%86%B3request%E8%BE%93%E5%85%A5%E6%B5%81%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E7%9A%84%E9%97%AE%E9%A2%98">解决Request输入流中文乱码的问题</a></li></ul></li><li><a href="#request%E5%86%85%E9%83%A8%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E8%BD%AC%E5%8F%91%E6%B5%81%E8%BD%AC%E7%BB%99jsp%E9%A1%B5%E9%9D%A2forward">Request内部请求转发转发流转给jsp页面Forward</a></li><li><a href="#response%E5%AF%B9%E8%B1%A1">Response对象</a><ul><li><a href="#response%E8%AE%BE%E7%BD%AE%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D">Response设置响应数据功能介绍</a></li><li><a href="#response%E5%AE%8C%E6%88%90%E9%87%8D%E5%AE%9A%E5%90%91">Response完成重定向</a></li><li><a href="#response%E5%93%8D%E5%BA%94%E5%AD%97%E7%AC%A6%E6%95%B0%E6%8D%AE">Response响应字符数据</a></li><li><a href="#response%E5%93%8D%E5%BA%94%E5%AD%97%E8%8A%82%E6%95%B0%E6%8D%AE">Response响应字节数据</a></li></ul></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E6%A1%88%E4%BE%8B">案例：实现登录注册案例</a></li><li><a href="#%E4%BC%98%E5%8C%96%E6%8A%8Asqlsessionfactory%E4%BC%98%E5%8C%96%E4%B8%BA%E5%B7%A5%E5%85%B7%E7%B1%BB">优化：把SqlSessionFactory优化为工具类</a></li></ul></li><li><a href="#jspjava-server-pagesjava%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%A1%B5%E9%9D%A2">JSP(Java Server Pages)Java服务端页面</a><ul><li><a href="#servletjsp">servlet+jsp</a></li><li><a href="#jstf%E6%A0%87%E7%AD%BE">JSTF标签</a></li></ul></li><li><a href="#mvc%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84">MVC模式与三层架构</a><ul><li><a href="#mvc%E6%A8%A1%E5%BC%8F">MVC模式</a></li><li><a href="#%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84">三层架构</a></li><li><a href="#ssm%E4%B8%89%E5%A4%A7%E6%A1%86%E6%9E%B6">SSM三大框架</a></li><li><a href="#mvc%E4%B8%89%E5%B1%82%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8C%BA%E5%88%AB">MVC三层模式与三层架构的区别</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91">案例业务逻辑</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E9%87%8D%E5%86%99%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E6%A1%88%E4%BE%8B">使用<code>三层架构</code>重写登录注册案例</a><ul><li><a href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">项目目录结构</a></li><li><a href="#database%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82">database数据访问层</a></li><li><a href="#service%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82">service业务逻辑层</a></li><li><a href="#web%E8%A1%A8%E7%8E%B0%E5%B1%82%E6%8E%A7%E5%88%B6%E5%99%A8%E8%A7%86%E5%9B%BE">web表现层（控制器+视图）</a></li><li><a href="#maven%E9%85%8D%E7%BD%AE">maven配置</a></li><li><a href="#%E7%BB%93%E5%90%88%E5%8F%8D%E5%B0%84%E5%AF%B9web%E8%A1%A8%E7%8E%B0%E5%B1%82%E7%9A%84%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BC%98%E5%8C%96%E5%B9%B6%E5%AE%9E%E7%8E%B0%E9%AA%8C%E8%AF%81%E7%A0%81%E5%92%8Cjson%E5%93%8D%E5%BA%94">结合反射对web表现层的进一步优化并实现验证码和JSON响应</a></li></ul></li><li><a href="#fastjsonjson-%E6%95%B0%E6%8D%AE%E5%92%8C-java-%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2">Fastjson：JSON 数据和 Java 对象转换</a></li><li><a href="#cookiesession%E4%BC%9A%E8%AF%9D%E8%B7%9F%E8%B8%AA%E6%8A%80%E6%9C%AF">Cookie、Session会话跟踪技术</a><ul><li><a href="#cookie">Cookie</a><ul><li><a href="#cookie%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86">Cookie基本使用和原理</a></li><li><a href="#cookie%E5%AD%98%E6%B4%BB%E6%97%B6%E9%97%B4">Cookie存活时间</a></li><li><a href="#cookie%E5%8F%91%E9%80%81%E4%B8%AD%E6%96%87">Cookie发送中文</a></li></ul></li><li><a href="#session">Session</a><ul><li><a href="#session%E7%9A%84%E9%92%9D%E5%8C%96%E4%B8%8E%E6%B4%BB%E5%8C%96">Session的钝化与活化</a></li><li><a href="#session%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">Session在浏览器的生命周期</a></li><li><a href="#session%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">Session在服务端的生命周期</a></li></ul></li><li><a href="#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E8%AE%B0%E4%BD%8F%E6%88%91%E5%8A%9F%E8%83%BD%E9%80%9A%E8%BF%87cookie%E5%AE%9E%E7%8E%B0">实现登录记住我功能:通过Cookie实现</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E8%AE%B0%E4%BD%8F%E6%88%91%E5%8A%9F%E8%83%BD%E9%80%9A%E8%BF%87session%E5%AE%9E%E7%8E%B0">实现登录记住我功能:通过Session实现</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E7%94%A8%E6%88%B7%E9%AA%8C%E8%AF%81%E7%A0%81%E7%9A%84%E6%A1%88%E4%BE%8B">实现注册用户验证码的案例</a></li></ul></li><li><a href="#filter">Filter</a></li><li><a href="#listener">Listener</a></li><li><a href="#%E8%A1%A5%E5%85%85%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">补充：文件上传</a><ul><li><a href="#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8">本地存储</a></li><li><a href="#%E8%BF%9C%E7%A8%8B%E5%AD%98%E5%82%A8">远程存储</a></li></ul></li><li><a href="#%E8%A1%A5%E5%85%85httpclient">补充：HttpClient</a></li></ul></li></ul></details><h2 id="概念" tabindex="-1"><a class="header-anchor" href="#概念"><span>概念</span></a></h2><p>JavaWeb：用java技术解决Web互联网领域问题的技术栈</p><p><strong>内容</strong><br><img src="/assets/2022-11-06-13-28-58-Bv6ppXyn.png" alt=""></p><h2 id="数据库-mysql" tabindex="-1"><a class="header-anchor" href="#数据库-mysql"><span>数据库:mySql</span></a></h2><p><strong>DBMS</strong></p><ul><li><code>Oracle</code>: 收费的大型数据库，Oracle 公司的产品</li><li><code>MySQL</code>: 开源免费的中小型数据库。后来Sun公司收购了MySQL，而Sun公司又被Oracle 收购.</li><li><code>MariaDB</code> :开源免费中小型的数据库,<!----></li><li><code>SQL Server</code>: MicroSoft公司收费的中型的数据库。C#、.net等语言常使用</li><li><code>SQLite</code> :嵌入式的微型数据库。如:作为Android内置数据库</li></ul><h3 id="mysql安装配置" tabindex="-1"><a class="header-anchor" href="#mysql安装配置"><span>mySql安装配置</span></a></h3><ol><li><p>下载解压版<code>mysql-5.7</code></p></li><li><p>配置环境变量</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-text"><span class="line"><span>JAVA_HOME = D:\Program Files\mysql-5.7.38-winx64</span></span>
<span class="line"><span>PATH += %MYSQL_HOME%\bin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>编写配置文件<code>my.ini</code>,放到根目录</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> [mysql]</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;"> default-character-set</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">utf8</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> [mysqld]</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> skip-grant-tables </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># 跳过权限表认证，用于解决登录sql的报错：ERROR 1045 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;"> port</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3306</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;"> character-set-server</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">utf8</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;"> default-storage-engine</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">INNODB</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;"> sql-mode</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>初始化数据库</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">#以管理员方式执行，效果为在mysql根目录生成data文件夹</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysqld</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> --initialize-insecure</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>注册mysql为系统服务</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysqld</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -install</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> #注册服务</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysqld</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -remove</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> #删除服务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>问题</strong><br> 若注册服务提示找不到文件，则修改注册表，将路径改为正确路径<br><img src="/assets/2022-11-06-14-56-38-Ds4GDa3z.png" alt=""></p></li><li><p>启动mysql服务</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># 方法1</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">net</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> start</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> mysql</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> #启动服务 </span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">net</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> stop</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> mysql</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 停止服务</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># 方法2</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">services.msc</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 通过windows的services图形界面启动</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改密码</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysqld</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> --skip-grant-tables</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # --skip-grant-tables 的意思是跳过权限表认证。</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysqld</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -u</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> root</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -p</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> root</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  # 修改密码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>登录</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -u</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> root</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -p</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 默认密码为空</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -u</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 用户名</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -p</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 密码</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -h</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 主机</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -P</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 端口</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="sql基础语法" tabindex="-1"><a class="header-anchor" href="#sql基础语法"><span>SQL基础语法</span></a></h3><p><strong>规范</strong></p><ul><li>关键字不区分大小写，建议大写</li></ul><p><strong>注释</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 这是单行注释，必须要有空格</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/* </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   这是多行注释</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">*/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql数据类型" tabindex="-1"><a class="header-anchor" href="#mysql数据类型"><span>MySql数据类型</span></a></h3><p><strong>分类</strong></p><ul><li>数值类型</li><li>日期时间类型</li><li>字符串类型</li></ul><p><strong>数值类型</strong></p><table><thead><tr><th>数据类型</th><th>大小</th><th>描述</th><th>说明</th></tr></thead><tbody><tr><td>TINYINT</td><td>1 byte</td><td>小整数值</td><td></td></tr><tr><td>SMALLINT</td><td>2 bytes</td><td>大整数值</td><td></td></tr><tr><td>MEDIUMINT</td><td>3 bytes</td><td>大整数值</td><td></td></tr><tr><td>INT或INTEGER</td><td>4 bytes</td><td>大整数值</td><td></td></tr><tr><td>BIGINT</td><td>8 bytes</td><td>极大整数值</td><td></td></tr><tr><td>FLOAT</td><td>4 bytes</td><td>单精度浮点数值</td><td></td></tr><tr><td>DOUBLE</td><td>8 bytes</td><td>双精度浮点数值</td><td><code>字段名1 double(总长度,保留小数位数)</code> <br> 如分数[0.00-100.00]：分数 double(5,2)</td></tr><tr><td>DECIMAL</td><td></td><td>小数值</td><td></td></tr></tbody></table><p><strong>日期时间类型</strong></p><table><thead><tr><th>数据类型</th><th>大小</th><th>描述</th><th>说明</th></tr></thead><tbody><tr><td>DATE</td><td>3</td><td>日期值</td><td></td></tr><tr><td>TIME</td><td>3</td><td>时间值或持续时间</td><td></td></tr><tr><td>YEAR</td><td>1</td><td>年份值</td><td></td></tr><tr><td>DATETIME</td><td>8</td><td>混合日期和时间值</td><td></td></tr><tr><td>TIMESTAMP</td><td>4</td><td>混合日期和时间值,<strong>时间戳</strong></td><td>若该字段不给数值，则mysql会默认给一个当前时间</td></tr></tbody></table><p><strong>字符串类型</strong></p><table><thead><tr><th>数据类型</th><th>大小</th><th>描述</th><th>说明</th></tr></thead><tbody><tr><td>CHAR</td><td>0-255 bytes</td><td>定长字符串</td><td>&quot;abc&quot; 在 <code>name char(10)</code> 中占10个字符 浪费空间节约时间 <strong>空间换时间</strong></td></tr><tr><td>VARCHAR</td><td>0-65535 bytes</td><td>变长字符串</td><td>&quot;abc&quot; 在 <code>name varchar(10)</code> 中占3个字符 浪费时间节约空间 <strong>时间换空间</strong></td></tr><tr><td>TINYBLOB</td><td>0-255 bytes</td><td>不超过255个字符的二进制字符串</td><td></td></tr><tr><td>TINYTEXT</td><td>0-255 bytes</td><td>短文本字符串</td><td></td></tr><tr><td>BLOB</td><td>0-65535 bytes</td><td>二进制形式的长文本数据</td><td></td></tr><tr><td>TEXT</td><td>0-65535 bytes</td><td>长文本数据</td><td></td></tr><tr><td>MEDIUMBLOB</td><td>0-16 777215 bytes</td><td>二进制形式的中等长度文本数据</td><td></td></tr><tr><td>MEDIUMTEXT</td><td>0-16777 215 bytes</td><td>中等长度文本数据</td><td></td></tr><tr><td>LONGBLOB</td><td>0-4 294 967 295 bytes</td><td>进制形式的极大文本数据</td><td></td></tr><tr><td>LONGTEXT</td><td>0-4 294 967 295 bytes</td><td>极大文本数据</td><td></td></tr></tbody></table><h3 id="sql语句的分类" tabindex="-1"><a class="header-anchor" href="#sql语句的分类"><span>SQL语句的分类</span></a></h3><ul><li><p><code>DDL(Data Definition Language)</code>数据<code>定义</code>语言，用来定义数据库对象:<code>数据库，表，列</code>等</p></li><li><p><code>DML(Data Manipulation Language)</code>数据<code>操作</code>语言，用来对数据库中表的数据进行<code>增删改</code></p></li><li><p><code>DQL(Data Query Language)</code>数据<code>查询</code>语言，用来<code>查</code>询数据库中表的记录(数据)</p></li><li><p><code>DCL(Data Control Language)</code>数据<code>控制</code>语言，用来<code>定义数据库的访问权限和安全级别</code>，及<code>创建用户</code></p></li></ul><h3 id="ddl-data-definition-language-数据定义语言" tabindex="-1"><a class="header-anchor" href="#ddl-data-definition-language-数据定义语言"><span>DDL(Data Definition Language)数据定义语言</span></a></h3><h4 id="ddl——-操作数据库" tabindex="-1"><a class="header-anchor" href="#ddl——-操作数据库"><span>DDL——&gt;<code>操作数据库</code></span></a></h4><h5 id="查询数据库" tabindex="-1"><a class="header-anchor" href="#查询数据库"><span>查询数据库</span></a></h5><p><strong>查询数据库</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">show databases;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>查询数据库测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">show</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> databases</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+--------------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Database</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">           |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # mysql自带的四个数据库：</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+--------------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> information_schema</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 不在硬盘中，是一个视图，记录了mysql中的库、表</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> mysql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">              |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 存储了权限等的信息</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> performance_schema</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 存储了性能相关的信息</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sys</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 存储了系统相关的信息</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+--------------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">4</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="创建数据库" tabindex="-1"><a class="header-anchor" href="#创建数据库"><span>创建数据库</span></a></h5><p><strong>创建数据库</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 数据库名</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>创建数据库测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">create</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> database</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> db1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> row</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.09 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>创建数据库（若不存在）</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> not</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h5 id="删除数据库" tabindex="-1"><a class="header-anchor" href="#删除数据库"><span>删除数据库</span></a></h5><p><strong>删除数据库</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>删除数据库测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">drop</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> database</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> db1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>删除数据库（若存在）</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> not</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h5 id="使用-切换-数据库" tabindex="-1"><a class="header-anchor" href="#使用-切换-数据库"><span>使用（切换）数据库</span></a></h5><p><strong>使用数据库</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>使用数据库测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">use</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> db1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Database</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> changed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="查看当前使用的数据库" tabindex="-1"><a class="header-anchor" href="#查看当前使用的数据库"><span>查看当前使用的数据库</span></a></h5><p><strong>查看当前使用的数据库</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> Database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>查看当前使用的数据库测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">select</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> Database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> db1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> row</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ddl——-操作表" tabindex="-1"><a class="header-anchor" href="#ddl——-操作表"><span>DDL——&gt;<code>操作表</code></span></a></h4><p><strong>CRUB</strong></p><ul><li>创建(Create)</li><li>查询(Retrieve)</li><li>修改(Update)</li><li>删除(Delete)</li></ul><hr><h5 id="创建表" tabindex="-1"><a class="header-anchor" href="#创建表"><span>创建表</span></a></h5><p><strong>创建表</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 表名</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   字段名1 数据类型1,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   字段名2 数据类型2 </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 最后一行无逗号</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>创建表测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">create</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   id</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> int,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   username</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> varchar</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">20</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   password</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> varchar</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">32</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.65 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(32</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">3</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="查询所有表" tabindex="-1"><a class="header-anchor" href="#查询所有表"><span>查询所有表</span></a></h5><p><strong>查询所有表</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">show tables;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>查询所有表测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">show</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> tables</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Tables_in_db1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> row</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="查询表结构" tabindex="-1"><a class="header-anchor" href="#查询表结构"><span>查询表结构</span></a></h5><p><strong>查询表结构</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">desc</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>查询表结构测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(32</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">3</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.01 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="删除表" tabindex="-1"><a class="header-anchor" href="#删除表"><span>删除表</span></a></h5><p><strong>删除表</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>删除表(判断是否存在)</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>删除表(判断是否存在)测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt;  </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">show</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> tables</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Tables_in_db1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">2</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">drop</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> if</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> exists</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.24 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">show</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> tables</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Tables_in_db1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> row</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="修改表" tabindex="-1"><a class="header-anchor" href="#修改表"><span>修改表</span></a></h5><h6 id="修改表名" tabindex="-1"><a class="header-anchor" href="#修改表名"><span>修改表名</span></a></h6><p><strong>修改表名</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 旧表名 rename </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">to</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 新表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>修改表名测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">show</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> tables</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Tables_in_db1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> row</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">alter</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rename</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.43 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">show</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> tables</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Tables_in_db1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student_new</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> row</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="添加列" tabindex="-1"><a class="header-anchor" href="#添加列"><span>添加列</span></a></h6><p><strong>添加列</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">add</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 数据类型;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>添加列测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">8</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">alter</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> new_attribute</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 新增字段</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.56 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Records:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Duplicates:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Warnings:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">            |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">           |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> new_attribute</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 新增的字段</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">9</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="修改列的数据类型" tabindex="-1"><a class="header-anchor" href="#修改列的数据类型"><span>修改列的数据类型</span></a></h6><p><strong>修改列的数据类型</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">modify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 新数据类型;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>修改数据类型测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">            |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">           |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> new_attribute</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # new_attribute int(11)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">9</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">alter</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> modify</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> new_attribute</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> char</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   # 修改字段的数据类型</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.63 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Records:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Duplicates:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Warnings:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">            |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">           |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> new_attribute</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # new_attribute char(1)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">9</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="修改列名和数据类型" tabindex="-1"><a class="header-anchor" href="#修改列名和数据类型"><span>修改列名和数据类型</span></a></h6><p><strong>修改列名和数据类型</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 change 列名 新列名 新数据类型;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>修改列名和数据类型测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">            |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">           |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> new_attribute</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 待修改列名和类型</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+---------------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">9</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">alter</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> change</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> new_attribute</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> new_attr</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 修改字段的名字和数据类型</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.72 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Records:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Duplicates:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Warnings:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> new_attr</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 修改列名和类型</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">9</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="删除列" tabindex="-1"><a class="header-anchor" href="#删除列"><span>删除列</span></a></h6><p><strong>删除列</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>删除列测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> new_attr</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 待删除列</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">9</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">alter</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> drop</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> new_attr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">             # 删除字段</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.74 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Records:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Duplicates:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">  Warnings:</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student_new</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 删除了一个字段</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">8</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="案例" tabindex="-1"><a class="header-anchor" href="#案例"><span>案例</span></a></h5><p><strong>案例1</strong></p><p><img src="/assets/2022-11-06-17-09-37-DbftWRZa.png" alt=""></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   birthday </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">date</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   score double(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   email </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   telnum </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   status</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> tinyint</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>案例1执行结果</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">create</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> table</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   id</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> int,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   name</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> char</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">10</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   sex</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> char</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   birthday</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> date,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   score</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> double</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">5,2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   email</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> varchar</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">64</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   telnum</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> char</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">20</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   status</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> tinyint</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">Query</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> OK,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> affected</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.34 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(5,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> varchar(64</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tinyint(4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)  </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----------+-------------+------+-----+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">8</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dml-data-manipulation-language-数据操作语言" tabindex="-1"><a class="header-anchor" href="#dml-data-manipulation-language-数据操作语言"><span>DML(Data Manipulation Language)数据操作语言</span></a></h3><h4 id="dml——-添加数据" tabindex="-1"><a class="header-anchor" href="#dml——-添加数据"><span>DML——&gt;<code>添加数据</code></span></a></h4><h5 id="添加数据到指定列" tabindex="-1"><a class="header-anchor" href="#添加数据到指定列"><span>添加数据到指定列</span></a></h5><p><strong>添加数据到指定列</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名(列名1,列名2,列名3,...) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(值1,值2,值3,...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>添加数据到指定列测试</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">desc</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">student(id,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex,birthday,score,email,telnum,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">status</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;test1&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;2022-1-1&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">99</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">99</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;244@qq.com&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;0519-110&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> *</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------+-------+------+------------+-------+------------+----------+--------+------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> score</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> email</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> telnum</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------+-------+------+------------+-------+------------+----------+--------+------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">    0</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> test1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 男</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2022-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 99.99</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 244@qq.com</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 0519-110</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">      1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------+-------+------+------------+-------+------------+----------+--------+------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">3</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="给所有列添加数据" tabindex="-1"><a class="header-anchor" href="#给所有列添加数据"><span>给所有列添加数据</span></a></h5><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(值1,值2,值3,...); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 不建议使用，值的顺序错误将导致赋值错误</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="批量添加数据" tabindex="-1"><a class="header-anchor" href="#批量添加数据"><span>批量添加数据</span></a></h5><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名(列名1,列名2,列名3,...) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(值1,值2,值3,...),(值1,值2,值3,...),(值1,值2,值3,...),(值1,值2,值3,...),...;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(值1,值2,值3,...),(值1,值2,值3,...),(值1,值2,值3,...),(值1,值2,值3,...),...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dml——-修改数据" tabindex="-1"><a class="header-anchor" href="#dml——-修改数据"><span>DML——&gt;<code>修改数据</code></span></a></h4><p><strong>修改表数据</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">值1,列名2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">值2,列名3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">值3,... [where 条件];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!----><h4 id="dml——-删除表数据" tabindex="-1"><a class="header-anchor" href="#dml——-删除表数据"><span>DML——&gt;<code>删除表数据</code></span></a></h4><p><strong>删除表数据</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 [where 条件];</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 [where 属性名=属性值];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!----><h3 id="dql-data-query-language-数据查询语言" tabindex="-1"><a class="header-anchor" href="#dql-data-query-language-数据查询语言"><span>DQL(Data Query Language)数据查询语言</span></a></h3><p><strong>数据查询语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   字段列表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   表名列表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   条件列表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">group by</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   分组列表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">having</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   分组后条件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">order by</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   排序字段</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">limit</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   分页限定</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dql——-基础查询" tabindex="-1"><a class="header-anchor" href="#dql——-基础查询"><span>DQL——&gt;<code>基础查询</code></span></a></h4><p><strong>查询多个字段</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名列表;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名列表; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 一般公司里要求不用这种形式，因为不能一眼看出查询了哪些列</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查询多个字段测试</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">select</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> name,birthday,sex</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+-------+------------+------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> birthday</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> sex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+-------+------------+------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> test1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2022-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 男</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> test1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2022-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 男</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> test1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2022-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 男</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+-------+------------+------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">3</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>去除重复记录</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select distinct</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">--根据字段列表的值去除重复记录</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>去除重复记录测试</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> addr </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">distinct</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> addr </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p><strong>起别名</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 新列名1,字段2 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 新列名2, </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段1  新列名1,字段2  新列名2, </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- as 可以省略</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>起别名测试</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 姓名,age </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 年龄,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 性别 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 姓名,age 年龄,sex 性别 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">select</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> name</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 姓名,age</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 年龄,sex</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 性别</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> student</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+--------+--------+--------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 姓名</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  年龄</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 性别</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+--------+--------+--------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> test1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   10</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   男</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> test2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   20</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   男</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+--------+--------+--------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">2</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dql——-条件查询" tabindex="-1"><a class="header-anchor" href="#dql——-条件查询"><span>DQL——&gt;<code>条件查询</code></span></a></h4><p><strong>条件查询语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 条件列表;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><table><thead><tr><th>符号</th><th>说明</th></tr></thead><tbody><tr><td><code>&gt;</code></td><td></td></tr><tr><td><code>&lt;</code></td><td></td></tr><tr><td><code>&gt;=</code></td><td></td></tr><tr><td><code>&lt;=</code></td><td></td></tr><tr><td><code>=</code></td><td>注意，只写一个等于</td></tr><tr><td><code>&lt;&gt;</code> or <code>!=</code></td><td></td></tr><tr><td><code>between ... and ...</code></td><td><code>[a,b]</code></td></tr><tr><td><code>in()</code></td><td>多选一</td></tr><tr><td><code>like 占位符</code></td><td><strong>模糊查询</strong> <code>_</code>单字符任意匹配 <code>%</code>零或多字符任意匹配</td></tr><tr><td><code>is null</code></td><td></td></tr><tr><td><code>is not null</code></td><td></td></tr><tr><td><code>and</code> or <code>&amp;&amp;</code></td><td></td></tr><tr><td><code>or</code> or <code>||</code></td><td></td></tr><tr><td><code>not</code> or <code>!</code></td><td></td></tr></tbody></table><p><strong>条件查询语法测试</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 年龄等于20</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 年龄不等于20</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 年龄大于20</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 年龄大于等于20</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 年龄 等于20 或 等于30 或 等于40 </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> or</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> or</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">40</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">in</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">40</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);    </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- `in()` 的使用</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 年龄 大于等于20 且 小于等于30</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> &amp;&amp; age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 20</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> and</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- `between... and...` 的使用</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 出生日期在 1998-09-01 到 1999-09-01 </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> birthday </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> `1998-09-01`</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> and</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> `1999-09-01`</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 英语成绩为null</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> english </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 错误写法</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> english </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">is</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 正确写法</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> english </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">is not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 姓马的</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> like</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;马%&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 第二个字是花</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> like</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;_花%&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 名字中含有德字</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> like</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%德%&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dql——-排序查询" tabindex="-1"><a class="header-anchor" href="#dql——-排序查询"><span>DQL——&gt;<code>排序查询</code></span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">order by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 排序字段名称1 [排序方式1],排序字段名2 [排序方式2];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 排序方式</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- ASC 升序（默认）</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- DESC 降序</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!----><p><strong>排序查询书写示例</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询学生信息，按年龄升序排序</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">order by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">asc</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">order by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询学生信息 按数学成绩降序排序</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">order by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> math_score </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">desc</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询学生信息 按数学成绩降序排序,如果数学成绩一致，则按英语成绩升序排序。</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">order by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> math_score </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">desc</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,english_score </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">asc</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dql——-聚合查询" tabindex="-1"><a class="header-anchor" href="#dql——-聚合查询"><span>DQL——&gt;<code>聚合查询</code></span></a></h4><p><strong>概念</strong>：将一列数据作为整体，进行运算。</p><p><strong>聚合函数</strong></p><table><thead><tr><th>函数名</th><th>功能</th><th>取值</th></tr></thead><tbody><tr><td>count(列名)</td><td>统计数量</td><td><code>非空列名</code> 或 <code>*</code></td></tr><tr><td>max(列名)</td><td>最大值</td><td></td></tr><tr><td>min(列名)</td><td>最小值</td><td></td></tr><tr><td>sum(列名)</td><td>求和</td><td></td></tr><tr><td>avg(列名)</td><td>平均值</td><td></td></tr></tbody></table><!----><p><strong>sql语法格式</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 聚合函数名(列名)[,可以继续写其他字段名] </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>排序查询书写示例</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 统计班级人数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询数学最高分者的分数，名字，年龄</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,age,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">max</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(math_score) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dql——-分组查询" tabindex="-1"><a class="header-anchor" href="#dql——-分组查询"><span>DQL——&gt;<code>分组查询</code></span></a></h4><p><strong>分组查询</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 查询条件 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">group by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 分组字段名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">having</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 分组后过滤条件;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!----><ul><li>分组后,只能查询分组字段和聚合函数，查询其他字段能出结果但无意义</li><li>执行顺序: <code>where</code> -&gt; <code>聚合函数</code> -&gt; <code>having</code></li><li><code>where</code> 和 <code>having</code> 区别： <ul><li><code>where</code> 是对分组前的数据进行限定,无法对聚合函数判断</li><li><code>having</code> 是对分组后的数据进行过滤,能对聚合函数判断</li></ul></li></ul><p><strong>分组查询书写示例</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询全班男生女生各自的数学平均分</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">avg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(math_score) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">group by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 分组后,只能查询分组字段和聚合函数，查询其他字段能出结果但无意义</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,sex,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">avg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(math_score) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">group by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询全班男生女生各自的数学平均分及各自人数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">avg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(math_score) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> math_avg,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> pcount </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">group by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询全班男生女生各自的数学平均分及各自人数,分数低于70分不参与分组</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">avg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(math_score) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> math_avg,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> pcount </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> math_score </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 70</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> group by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> sex;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 查询全班男生女生各自的数学平均分及各自人数,分数低于70分不参与分组,分组后,各分组的总人数&gt;2</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   sex,</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">avg</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(math_score) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> math_avg,</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> pcount </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   math_score </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 70</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">group by</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   sex </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">having</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">   count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(id) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dql——-分页查询" tabindex="-1"><a class="header-anchor" href="#dql——-分页查询"><span>DQL——&gt;<code>分页查询</code></span></a></h4><p><strong>分页查询语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">limit</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 起始索引 , 查询条目数;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>注意点</strong></p><ul><li>起始索引：从0开始</li><li>计算公式：<code>起始索引 = (查询页-1) * 每页显示条目数</code></li><li><!----><ul><li><code>sql Server</code> 分页查询用 <code>top</code></li><li><code>oracle</code> 分页查询用 <code>rownnumber</code></li></ul></li></ul><p><strong>分页查询语法示例</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 从0开始查询三条数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">limit</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 每页展示10条数据，查询第1页数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">limit</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ;    </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">`起始索引 = (查询页-1) * 每页显示条目数`</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 每页展示10条数据，查询第2页数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">limit</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 每页展示10条数据，查询第3页数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">limit</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dcl-data-control-language-数据控制语言" tabindex="-1"><a class="header-anchor" href="#dcl-data-control-language-数据控制语言"><span>DCL(Data Control Language)数据控制语言</span></a></h3><h4 id="" tabindex="-1"><a class="header-anchor" href="#"><span>??</span></a></h4><h3 id="约束" tabindex="-1"><a class="header-anchor" href="#约束"><span>约束</span></a></h3><p>概念</p><ul><li>约束是作用于表中列的规则，用于限制加入数据的</li><li>约束可以保证数据的 <strong>正确性</strong> <strong>完整性</strong> <strong>有效性</strong></li></ul><p><strong>主要的几种约束</strong></p><table><thead><tr><th>约束名称</th><th>描述</th><th>关键字</th></tr></thead><tbody><tr><td>非空约束</td><td>保证列中所有数据不能有null值</td><td><code>NOT NULL</code></td></tr><tr><td>唯一约束</td><td>保证列中所有数据各不相同,如果修饰的列是数值类型可以添加自增约束</td><td><code>UNIQUE [AUTO_INCREMENT]</code></td></tr><tr><td>主键约束</td><td>主键是一行数据的唯一标识，要求<code>非空</code>且<code>唯一</code></td><td><code>PRIMARY KEY [AUTO_INCREMENT]</code></td></tr><tr><td>检查约束</td><td>保证列中的值满足某一条件 <!----></td><td><code>CHECK</code></td></tr><tr><td>默认约束</td><td>保存数据时，未指定值则采用默认值</td><td><code>DEFAULT</code></td></tr><tr><td>外键约束</td><td>外键用来让两个表的数据之间建立链接，保证数据的一致性和完整性</td><td><code>FOREIGN KEY</code></td></tr></tbody></table><p><strong>扩展约束</strong></p><table><thead><tr><th>约束名称</th><th>描述</th><th>关键字</th></tr></thead><tbody><tr><td>自增约束</td><td>当列为<code>数值类型</code>且有<code>唯一约束</code>，保存数据时，<code>未指定值</code>或<code>给null</code>时将<code>自动自增</code></td><td>AUTO_INCREMENT`</td></tr></tbody></table><h4 id="非空约束" tabindex="-1"><a class="header-anchor" href="#非空约束"><span>非空约束</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在表创建时在列创建 not null 约束：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> -- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 撤销 not null 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">modify</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加 not null 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">modify</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="唯一约束" tabindex="-1"><a class="header-anchor" href="#唯一约束"><span>唯一约束</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在表创建时在列创建 unique 约束：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> unique</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> -- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 如果需要为多个列定义 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   UNIQUE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (stuid) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 撤销 unique 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> INDEX</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> stuid;   </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加 unique 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> UNIQUE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (stuid); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 如果需要命名 PRIMARY KEY 约束，以及为多个列定义 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">UNIQUE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (stuid) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL不支持</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> INDEX</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">UNIQUE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (stuid); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="主键约束" tabindex="-1"><a class="header-anchor" href="#主键约束"><span>主键约束</span></a></h4><p><strong>语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> -- 主键 `非空not null` 且 `唯一unique`</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在表创建时在列创建 PRIMARY KEY 约束：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> -- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 如果需要为多个列定义 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (id) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持 -- 可以用于定义复合主键  PRIMARY KEY (id,name)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 撤销 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (id);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 如果需要命名 PRIMARY KEY 约束，以及为多个列定义 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (id) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 通过 CONSTRAINT 对约束命名 添加 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> pk_studentID </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (id);  </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 通过 CONSTRAINT 对约束命名 撤销 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> pk_studentID; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">--  经测试,MySQL不支持这种写法</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="检查约束" tabindex="-1"><a class="header-anchor" href="#检查约束"><span>检查约束</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在表创建时在列创建 check 约束：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> check</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(stuid</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 如果需要为多个列定义 check 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   check</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(stuid</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 撤销 check 约束</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   ???</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加 CHECK 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CHECK</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (stuid</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 如果需要命名 PRIMARY KEY 约束，以及为多个列定义 PRIMARY KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CHECK</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (stuid</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试, MySQL 不支持</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CHECK</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试, MySQL5.7 不支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CHECK</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ( stuid</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="默认约束" tabindex="-1"><a class="header-anchor" href="#默认约束"><span>默认约束</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在表创建时在列创建 default 约束：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> default</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> -- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 撤销 default 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> DEFAULT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加 CHECK 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> stuid </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">SET</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> DEFAULT</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="外键约束" tabindex="-1"><a class="header-anchor" href="#外键约束"><span>外键约束</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> not</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> department;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> department</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   depart_id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> stu_dep </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">foreign key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(depart_id)  </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">references</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> department(id) </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加 FOREIGN KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> FOREIGN KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (depart_id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">REFERENCES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> department(id); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ADD</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> stu_dep </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">FOREIGN KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (depart_id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">REFERENCES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> department(id); </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 撤销 FOREIGN KEY 约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">ALTER</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> FOREIGN KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> stu_dep ; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 经测试,MySQL支持</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="额" tabindex="-1"><a class="header-anchor" href="#额"><span>额</span></a></h4><p><strong>属性级(列名)的约束语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在定义表示添加约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 表名</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NOT NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">UNIQUE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DEFAULT</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">FOREIGN KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加非空约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">modify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NOT NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除非空约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">modify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 数据类型;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加唯一约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">modify</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 数据类型 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">unique</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除唯一约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> index</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加主键约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">add</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(列名);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除主键约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加默认约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">set</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> default</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除默认约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 列名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> default</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>属性级(列名)的约束语法测试</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> employee;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> employee</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> auto_increment,     </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 主键</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,                </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 非空</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    joindate </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">date</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,                </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 非空</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    salary double(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,           </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 非空</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    bonus double(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">default</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            -- 默认约束</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> employee(id,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,joindate,salary,bonus) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;张三1&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-01-01&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> employee(id,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,joindate,salary,bonus) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;张三2&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-01-01&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> employee(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,joindate,salary,bonus) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;张三3&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-01-01&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">00</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> employee;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> *</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> from</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> employee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----+---------+------------+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> joindate</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> salary</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> bonus</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----+---------+------------+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 张三1</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2001-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 1000.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  0.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 张三2</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2001-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 1000.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  0.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 张三3</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 2001-01-01</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 1000.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">  0.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+----+---------+------------+---------+-------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">3</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>元祖级的约束语法</strong><br> 复合主键必须以这种方式定义</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 在创建表时定义约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 表名</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名1 数据类型1,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名2 数据类型2,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名3 数据类型3,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名4 数据类型4,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   列名5 数据类型5,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(列名1,列名2),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 完整性约束名别名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">foreign key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(外键列名) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">references</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 主表(主表列名), </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 完整性约束名别名 约束名称</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 👆</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 在 sqlserver 中 constraint 仅支持 CHECK,DEFAULT,FOREIGN,PRIMARY,REFERENCES,UNIQUE</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 在 mysql 中 经测试，constraint 支持 unique ，primary key  foreign key，其他暂未测试</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">add</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 完整性约束名别名 约束名称;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 完整性约束名别名;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加外键约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">add</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 完整性约束名别名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">foreign key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(外键列名) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">references</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 主表(主表列名);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 删除外键约束</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">alter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> foreign key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 完整性约束名别名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>元祖级的约束语法测试</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> department;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> department</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> auto_increment,     </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 主键</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> employee;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> employee</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> auto_increment,                 </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 主键</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,                </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 非空</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    joindate </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">date</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,                </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 非空</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    salary double(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">not null</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,           </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 非空</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    bonus double(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">default</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,           </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 默认约束</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    department </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,                        </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 外键</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c1 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">unique</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">), </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 唯一</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c2 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(id), </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 主键</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   constraint</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> c3 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">foreign key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(department) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">references</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> department(id) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">--引用完整性约束</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mysql</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">&gt; </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> employee</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">--------------</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">desc</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> employee</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">--------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------------+-------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Field</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Type</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Null</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Default</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Extra</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">          |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------------+-------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">         |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NO</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> PRI</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> auto_increment</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">       |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> char(10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)    </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NO</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UNI</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> joindate</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> date</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">        |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NO</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> salary</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(8,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NO</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">   |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> bonus</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">      |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> double(8,2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">     |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> 0.00</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                |</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> department</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> int(11</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)     </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> YES</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> MUL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> NULL</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    |</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                |</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">+------------+-------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">6</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> rows</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (0.00 </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">sec</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据库设计" tabindex="-1"><a class="header-anchor" href="#数据库设计"><span>数据库设计</span></a></h3><p><strong>表关系分类</strong></p><ul><li>一对一： <ul><li>将一个实体中常用字段和不常用字段拆分为两个表，用于提升查询性能</li><li>用户和用户详情信息表</li><li>一个用户有一个详情信息</li></ul></li><li>一对多（多对一）： <ul><li>部门和员工</li><li>一个部门有多个员工，多个员工同属一个部门</li></ul></li><li>多对多 <ul><li>商品和订单</li><li>一个商品对应多个订单，一个订单有多个商品</li></ul></li></ul><h4 id="一对一" tabindex="-1"><a class="header-anchor" href="#一对一"><span>一对一</span></a></h4><p><strong>实现方式</strong> 在任意一方建立外键，指向另一方的主键，并且设置外键为<code>唯一UNIQUE</code></p><p><img src="/assets/2022-11-08-01-53-42-Bu2N6apB.png" alt=""></p><h4 id="一对多" tabindex="-1"><a class="header-anchor" href="#一对多"><span>一对多</span></a></h4><p><strong>实现方式</strong> 在<code>多</code>的一方建立外键，指向<code>一</code>的一方的主键</p><p><img src="/assets/2022-11-08-01-46-47-DoIcnzDr.png" alt=""></p><h4 id="多对多" tabindex="-1"><a class="header-anchor" href="#多对多"><span>多对多</span></a></h4><p><strong>实现方式</strong> 建立第三张<code>中间表</code>，中间表至少包含<code>两个外键</code>，分别关联两方的<code>主键</code>。</p><p><img src="/assets/2022-11-08-01-49-47-D1E3GkVN.png" alt=""></p><h3 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询"><span>多表查询</span></a></h3><p><strong>多表查询</strong></p><ul><li>笛卡尔积：取A、B集合的组合</li><li>多表查询：从多张查询数据 <ul><li>连接查询 <ul><li>内连接：查询A、B交集数据</li><li>外连接： <ul><li>左外连接：查询A表所有数据和交集部分数据</li><li>右外连接：查询B表所有数据和交集部分数据</li></ul></li><li>子查询：查询中嵌套查询</li></ul></li></ul></li><li><img src="/assets/2022-11-08-02-14-14-7bXJwOX_.png" alt=""></li></ul><h4 id="笛卡尔积" tabindex="-1"><a class="header-anchor" href="#笛卡尔积"><span>笛卡尔积</span></a></h4><ul><li><p>笛卡尔积：有A、B两集合，取A、B两集合所有的组合</p></li><li><p>若A表有4条数据，B表有8条数据，笛卡尔积就有32条数据。</p></li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA,tableB;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="内连接" tabindex="-1"><a class="header-anchor" href="#内连接"><span>内连接</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法1：隐式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA,tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id,tableA.name,tableA.id,tableA.name </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA,tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 防止字段名冲突</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> A.id,A.name,B.id,B.name </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> A,tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> B </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> A.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> B.id; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 给表起别名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法2：显式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- inner可省略</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="外连接" tabindex="-1"><a class="header-anchor" href="#外连接"><span>外连接</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">--- 左外连接:  tableA的所有数据 + tableA和tableB的交集数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">left outer join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">left join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- outer 可省略</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">--- 右外连接： tableB的所有数据 + tableA和tableB的交集数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">right join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">right join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableA.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tableB.id; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- outer 可省略</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="子查询" tabindex="-1"><a class="header-anchor" href="#子查询"><span>子查询</span></a></h4><p><strong>概念</strong>： 查询中嵌套查询，称嵌套查询为子查询</p><p><strong>分类</strong>：<strong>根据子查询的结果不同，作用不同</strong></p><ul><li><p>子查询结果为<strong>单行单列</strong>：（使用<code>=</code> <code>!=</code> <code>&gt;</code> <code>&lt;</code>等进行条件判断）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段名 </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (子查询);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表,(子查询) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段别名  </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>子查询结果为<strong>单行多列</strong>：（使用 <code>in</code> 等关键字进行条件判断）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段名 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">in</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (子查询);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>子查询结果为<strong>多行多列</strong>,：（作为<strong>虚拟表</strong>）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 字段列表 </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (子查询) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 条件;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h4 id="案例-子查询" tabindex="-1"><a class="header-anchor" href="#案例-子查询"><span>案例：子查询</span></a></h4><p><strong>数据准备</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> db2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> IF</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> EXISTS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> IF</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> EXISTS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> IF</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> EXISTS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DROP</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> IF</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> EXISTS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 部门表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> dept</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 部门id</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  dname </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">50</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">), </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 部门名称</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  loc </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">50</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 部门所在地</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 职务表，职务名称，职务描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> job</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  jname </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  description</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">50</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 员工表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> emp</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 员工id</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  ename </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">50</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">), </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 员工姓名</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  job_id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 职务id</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  mgr </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> , </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 上级领导</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  joindate </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DATE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 入职日期</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  salary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DECIMAL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">), </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 工资</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  bonus </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DECIMAL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">), </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 奖金</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  dept_id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 所在部门编号</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp_jobid_ref_job_id_fk </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">FOREIGN KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (job_id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">REFERENCES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job (id),</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">  CONSTRAINT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp_deptid_ref_dept_id_fk </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">FOREIGN KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (dept_id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">REFERENCES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept (id)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 工资等级表</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> salarygrade</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> (</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  grade </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,   </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 级别</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  losalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,  </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 最低工资</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  hisalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> -- 最高工资</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加4个部门</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INSERT INTO</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept(id,dname,loc) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VALUES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;教研部&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;北京&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;学工部&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;上海&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;销售部&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;广州&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">40</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;财务部&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;深圳&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加4个职务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INSERT INTO</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job (id, jname, </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">description</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;董事长&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;管理整个公司，接单&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;经理&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;管理部门员工&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;销售员&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;向客人推销产品&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;文员&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">, </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;使用办公软件&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加员工</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INSERT INTO</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp(id,ename,job_id,mgr,joindate,salary,bonus,dept_id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VALUES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1001</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;孙悟空&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1004</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2000-12-17&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;8000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1002</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;卢俊义&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1006</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-02-20&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;16000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;3000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1003</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;林冲&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1006</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-02-22&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;12500.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;5000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1004</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;唐僧&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1009</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-04-02&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;29750.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1005</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;李逵&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1006</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-09-28&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;12500.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;14000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1006</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;宋江&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1009</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-05-01&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;28500.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1007</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;刘备&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1009</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-09-01&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;24500.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1008</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;猪八戒&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1004</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2007-04-19&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;30000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1009</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;罗贯中&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-11-17&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;50000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1010</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;吴用&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1006</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-09-08&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;15000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;0.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1011</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;沙僧&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1004</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2007-05-23&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;11000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1012</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;李逵&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1006</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-12-03&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;9500.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1013</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;小白龙&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1004</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2001-12-03&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;30000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1014</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;关羽&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1007</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;2002-01-23&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;13000.00&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 添加5个工资等级</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INSERT INTO</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade(grade,losalary,hisalary) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VALUES</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">7000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">12000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">12010</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">14000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">14010</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20010</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30000</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30010</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">99990</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>题目 1.查询所有员工信息。查询员工编号，员工姓名，工资，职务名称，职务描述</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- ----写法一：隐式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.jname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.description</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp,job</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- ----写法二：显式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.jname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.description</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>结果</strong></p><table><thead><tr><th>id</th><th>ename</th><th>salary</th><th>jname</th><th>description</th></tr></thead><tbody><tr><td>1009</td><td>罗贯？</td><td>50000</td><td>董事？</td><td>管理整个公司，接？</td></tr><tr><td>1004</td><td>唐僧</td><td>29750</td><td>经理</td><td>管理部门员工</td></tr><tr><td>1006</td><td>宋江</td><td>28500</td><td>经理</td><td>管理部门员工</td></tr><tr><td>1007</td><td>刘备</td><td>24500</td><td>经理</td><td>管理部门员工</td></tr><tr><td>1002</td><td>卢俊？</td><td>16000</td><td>销售员</td><td>向客人推销产品</td></tr><tr><td>1003</td><td>林冲</td><td>12500</td><td>销售员</td><td>向客人推销产品</td></tr><tr><td>1010</td><td>吴用</td><td>15000</td><td>销售员</td><td>向客人推销产品</td></tr><tr><td>1001</td><td>孙悟？</td><td>8000</td><td>文员</td><td>使用办公软件</td></tr><tr><td>1005</td><td>李？</td><td>12500</td><td>文员</td><td>使用办公软件</td></tr><tr><td>1008</td><td>猪八？</td><td>30000</td><td>文员</td><td>使用办公软件</td></tr><tr><td>1011</td><td>沙僧</td><td>11000</td><td>文员</td><td>使用办公软件</td></tr><tr><td>1012</td><td>李？</td><td>9500</td><td>文员</td><td>使用办公软件</td></tr><tr><td>1013</td><td>小白？</td><td>30000</td><td>文员</td><td>使用办公软件</td></tr><tr><td>1014</td><td>关羽</td><td>13000</td><td>文员</td><td>使用办公软件</td></tr></tbody></table><p><strong>题目 2.查询员工编号，员工姓名，工资，职务名称，职务描述，部门名称，部门位置</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- ----写法一：隐式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.jname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.description,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.dname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.loc</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp,job,dept</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.dept_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.id;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- ----写法二：显式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.jname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.description,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.dname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.loc</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.dept_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.id;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>结果</strong></p><table><thead><tr><th>id</th><th>ename</th><th>salary</th><th>jname</th><th>description</th><th>dname</th><th>loc</th></tr></thead><tbody><tr><td>1009</td><td>罗贯？</td><td>50000</td><td>董事？</td><td>管理整个公司，接？</td><td>教研？</td><td>北京</td></tr><tr><td>1007</td><td>刘备</td><td>24500</td><td>经理</td><td>管理部门员工</td><td>教研？</td><td>北京</td></tr><tr><td>1014</td><td>关羽</td><td>13000</td><td>文员</td><td>使用办公软件</td><td>教研？</td><td>北京</td></tr><tr><td>1004</td><td>唐僧</td><td>29750</td><td>经理</td><td>管理部门员工</td><td>学工？</td><td>上海</td></tr><tr><td>1001</td><td>孙悟？</td><td>8000</td><td>文员</td><td>使用办公软件</td><td>学工？</td><td>上海</td></tr><tr><td>1008</td><td>猪八？</td><td>30000</td><td>文员</td><td>使用办公软件</td><td>学工？</td><td>上海</td></tr><tr><td>1011</td><td>沙僧</td><td>11000</td><td>文员</td><td>使用办公软件</td><td>学工？</td><td>上海</td></tr><tr><td>1013</td><td>小白？</td><td>30000</td><td>文员</td><td>使用办公软件</td><td>学工？</td><td>上海</td></tr><tr><td>1006</td><td>宋江</td><td>28500</td><td>经理</td><td>管理部门员工</td><td>销售部</td><td>广州</td></tr><tr><td>1002</td><td>卢俊？</td><td>16000</td><td>销售员</td><td>向客人推销产品</td><td>销售部</td><td>广州</td></tr><tr><td>1003</td><td>林冲</td><td>12500</td><td>销售员</td><td>向客人推销产品</td><td>销售部</td><td>广州</td></tr><tr><td>1010</td><td>吴用</td><td>15000</td><td>销售员</td><td>向客人推销产品</td><td>销售部</td><td>广州</td></tr><tr><td>1005</td><td>李？</td><td>12500</td><td>文员</td><td>使用办公软件</td><td>销售部</td><td>广州</td></tr><tr><td>1012</td><td>李？</td><td>9500</td><td>文员</td><td>使用办公软件</td><td>销售部</td><td>广州</td></tr></tbody></table><p><strong>题目 3.查询员工姓名，工资，工资等级</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法1：子查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> grade </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.salary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.losalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.hisalary ) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法2：隐式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   salarygrade.grade</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   salarygrade</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  salarygrade.losalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.hisalary </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法3：显式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   salarygrade.grade</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   salarygrade</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  salarygrade.losalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.hisalary </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>ename</th><th>salary</th><th>grade</th></tr></thead><tbody><tr><td>孙悟？</td><td>8000</td><td>1</td></tr><tr><td>卢俊？</td><td>16000</td><td>3</td></tr><tr><td>林冲</td><td>12500</td><td>2</td></tr><tr><td>唐僧</td><td>29750</td><td>4</td></tr><tr><td>李？</td><td>12500</td><td>2</td></tr><tr><td>宋江</td><td>28500</td><td>4</td></tr><tr><td>刘备</td><td>24500</td><td>4</td></tr><tr><td>猪八？</td><td>30000</td><td>4</td></tr><tr><td>罗贯？</td><td>50000</td><td>5</td></tr><tr><td>吴用</td><td>15000</td><td>3</td></tr><tr><td>沙僧</td><td>11000</td><td>1</td></tr><tr><td>李？</td><td>9500</td><td>1</td></tr><tr><td>小白？</td><td>30000</td><td>4</td></tr><tr><td>关羽</td><td>13000</td><td>2</td></tr></tbody></table><p><strong>题目 4.查询员工姓名，工资，职务名称，职务描述，部门名称，部门位置，工资等级</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法1：显式内连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.jname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   job.description,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.dname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.loc,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   salarygrade.grade</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.dept_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">inner join</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">on</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.salary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.losalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.hisalary</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 写法2：子查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.ename,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.salary,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp.dept_id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> grade </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.salary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">between</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.losalary </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">and</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade.hisalary ) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> salarygrade ,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.jname </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> jname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.description </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.job_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> job.id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> jdescription,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.dname </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.dept_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dname,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.loc </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.dept_id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dloc</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   emp</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查询结果</strong></p><table><thead><tr><th>ename</th><th>salary</th><th>jname</th><th>description</th><th>dname</th><th>loc</th><th>grade</th></tr></thead><tbody><tr><td>孙悟?</td><td>8000</td><td>文员</td><td>使用办公软件</td><td>学工?</td><td>上海</td><td>1</td></tr><tr><td>卢俊?</td><td>16000</td><td>销售员</td><td>向客人推销产品</td><td>销售部</td><td>广州</td><td>3</td></tr><tr><td>林冲</td><td>12500</td><td>销售员</td><td>向客人推销产品</td><td>销售部</td><td>广州</td><td>2</td></tr><tr><td>唐僧</td><td>29750</td><td>经理</td><td>管理部门员工</td><td>学工?</td><td>上海</td><td>4</td></tr><tr><td>李?</td><td>12500</td><td>文员</td><td>使用办公软件</td><td>销售部</td><td>广州</td><td>2</td></tr><tr><td>宋江</td><td>28500</td><td>经理</td><td>管理部门员工</td><td>销售部</td><td>广州</td><td>4</td></tr><tr><td>刘备</td><td>24500</td><td>经理</td><td>管理部门员工</td><td>教研?</td><td>北京</td><td>4</td></tr><tr><td>猪八?</td><td>30000</td><td>文员</td><td>使用办公软件</td><td>学工?</td><td>上海</td><td>4</td></tr><tr><td>罗贯?</td><td>50000</td><td>董事?</td><td>管理整个公司，接?</td><td>教研?</td><td>北京</td><td>5</td></tr><tr><td>吴用</td><td>15000</td><td>销售员</td><td>向客人推销产品</td><td>销售部</td><td>广州</td><td>3</td></tr><tr><td>沙僧</td><td>11000</td><td>文员</td><td>使用办公软件</td><td>学工?</td><td>上海</td><td>1</td></tr><tr><td>李?</td><td>9500</td><td>文员</td><td>使用办公软件</td><td>销售部</td><td>广州</td><td>1</td></tr><tr><td>小白?</td><td>30000</td><td>文员</td><td>使用办公软件</td><td>学工?</td><td>上海</td><td>4</td></tr><tr><td>关羽</td><td>13000</td><td>文员</td><td>使用办公软件</td><td>教研?</td><td>北京</td><td>2</td></tr></tbody></table><p><strong>题目 5.查询出部门编号、部门名称、部门位置、部门人数</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 方法1： 子查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db2;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 部门编号 ,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.dname </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 部门名称 ,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept.loc </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 部门位置 ,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   (</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> count</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(emp.id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> dept.id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> emp.dept_id) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">as</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> 部门人数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">from</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   dept</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>部门编号</th><th>部门名称</th><th>部门位置</th><th>部门人数</th></tr></thead><tbody><tr><td>10</td><td>教研?</td><td>北京</td><td>3</td></tr><tr><td>20</td><td>学工?</td><td>上海</td><td>5</td></tr><tr><td>30</td><td>销售部</td><td>广州</td><td>6</td></tr><tr><td>40</td><td>财务?</td><td>深圳</td><td>0</td></tr></tbody></table><h3 id="事务" tabindex="-1"><a class="header-anchor" href="#事务"><span>事务</span></a></h3><p><strong>概念</strong></p><ul><li>简单理解，事务是一组操作命令，当一组中的一条操作执行出错，则这一组的操作将全部被撤销（回滚）。</li><li>事务（Transaction）是一种机制一个操作序列，包含了一组数据库操作命令</li><li>事务把所有命令作为整体一起提交操作请求，这一组数据库命令要么同时成功，要么同时失败。</li><li>事务是一个不可分割的工作逻辑单元。</li></ul><p><strong>特性ACID</strong></p><ul><li><strong>原子性</strong>(Atomicity):事务是不可分割的最小操作单位，要么同时成功，要么同时失败</li><li><strong>一致性</strong>(Consistency):事务完成时，必须使所有的数据都保持一致状态</li><li><strong>隔离性</strong>(lsolation) :多个事务之间，操作的可见性</li><li><strong>持久性</strong>(Durability):事务一旦提交或回滚，它对数据库中的数据的改变就是永久的</li></ul><p><strong>语法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 开启事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">start transaction</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 开启事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">begin</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">普通sql语句1</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">普通sql语句2</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">普通sql语句3</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">普通sql语句......</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 提交事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">commit</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">--回滚事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">rollback</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mysql默认提交事务规则</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> @@autocommit; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 输出1表示事务默认自动提交</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql语句; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 该语句将自动提交</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> @@autocommit </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 修改事务默认提交方式</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> @@autocommit; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 输出0表示需要手动提交</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql语句; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 该语句将不会自动提交</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">commit</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">; </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">-- 手动提交</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jdbc" tabindex="-1"><a class="header-anchor" href="#jdbc"><span>JDBC</span></a></h2><p><strong>概念</strong></p><ul><li>全称：JDBC(Java DataBase Connectivity)Java数据库连接</li><li>操作关系型数据库的一套API，也就是一个接口类</li><li>各个数据库厂商会去实现这套接口，提供数据库驱动jar包</li><li>通过JDBC接口可以不改变sql语句，操作不同的数据库：mysql oracle DB2</li><li><img src="/assets/2022-11-08-13-47-24-D4_L4IbL.png" alt=""></li></ul><p><strong>测试JDBC：基本写法</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">show databases;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> db1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db1;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> student</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   age </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student(id,age) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">update</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> student </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">set</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> age</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> where</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> test_jdbc</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DriverManager</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 0. 引入mysql-connector-j-8.0.31.jar包</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 1. 注册驱动</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        Class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">forName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 新版本将自动注册，其实不用写</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 2. 获取连接</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> url</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;jdbc:mysql://localhost:3306/db1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;root&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;123456&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DriverManager</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">url</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 3.定义sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;update student set age=15 where id = 0;&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 4.获取sql执行器对象Statement</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Statement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> statement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 5.执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> updataCount</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 6.处理结果</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">updataCount</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 7.释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAAAgCAIAAADYCPcPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAApPSURBVHhe7Z17UFPZHccvLzFCDCngJWRFhQioLBpYBBPNKBIeoigYcKEog287/avtdKbTdsYZp9PpzDptZ9rNbkdt3dXpuJlBF18ovtCCsFpcWVhrNiy7BNE4PGQjRgJIzzn3JCS554rKU/Z8/tBzf/f3O7/v79x7f/cQjXpFREQwFAokeWDDQq+aYz6d+Hga8GLl9n4pHjPdTf7/qcPjCWEoodgun4GGnf6nP0eDKQptBBQKhfHGv1MolB8xtBFQKBTaCCgUCsP4SCQSPHQjfHmGZllsdKS0t/mBFdsoFMo0hbgjWLwqOy9ndULOth3FGQuwjUKhTF+IjUAcHGa7fepKmx0fUyiU6Q2xEdSdOnz41IT+gSuFQplM6IeFFAqFNgIKhUIbAYVCARD/+FD2XtqqpTGL4hMiZw/Zer1CWD+TuQOfo1Ao0w/ijkAUKn/nnXfsjZfPX260gxFL/KsGFAplukC/dEShUOhnBBQKhe4IKJSpSWZmJh65UFFRgUdjDW0EFMpUpKysDI9cyMvLw6Oxhv5oQKFQaCOgUCiT3QjCElMzVsTgg5GB7hmpiWH4cFwZy1wvLXMiixoNb4tOQWJWvNXyxxliI4hZkT5MaoJj8cISUrHN1cpDIJpEQFh6Uel6wiPiOsfwIxS1rnTPntJ1UfgQAjW5P2Ovkf5lEHK9InxJgmVC3jzRxDKWCzIpqHRvIn+U4qdI7SNDbAQq3d6dOlUkRKUrLclFlcSsyC3K44yAebIA5ErAJToy6/2S3Jc8jM1ny28xUfnuDnDtCnVZ3AQAeTA+wTyqv3Lx4pX6R/gQEpVdulenwgcIovjXh5DrFeFLIpbp4M0TTSxjuSBvEaMUTwifmr3BF//uSZ+58qOPqkEhO+L+mL1VW3bziXarln148FfQOCKOaEaV/+c9u4o6muoNFmiPSdFGiK2tlbX34RGk5nxd0f6iVSx2AMSklezSvij7eL+hBlsQKNTe1txsbW3mLGzCmvjg2BBfRjRPq9UCw0Bnw9V6OA1P/H0LCJd2tzIREWIY6pCApuCWwBHsNLnlwvnRyJkGMGxFcz4RksQvUyCRiyIcDC2SHmdKkDHc7rC7e3JjHuTSJ3lBeAiV6bYiDpkAj0QC4gFOx3ng1yfIJCTeAzQfUTwpnKdTKDxANj8rVTM0s1ww8WQw0mcET394PjjwwhbIBLa0dTAh8aCklNfoZjWGG+0+8vhEfKjK37dvX7772/La+fbZK7XOOVmtaq7daABdAKw2Yk0CC+zBcxUKhTp/13B4oGyBQsGKfBh/CTgFWCALxKcwTvEo8/bC7LXIb13xdh2YE1yovKLNamRSrCssyUOFoVk5U7EzF3DVbcSe6s1FG5AiKLBwWz42K+aCjYuwJM8yBRK5WKEk6B8oyyzeXaRBGUHO7O27NivhpHxPAVDpWD4u3WGdxAXxRKjMGG1J4ToulpsSneYlEhAPHfNxuMQfxQqJ5yMgXqB2nk6h2pvPHjHUWkBk3ms9SuMMbmE8fIPf1WpngZdq8kzjhYqqZqa5+bPyMC14GrMVKkZc09/RcO3Oq/Qzy7M+/yDHShtrKytNHUZ8xAH2za0FJTpl5R/QfAqpmOloh5uBEJAsBFzJYNNB0DprDPoaRv17VXwQigKABdVzlga9/p/YiOCJRwTJ+4/u14ONgrpjX2y4mAnL3Z0yePyA/owJnFT/7ugvt2nLau+jWRGlCm0cN2I1RbvjfKuOmOBMQzGatbmJh+rPRYObVf7dJ3/iJuAQlORZJpaPGE4ErN98bbJzL5s5Sq1Kyx7729ny25v2JmtYA9hNRGfH+reUo4r4nvfBxNEpWvjmg7hcoiD5UDnSqQ4++vPcRKb+HGedvAXh6QTrQyxzyRIZ8+SM6c73lbXO+4aUKJEkfgg6fvVXVCSUnwo9yeKJkkjiBcL5OoXvT/B+1D+27dBm57/PiC+4VjZ5CO0IfAJkqIt53av49DC33qYzh/UAQ+1jxcqCHSVp0chxJCQzfAfsPfig2gAngFfFleqrt71if4pfBpZeGyMKgGPkfPdNvvVIEA/oa63nMoOJoZWd5d/xP8fZ6gcdjFiq4A48UcSyPk97vNCcCq/71683wILU8pC+1irn9CPiVqYA0SmF24uzuURSf6yo+nxtDwseEXB6faz/N+UoJdGTYULhxokjSo5va1g61gnK9J/lUDCZC0LQSSyTaai+cOexQpG2XgtYrUTaSYmI4pEjLtIJWbzQ0vEQCCfpfBnWB82mbkYKdg+h2DK5CO0I+lov6lEf5QHumureA5qdCWrm+EidjFWuTmLtLeUN+Dg6OQ1+RnCpzj2w+vznOb9OS4s2gAlNda3WJMUGJXvo1TYcoG/IYN9wdRYW70qPfUAcDq4YzMMqw8UDPV8LZARJBnvNtWXukozd1vSQ+dFMtccqECVBXMskw6ZvWxrUfkyvLwOKfqvU4p2wqaqiPXm1hr07V+F1+zgqTMATXR08JADLtHYLZZ/IBSHpJJSJXj/w6VYX/GxpdvIq64lrd84RExHFA6OvJBxmBnci/KkefkZAFi+0dDzxAuEknQBS7eg5SM3fJPv2ukH/2Usu10RC/PcIlBlbFjy/efK6GR9DgHblIvRZPCBlsbyx7satJlcHJyB6YcDTnoGgyEh1Xt7se5fOHb+BHXN+8UFxutx24uKX3LGDLqNtaeHGxd9/ceNRr3lwBrtk1dpQG5wg8t2EJNHDU6dv+ilXr4hTLFr2XlRgf6fNLzLU99sH8L/o6/Ken6ZWSKzQOULS+92jXpJ4Ykn9otnK5HQuj7pALak5a7hs7MInASBkzmMktctbFL88PZnLAuCSA6HxyzVxtj4/FyOALwlNB3AtE5sgw4lkczQpcTO74dqps5LCfzKzpw5JhoG6zHnzAmdd/fcRpFHIk4Db9Uhirp3+BF63KbEgHvDLBM80vO6RkX62zs5QubzpywognpSIKN4iWrg8eRHMrM7KmC2WSOEq3SWKF4In3kwMJ+okhfdC19LCHNu9iyf/cfIuykFky5YteOTCiRMn8GisITaCgKCQ3ra79a43AROrzoqLCME8M175ULCVgWj7c2/k522pL/vYpVpwymYxNhE6iHlwbk7mGu/Giq+6zE23rKKocC7ZM0tL438vNJllSWnJUax3V2uL5Rm0+1nxJOYuJlgqZaFNMmQGmkniiSV1Ge8483h3NV5xFQpgV25cL23nepa5qc2ZBYCTQ6ssPApbnYr4kpAV4VImtrglAk/CjLAZgTDSu6X+i7aOR0043DwIpHoZqxw9VdiTB3h+o8XPng6IuOvx6SXkNkUWxAPPMhnuuqP54F33rwpkJyQiiu8yPsSZvVuqypp+8EKrRBYvBE88MZyskxQOXcMtVR8euyy8DJAJbgRT50tHig07M0T3/j5Vtkqs7oO/FPQbCn5D+OrHaOCVOV6JnJQeLEt9cnDrgVEu7LjrpLjxo/3Sken0oSnQBdhlmrWITSsljytrHB9ujB2OMsc90RjxtuikjAaG+T+TrCu9U0T3aQAAAABJRU5ErkJggg==" alt=""></p><h3 id="drivermanager工具类" tabindex="-1"><a class="header-anchor" href="#drivermanager工具类"><span>DriverManager工具类</span></a></h3><p>DriverManager(驱动管理类)<strong>作用</strong>:</p><ol><li><strong>注册驱动</strong> (mysql5之后的驱动包将自动注册) <ol><li>注册驱动的过程: <ol><li><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</code>将<code>Driver类</code>的字节码加载到内存中，</li><li><code>Driver()</code>类中的<strong>静态代码块</strong>被执行：</li><li><img src="/assets/2022-11-14-22-14-18-C11Ppgxw.png" alt=""></li><li>DriverManager对象通过其自身的静态方法<code>DriverManager.registerDriver()</code>接收到<code>new Driver()</code>的实例对象</li></ol></li></ol></li><li><strong>获取数据库连接</strong><ul><li><code>DriverManager.getConnection(url,user,password);</code></li><li><code>url</code>格式：<code>jdbc:mysql://ip或域名:端口/数据库名称？参数名1=参数值1&amp;参数名2=参数值2</code><ul><li>简写： <ul><li><code>localhost:3306</code> 可简写为</li><li><code>jdbc:mysql:///数据库名称？参数名1=参数值1&amp;参数名2=参数值2</code></li><li><strong>在xml中的转义字符：</strong><code>&amp;</code> --&gt; <code>&amp;amp;</code></li></ul></li><li>参数配置： <ul><li><code>useSSL=false</code> 关闭不使用SSL安全连接时的提示</li><li><code>useServerPrepStemts=true</code> 开启sql语句预编译功能，防止sql注入</li></ul></li></ul></li></ul></li></ol><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> url</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;jdbc:mysql://localhost:3306/db1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//完整写法</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> url</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;jdbc:mysql:///db1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//简写</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> url</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;jdbc:mysql:///db1?useSSL=false&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//关闭不使用SSL安全连接时的提示</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;root&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;123456&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DriverManager</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">url</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="connection数据库连接对象" tabindex="-1"><a class="header-anchor" href="#connection数据库连接对象"><span>Connection数据库连接对象</span></a></h3><p><strong>作用</strong></p><ol><li><p><strong>获取sql执行器<code>Statement</code>、<code>PreparedStatement</code>、<code>CallableStatement</code>对象</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//获取普通sql执行器对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Statement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> statement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//获取预编译sql执行器对象:防止sql注入</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">PreparedStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> pstatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//执行存储过程的对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">CallableStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cstatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareCall</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>事务处理</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//开启事务：mysql为自动提交事务，设置为自动提交为false便是开启事务管理</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAutoCommit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">boolean</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> autoCommit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//提交事务</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">commit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//回滚事务</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>事务处理示例</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAutoCommit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//开启事务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   Statement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> statement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql语句1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql语句2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql语句3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">commit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//提交事务</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//捕获到任何异常便回滚数据</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAutoCommit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//关闭事务（如果需要）</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="statement-sql执行器对象" tabindex="-1"><a class="header-anchor" href="#statement-sql执行器对象"><span><code>Statement</code> sql执行器对象</span></a></h3><p><strong>作用</strong></p><ol><li><p>执行sql语句</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 执行 DML DDL语句</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * 返回值：</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//       * DML语句执行成功后影响的行数</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//       * DDL语句执行成功也可能返回0</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 执行DQL语句</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * 返回值：ResultSet 类型的结果集合对象，表示查询结果</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ResultSet</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> executeQuery</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="preparedstatement-预编译sql执行器对象-防止sql注入" tabindex="-1"><a class="header-anchor" href="#preparedstatement-预编译sql执行器对象-防止sql注入"><span><code>PreparedStatement</code> 预编译sql执行器对象:防止sql注入</span></a></h3><p><strong>概念</strong></p><ul><li><code>PreparedStatement</code> 继承自 <code>Statement</code> 对象</li></ul><p><strong>作用</strong></p><ul><li>预编译SQL语句并执行:预防sql注入</li></ul><p><strong>优点</strong></p><ul><li>防sql注入</li><li>高性能</li></ul><p><strong>防sql注入原理</strong>：</p><ul><li>对敏感字符和关键字进行了转义</li></ul><p><strong>高性能执行原理</strong></p><ul><li>sql语句提交给mysql服务器要完成一系列操作： <ul><li><strong>sql语句的语法检查</strong></li><li><strong>将sql语句编译成可执行函数</strong></li><li><img src="/assets/2022-11-15-01-41-47-D1woNGVK.png" alt=""></li></ul></li><li><code>PreparedStatement(sql模板字符串)</code> 调用时，会把sql模板语句发送给sql服务器进行预编译，且多次调用只会预编译一次。</li><li>程序在后续传入参数值时，不需要在进行预编译操作。直接执行sql的<strong>可执行函数</strong></li></ul><p><strong>sql注入</strong></p><ul><li>通过一定的手段，向程序输入预先编辑好的sql语句，以达到执行sql代码，完成一定的操作，对服务器进行攻击的目的。</li><li>如： <ul><li>若后端判断验证用户合法的sql是 <code>select * from users where username = &#39;输入的用户名&#39; and password = &#39;输入的密码&#39;</code>;</li><li>则在密码框输入<code>&#39;or &#39;1&#39;=&#39;1</code></li><li>sql的语句就变为了 <code>select * from users where username = &#39;输入的用户名&#39; and password = &#39;&#39; or &#39;1&#39;=&#39;1&#39;</code>;</li><li><img src="/assets/2022-11-15-00-43-02-B7NbmH_j.png" alt=""></li></ul></li></ul><p><strong>使用</strong></p><ul><li>使用？作为占位符，预编译sql语句</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> url</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;jdbc:mysql://localhost:3306/db1?useServerPrepStemts=true&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 启用预编译功能，不启用也行，但使用prepareStatement() 不会导致执行效率变高</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;root&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;123456&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DriverManager</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">url</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;admin&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;admin&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 使用？作为占位符，传入prepareStatement() 函数</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;select * from user where username = ? and password = ? &quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">PreparedStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> pstatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 预编译sql语句，多次执行不会导致mysql服务器多次预编译，只会编译一次</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">pstatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//给第1个？设置值</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">pstatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//给第2个？设置值</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ResultSet</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  pstatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeQuery</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//执行sql语句（不要传递参数）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">next</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;name&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 释放资源</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="resultset-结果集合对象" tabindex="-1"><a class="header-anchor" href="#resultset-结果集合对象"><span>ResultSet 结果集合对象</span></a></h3><p><strong>作用</strong><br> 0. 该实例对象的内容是sql的查询结果</p><ol><li><p>获取查询结果</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 遍历行</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * 游标指针：查询结果是一个二维表，游标指针初始指向表头所在行（数据行的上一行）</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * next()函数:该函数会使得游标指针指向下一行</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * 返回值: 布尔值，当前行是否是有效行（是否有数据）</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">boolean</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> next</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取某列的数据</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * 参数</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//       * int 列编号 从1开始编号</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//       * String 列名</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//    * 返回值</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//       * xxx数据类型的数据</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">xxx </span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getXxx</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">参数</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UserName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><strong>使用案例</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DriverManager</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">url</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Statement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> statement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ResultSet</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeQuery</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">next</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;name&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">   System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">statement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 释放资源</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据库连接池" tabindex="-1"><a class="header-anchor" href="#数据库连接池"><span>数据库连接池</span></a></h3><p><strong>数据库连接池简介</strong></p><ul><li>概念类似于线程池，数据连接的建立要耗费时间和计算资源，预先建立一定数量的数据库连接，按需分配，</li><li>数据库连接池是个容器，负责分配、管理数据库连接(Connection)</li></ul><p>数据库连接池的标准接口及常用实现类</p><ul><li><p><strong>接口</strong>： <code>DataSource</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//接口方法：</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Connection</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//获取池内的连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>实现类</strong>： <code>DBCP</code> <code>C3P0</code> <code>Druid</code></p></li></ul><h4 id="druid德鲁伊数据库连接池" tabindex="-1"><a class="header-anchor" href="#druid德鲁伊数据库连接池"><span>Druid德鲁伊数据库连接池</span></a></h4><p>Druid德鲁伊</p><ul><li>阿里巴巴开源数据库连接池</li><li>功能强大、性能优秀</li></ul><p><strong>Druid基本使用</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> test_for_druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//1.导入jar包</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">alibaba</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//2.编写配置文件</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //3.加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Properties</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // System.out.println(System.getProperty(&quot;user.dir&quot;));//查看当前所在目录</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">load</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./src/test_for_druid/druid.properties&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //4.获取连接池对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        DataSource</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createDataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //5.从连接池中获取连接对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Druid配置文件</strong></p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># jdbc驱动类名</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">driverClassName</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">com.mysql.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">jdbc:mysql:///db5?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">useSSL</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">false&amp;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">useServerPrepStmts</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">true</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">username</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">root</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">password</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">root</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># 初始连接数</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">initialSize</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">5</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># 最大连接数</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maxActive</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">10</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># 最大等待时间</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maxWait</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jdbc练习" tabindex="-1"><a class="header-anchor" href="#jdbc练习"><span>JDBC练习</span></a></h3><h4 id="查询数据" tabindex="-1"><a class="header-anchor" href="#查询数据"><span>查询数据</span></a></h4><p><strong>数据准备</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db5;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> db5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db5;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tb_brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- id</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> auto_increment,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 品牌名</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   brand_name </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 公司名</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   company_name </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   ordered </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   description</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">100</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   status</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> int</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    tb_brand(brand_name,company_name,ordered,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">description</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">status</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    values</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三只松鼠&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三只松鼠股份有限公司&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;好吃不上火&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;华为&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;华为技术有限公司&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;华为致力于把数字技术带入每个人、每个家庭、每个组织，构建万物互联的智能世界&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;小米&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;小米科技有限公司&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;Are you ok?&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">SELECT</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tb_brand;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查询表中所有数据案例</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> test_for_druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">PreparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ResultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">LinkedList</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//1.导入jar包</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">alibaba</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//2.编写配置文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //3.加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Properties</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // System.out.println(System.getProperty(&quot;user.dir&quot;));//查看当前所在目录</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">load</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./src/test_for_druid/druid.properties&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //4.获取连接池对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        DataSource</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createDataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //5.从连接池中获取连接对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 定义sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;select * from tb_brand&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取sql预编译对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        PreparedStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //执行查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        ResultSet</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resultSet</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeQuery</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banners</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> LinkedList</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //遍历结果并存入数组</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        while</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">next</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()){</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            banners</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;ordered&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;description&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                resultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">                ));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">banners</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 品牌名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 公司名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\n</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">Banner [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, brand_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, company_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, ordered=&quot;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, description=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, status=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="插入数据" tabindex="-1"><a class="header-anchor" href="#插入数据"><span>插入数据</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> test_for_druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">PreparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ResultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">LinkedList</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//1.导入jar包</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">alibaba</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//2.编写配置文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //3.加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Properties</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // System.out.println(System.getProperty(&quot;user.dir&quot;));//查看当前所在目录</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">load</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./src/test_for_druid/druid.properties&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //4.获取连接池对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        DataSource</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createDataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //5.从连接池中获取连接对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // Banner 获取数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Banner</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;生命有限&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;生命有限公司&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;当了程序员，寿命减十年&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 定义sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;insert tb_brand(brand_name,company_name,ordered,description,status) values(?,?,?,?,?)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取sql预编译对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        PreparedStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 设置值</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getBrand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getCompany_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //执行查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新成功&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新失败&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 品牌名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 公司名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\n</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">Banner [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, brand_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, company_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, ordered=&quot;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, description=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, status=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getBrand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getCompany_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="更新数据" tabindex="-1"><a class="header-anchor" href="#更新数据"><span>更新数据</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> test_for_druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">PreparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ResultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">LinkedList</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//1.导入jar包</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">alibaba</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//2.编写配置文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //3.加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Properties</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // System.out.println(System.getProperty(&quot;user.dir&quot;));//查看当前所在目录</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">load</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./src/test_for_druid/druid.properties&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //4.获取连接池对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        DataSource</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createDataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //5.从连接池中获取连接对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // Banner 获取数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Banner</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;生命有限&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;生命有限公司&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 9999</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;当了程序员，寿命减十年......&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 定义sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;update tb_brand set brand_name=?, company_name=?, ordered=?, description=?, status=? where id =?&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取sql预编译对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        PreparedStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 设置值</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getBrand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getCompany_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //执行查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新成功&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新失败&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 品牌名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 公司名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\n</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">Banner [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, brand_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, company_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, ordered=&quot;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, description=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, status=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getBrand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getCompany_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除数据" tabindex="-1"><a class="header-anchor" href="#删除数据"><span>删除数据</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> test_for_druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">PreparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ResultSet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">LinkedList</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//1.导入jar包</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">alibaba</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">druid</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//2.编写配置文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //3.加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Properties</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Properties</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // System.out.println(System.getProperty(&quot;user.dir&quot;));//查看当前所在目录</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">load</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> FileInputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./src/test_for_druid/druid.properties&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //4.获取连接池对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        DataSource</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  DruidDataSourceFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">createDataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //5.从连接池中获取连接对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Connection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> connection</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> dataSource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getConnection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // Banner 获取数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 定义sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sql</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;delete from tb_brand where id = ?&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取sql预编译对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        PreparedStatement</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">  connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">prepareStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">sql</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 设置值</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setInt</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //执行查询</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">executeUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新成功&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新失败&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        preparedStatement</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        connection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 品牌名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 公司名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Banner</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">company_name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#EA76CB;--shiki-dark:#D7BA7D;">\n</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">Banner [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, brand_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, company_name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, ordered=&quot;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, description=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, status=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getBrand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getCompany_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> company_name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="maven" tabindex="-1"><a class="header-anchor" href="#maven"><span>Maven</span></a></h2><p>Maven是专门用于管理和构建Java项目的工具，基于项目对象模型（POM）的概念，它的主要功能有:</p><ul><li>提供了一套标准化的项目结构，通过Maven使得不同IDE创建的项目结构一致</li><li>提供了一套标准化的构建流程(编译，测试，打包，发布......)</li><li>提供了一套依赖管理机制</li></ul><p><strong>标准化的项目结构</strong><br><img src="/assets/2022-11-16-00-15-30-DMt7Fq_q.png" alt=""></p><p><strong>标准化的构建流程</strong><br><img src="/assets/2022-11-16-00-21-33-B7RE_vnK.png" alt=""></p><p><strong>依赖管理机制</strong><br><img src="/assets/2022-11-16-00-20-55-CPfj9kgq.png" alt=""></p><p><strong>maven模型</strong></p><ul><li>POM</li><li>dependency</li><li>Plugin<br><img src="/assets/2022-11-16-00-30-15-D5jCWThW.png" alt=""></li></ul><p><strong>Maven仓库</strong></p><ul><li>本地仓库:自己计算机上的一个目录</li><li>中央仓库:由Maven团队维护的全球唯─的仓库 <ul><li>地址: <a href="https://repo1.maven.org/maven2/" target="_blank" rel="noopener noreferrer">https://repo1.maven.org/maven2/</a></li></ul></li><li>远程仓库(私服):由公司团队搭建的私有仓库</li><li>jar包的查找顺序 <ul><li>一般引入顺序 <ul><li>项目中使用坐标引入对应依赖jar包，</li><li>首先会查找本地仓库中是否有对应的jar包:</li><li>如果有，则在项目直接引用;</li><li>如果没有，则去中央仓库中下载对应的jar包到本地仓库然后引用。</li></ul></li><li>搭建远程仓库(私服)后，jar包的查找顺序 <ul><li>本地仓库→远程仓库→中央仓库</li></ul></li></ul></li></ul><p><img src="/assets/2022-11-16-00-32-01-BngeGBo5.png" alt=""></p><p><strong>安装配置</strong><br><img src="/assets/2022-11-16-02-06-18-BQR9WKF2.png" alt=""></p><p><strong>配置本地仓库所在路径</strong><code>apache-maven-3.6.3\conf\settings.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">localRepository</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">D:\Program Files\maven\repository</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">localRepository</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>配置镜像</strong><code>apache-maven-3.6.3\conf\settings.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mirrors</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">     &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mirror</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">id</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">aliyunmaven</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">id</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mirrorOf</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">*</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mirrorOf</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">阿里云公共仓库</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">https://maven.aliyun.com/repository/public</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mirror</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mirrors</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>坐标</strong></p><ul><li>Maven 中的坐标是资源的唯一标识</li><li>使用坐标来定义项目或引入项目中需要的依赖</li><li>Maven 坐标主要组成 <ul><li><code>groupld</code>: 定义当前Maven项目隶属组织名称（通常是域名反写，例如: com.itheima)</li><li><code>artifactld</code>: 定义当前Maven项目名称(通常是模块名称，例如order-service、goods-service)</li><li><code>version</code>: 定义当前项目版本号</li></ul></li></ul><p><strong>定义项目</strong><br><img src="/assets/2022-11-16-22-32-44-CSEYpFq7.png" alt=""></p><p><strong>定义引入项目中需要的依赖项目</strong><br><img src="/assets/2022-11-16-22-33-02-BmFsI4u4.png" alt=""></p><p><strong>常用命令</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"># Maven常用命令</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">cd</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> project_root</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mvn</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> compile</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 编译</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mvn</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> clean</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 清理</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mvn</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> test</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 测试</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mvn</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> package</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 打包</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">mvn</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> # 安装</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>生命周期</strong><br><img src="/assets/2022-11-16-21-57-43-D2PX2JCc.png" alt=""><br><img src="/assets/2022-11-16-21-58-56-CspexXHj.png" alt=""></p><p><strong>依赖管理</strong></p><ul><li><code>scope</code>可以设置对应jar包的作用范围</li><li>作用范围 <ul><li>编译环境</li><li>测试环境</li><li>运行环境</li></ul></li></ul><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">junit</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">junit</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">4.11</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">test</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- scope指定依赖的作用范围 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-17-08-31-04-wwoE-h_u.png" alt=""></p><h2 id="mybatis" tabindex="-1"><a class="header-anchor" href="#mybatis"><span>myBatis</span></a></h2><ul><li><p>MyBatis是一款优秀的<code>持久层</code><strong>框架</strong>，用于简化<code>JDBC</code>开发</p></li><li><p>MyBatis 本是 Apache的一个开源项目<code>iBatis</code>, 2010年这个项目由apache software foundation迁移到了google code，并且改名为MyBatis。2013年11月迁移到Github</p></li><li><p>官网: <a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer">https://mybatis.org/mybatis-3/zh/index.html</a></p></li></ul><p><strong>持久层</strong></p><ul><li>负责将数据到保存到数据库的那一层代码</li><li>JavaEE三层架构: <ul><li>表现层 页面展示</li><li>业务层 逻辑处理</li><li>持久层</li></ul></li></ul><p><strong>JDBC缺点</strong><br><img src="/assets/2022-11-17-09-25-52-Dqfyx9hm.png" alt=""></p><p><strong>maBatis对JDBC的简化</strong><br><img src="/assets/2022-11-17-09-32-01-C1Yt98B_.png" alt=""></p><p><strong>简单示例：基本步骤</strong><br><img src="/assets/2022-11-26-20-50-57-DERngmqo.png" alt=""></p><h3 id="mybatis简单示例" tabindex="-1"><a class="header-anchor" href="#mybatis简单示例"><span>myBatis简单示例</span></a></h3><h4 id="使用示例1-mybatis简单示例" tabindex="-1"><a class="header-anchor" href="#使用示例1-mybatis简单示例"><span>使用示例1:myBatis简单示例</span></a></h4><p><strong>准备数据</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db5;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tb_user</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> auto_increment,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    name</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    password</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    gender </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">char</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    addr </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tb_user(id,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">password</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,gender,addr) </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">values</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;张三&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;123&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;北京&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;李四&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;123&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;北京&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    (</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;王五&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;123&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;北京&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编辑maven项目配置文件<code>pom.xml</code>,配置相关依赖</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      &lt;!-- mybatis --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.mybatis</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mybatis</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.5.5</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      &lt;!-- mysql的JDBC驱动 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mysql</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mysql-connector-java</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">5.1.46</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编辑mybatis配置文件 <code>src/main/resources/mybatis-config.xml</code></strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> default</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">transactionManager</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;JDBC&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;POOLED&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;driver&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 填mysql的驱动的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;url&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;jdbc:mysql:///db5?useSSL=false&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填mysql数据库的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填数据库的username --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- 填数据库的password --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./UserMapper.xml&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填sql语句的映射文件路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编辑sql语句映射文件<code>src/main/resources/UserMapper.xml</code></strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;namespaceTest1&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 在程序中需要通过 `命名空间.sql语句id` 执行该命令  --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">   &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAllUsers&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.User&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- resultType是User类的类型  --&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      select * from tb_user</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">   &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>定义User类<code>src/main/java/com/example/pojo/User.java</code></strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> gender</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> addr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getGender</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> gender</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setGender</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> gender</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">gender</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> gender</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getAddr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> addr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setAddr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> addr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">addr</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> addr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;User [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, name=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> name </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, password=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, gender=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> gender </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, addr=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> addr</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                +</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>执行sql语句</strong><br><code>src/main/java/com/example/testSelectAll.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> testSelectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">         </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //通过 `命名空间.sql语句ID` 执行sql语句，结果会自动封装到`List&lt;User&gt;`中</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> users</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectList</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;namespaceTest1.selectAllUsers&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 这里依然存在把字符串写到程序中的硬编码问题，需要后续进一步解决</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">users</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 释放资源</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：<br><img src="/assets/2022-11-17-19-33-14-BQtptuJN.png" alt=""></p><h4 id="使用示例2-使用mapper代理方式" tabindex="-1"><a class="header-anchor" href="#使用示例2-使用mapper代理方式"><span>使用示例2:使用Mapper代理方式</span></a></h4><p><strong>目的</strong>：解决前一种方法中存在的硬编码问题<br><img src="/assets/2022-11-26-21-45-33-CvsgLlLR.png" alt=""></p><p>配置过程<br><img src="/assets/2022-11-17-19-24-17-DXVZ4BUf.png" alt=""></p><p>0.修改配置</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> default</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">transactionManager</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;JDBC&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;POOLED&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        &lt;!-- </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            use db5;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            create table tb_user(</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                id int primary key auto_increment,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                name varchar(20),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                password varchar(20),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                gender char(1),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                addr varchar(30)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            );</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            insert into </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            tb_user(id,name,password,gender,addr) </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            values</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                (1,&quot;张三&quot;,&quot;123&quot;,&quot;男&quot;,&quot;北京&quot;),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                (2,&quot;李四&quot;,&quot;123&quot;,&quot;男&quot;,&quot;北京&quot;),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                (3,&quot;王五&quot;,&quot;123&quot;,&quot;男&quot;,&quot;北京&quot;)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            ;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">         --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;driver&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 填mysql的驱动的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;url&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;jdbc:mysql:///db5?useSSL=false&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填mysql数据库的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填数据库的username --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- 填数据库的password --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    &lt;!-- &lt;mapper resource=&quot;com/example/mapper/UserMapper.xml&quot;/&gt;   --&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 填sql语句的映射文件路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 使用这种Mapper代理的方式便可以用这种包扫描的写法 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.定义接口：<code>src/main/java/com/example/mapper/UserMapper.java</code></p><ul><li>注意存放路径</li><li>注意接口的函数名、形参列表、返回值都和<code>UserMapper.xml</code>中的sql语句有关</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 函数名要和UserMapper.xml中的id名一致</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.修改：<code>src/resources/com/example/mapper/UserMapper.xml</code></p><ul><li>注意存放路径，<code>UserMapper.xml</code>原本应当存放在和<code>UserMapper.java</code>相同的位置，但xml文件应当统一放在resources目录下，且resources目录下的文件打包后将会放到项目根目录，所以存放在<code>/resources/com/example/mapper/</code>目录下，打包后也会存放在<code>UserMapper.java</code>所在目录</li></ul><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.UserMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- namespace改为接口类 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.User&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- id为接口的函数名 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_user</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.获取UserMapper接口的代理对象</p><ul><li><code>session.getMapper(UserMapper.class)</code>的作用就是实现一个接口代理然后提供代理。</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> testSelectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 方法一：通过 `命名空间.sql语句ID` 执行sql</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // List&lt;User&gt; users = session.selectList(&quot;namespaceTest1.selectAllUsers&quot;);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 方法二：通过mapper</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        UserMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> users</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">users</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><p><img src="/assets/2022-11-17-19-33-14-BQtptuJN.png" alt=""></p><h3 id="核心配置文件" tabindex="-1"><a class="header-anchor" href="#核心配置文件"><span>核心配置文件</span></a></h3><p><a href="https://mybatis.net.cn/" target="_blank" rel="noopener noreferrer">文档:https://mybatis.net.cn/</a><br><img src="/assets/2022-11-27-20-50-29-D_mL9kB8.png" alt=""></p><p><strong>包别名</strong></p><ul><li>当这样配置时， <code>Blog</code> 可以用在任何使用 全限名 <code>domain.blog.Blog</code> 的地方。</li></ul><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">typeAliases</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">typeAlias</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> alias</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;Author&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;domain.blog.Author&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 单独配置 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;domain.blog&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 包扫描方式配置 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">typeAliases</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询数据-1" tabindex="-1"><a class="header-anchor" href="#查询数据-1"><span>查询数据</span></a></h3><h4 id="多查询selectall" tabindex="-1"><a class="header-anchor" href="#多查询selectall"><span>多查询selectAll</span></a></h4><p><strong>数据准备</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">drop</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> if</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> exists</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db5;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> database</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> db5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">use</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db5;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">create</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> table</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> tb_brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- id</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> primary key</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> auto_increment,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 品牌名</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   brand_name </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 公司名</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   company_name </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">   ordered </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   description</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> varchar</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">100</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   -- 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">   status</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> int</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">insert into</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    tb_brand(brand_name,company_name,ordered,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">description</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">status</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    values</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三只松鼠&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三只松鼠股份有限公司&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;好吃不上火&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;华为&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;华为技术有限公司&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;华为致力于把数字技术带入每个人、每个家庭、每个组织，构建万物互联的智能世界&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;小米&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;小米科技有限公司&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&#39;Are you ok?&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">SELECT</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> from</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tb_brand;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>mybatis配置文件修改</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> default</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">transactionManager</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;JDBC&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;POOLED&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;driver&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 填mysql的驱动的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;url&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;jdbc:mysql:///db5?useSSL=false&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填mysql数据库的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填数据库的username --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- 填数据库的password --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 包扫描方式 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编写<code>pojo.Brand</code>类</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">             // -- id</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      // -- 品牌名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // -- 公司名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // -- 排序优先级</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     // -- 描述</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">         // -- 状态：1 启用 0 禁用</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getBrandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setBrandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getCompanyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setCompanyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ordered</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">description</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Brand [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, brandName=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brandName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, companyName=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> companyName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, ordered=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ordered</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">                +</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, description=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> description </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, status=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编写<code>BrandMapper.java</code>接口类</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编写<code>BrandMapper.xml</code></strong></p><ul><li><p>方法一：原始写法，由于数据库中字段名称为 <code>brand_name</code> 类中相应字段名称为 <code>brandName</code> 两者不一致，在封装数据阶段会出现问题。</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>方法二：修改sql语句，修改字段别名使其与类中字段名称一致</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       brand_name as brandName,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       company_name as companyName,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       ordered,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       description,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       status,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>方法三：定义sql片段</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">sql</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_colums&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 定义sql片段 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       id,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       brand_name as brandName,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       company_name as companyName,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       ordered,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       description,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">       status,</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">sql</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">       &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">include</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> refid</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_colums&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 引用sql片段 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>方法四：使用resultMap</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_resultMap&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 定义resultMap --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">       &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">       &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">sql</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_resultMap&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- resultMap = brand_resultMap --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>编写<code>testBrand.java</code>测试类</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">junit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Test</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> testBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testSelectAllBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 方法一：通过 `命名空间.sql语句ID` 执行sql</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // List&lt;User&gt; users = session.selectList(&quot;namespaceTest1.selectAllUsers&quot;);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 方法二：通过mapper</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brands</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brands</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="单查询selectbyid" tabindex="-1"><a class="header-anchor" href="#单查询selectbyid"><span>单查询selectById</span></a></h4><p>修改<code>BrandMapper.xml</code></p><p><strong>注意点</strong></p><ul><li>sql语句<code>参数占位符</code><ul><li><code>#{}</code>占位符 等效于 <code>?</code> 也是就是<code>jdbc</code>里的<code>PreparedStatement</code>,有防sql注入的作用</li><li><code>${}</code>占位符 1以字符串方式拼接字符串，<code>存在sql注入问题</code><ul><li>可用于动态确定列名或表名 <ul><li><code>select ${columName1}</code></li><li><code>from ${tableName}</code></li></ul></li></ul></li></ul></li><li>返回值 <ul><li><code>parameterType=&quot;int&quot;</code> 可省略</li></ul></li><li><strong>特殊字符的处理</strong>：在xml中编写sql语句的<code>&lt;</code>等的特殊字符 <ul><li><code>转义字符</code> <code>&lt;</code> =&gt; <code>&amp;lt;</code></li><li><code>CDATA区</code> <code>&lt;![CDATA[ 这里可以填特殊字符 ]]&gt;</code></li></ul></li></ul><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> parameterType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;int&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand where id=#{id};</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改<code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Brand</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编写测试类</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">junit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Test</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> testBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testSelectBrandById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 方法一：通过 `命名空间.sql语句ID` 执行sql</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // List&lt;User&gt; users = session.selectList(&quot;namespaceTest1.selectAllUsers&quot;);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 方法二：通过mapper</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brands</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brands</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-"><span class="line"><span>Brand [id=1, brandName=三只松鼠, companyName=三只松鼠股份有限公司, ordered=5, description=好吃不上火, status=0]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="多条件查询-散装参数" tabindex="-1"><a class="header-anchor" href="#多条件查询-散装参数"><span>多条件查询：散装参数</span></a></h4><p><strong>多条件查询参数的接收</strong></p><ol><li><code>散装参数</code> 要使用注解<code>@Param(&quot;字段名&quot;)</code>和sql的<code>${字段名}</code>要一致</li><li><code>对象参数</code> 要保证<code>对象属性名</code>和sql的<code>${}</code>要一致</li><li><code>map集合参数</code> 要保证<code>map键</code>和sql的<code>${}</code>要一致</li></ol><p><code>BrandMapper.xml</code>核心代码</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectByCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and company_name like #{companyName} </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code>核心代码</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Brand</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">     status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">  companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">     String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">  brandName</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    );</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>testBrand.java</code>测试代码</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testSelectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 模拟获取到查询数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 对数据处理</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    companyName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    brandName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brands</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">    System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brands</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="多条件查询-对象参数" tabindex="-1"><a class="header-anchor" href="#多条件查询-对象参数"><span>多条件查询：对象参数</span></a></h4><p><code>BrandMapper.xml</code>核心代码</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectByCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and company_name like #{companyName} </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code>核心代码</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Brand</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">     status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">  companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">     String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">  brandName</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-----------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-----------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>testBrand.java</code>测试代码</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testSelectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 模拟获取到查询数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 对数据处理</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        companyName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        brandName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-----------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> searchBrand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCompanyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setBrandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-----------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-----------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brands</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-----------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brands</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="多条件查询-集合参数" tabindex="-1"><a class="header-anchor" href="#多条件查询-集合参数"><span>多条件查询：集合参数</span></a></h4><p><code>testBrand.java</code>测试代码</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testSelectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 模拟获取到查询数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 对数据处理</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        companyName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        brandName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Object</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> searchBrand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HashMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">put</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">put</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">put</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brands</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brands</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="多条件-动态条件查询where标签或1-1恒等式" tabindex="-1"><a class="header-anchor" href="#多条件-动态条件查询where标签或1-1恒等式"><span>多条件-动态条件查询<code>where标签或1=1恒等式</code></span></a></h4><ul><li><p>if 条件判断：用于判断传入的参数是否有值</p><ul><li>test 逻辑表达式</li></ul></li><li><p>存在问题：<code>status==null</code>时，第二个<code>if</code>中的<code>and</code>将导致<code>sql语法错误</code></p><ul><li><strong><code>1=1</code>恒等式</strong>解决</li><li><code>where</code>标签解决</li></ul></li></ul><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> parameterType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;int&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    &lt;![CDATA[ </span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">      select * from tb_brand where id=#{id};</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    ]]&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectByCondition --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectByCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status!=null&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; company_name!=null and company_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    and company_name like #{companyName} </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; brand_name!=null and brand_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>1=1</code>恒等式解决问题</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> parameterType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;int&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    &lt;![CDATA[ </span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">      select * from tb_brand where id=#{id};</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    ]]&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectByCondition --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectByCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    1=1</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status!=null&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; company_name!=null and company_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    and company_name like #{companyName} </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; brand_name!=null and brand_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>1=1</code>恒等式解决问题</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> parameterType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;int&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    &lt;![CDATA[ </span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">      select * from tb_brand where id=#{id};</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    ]]&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectByCondition --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectByCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    1=1</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status!=null&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; company_name!=null and company_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    and company_name like #{companyName} </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; brand_name!=null and brand_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      and brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>where</code>标签解决</strong><br> where标签能自动去掉多余的and or</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectAll --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectById --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> parameterType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;int&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    &lt;![CDATA[ </span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">      select * from tb_brand where id=#{id};</span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">    ]]&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectByCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- where标签会帮你自动去掉多余的and or 如果没有任何条件会去掉自身 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status!=null&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        and status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; company_name!=null and company_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        and company_name like #{companyName} </span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; brand_name!=null and brand_name!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        and brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="单条件-动态条件查询-when-choose-otherwise" tabindex="-1"><a class="header-anchor" href="#单条件-动态条件查询-when-choose-otherwise"><span>单条件-动态条件查询<code>:when:choose:otherwise</code></span></a></h4><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.mapper.BrandMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.example.pojo.Brand&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brand_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">result</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> column</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;company_name&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> property</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">resultMap</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectBySingleCondition&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultMap</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BrandColumMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_brand</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- where标签会帮你自动去掉多余的and or 如果没有任何条件会去掉自身 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">choose</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status!=null&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        status = #{status}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName!=null and companyName!=&#39;&#39;&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          company_name like #{companyName}</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">          &lt;!-- 此处的companyName的命名规则最好是和对象的属性名保持一致，以避免后续产生的问题 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; brandName!=null and brandName!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          brand_name like #{brandName}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">when</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">otherwise</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          1=1</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">otherwise</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">choose</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">where</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Brand</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;status&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">     status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">   String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">  companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;brandName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">     String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;">  brandName</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Object</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectBySingleCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Object</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//-------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>测试</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HashMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">junit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Test</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> testBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testSelectByCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Exception</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 模拟获取到查询数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;华为&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 对数据处理</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        companyName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        brandName </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;%&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brandName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;%&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Object</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> searchBrand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HashMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // searchBrand.put(&quot;status&quot;,status);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">put</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;companyName&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">companyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // searchBrand.put(&quot;brandName&quot;,brandName);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brands</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectBySingleCondition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">searchBrand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brands</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="增添数据" tabindex="-1"><a class="header-anchor" href="#增添数据"><span>增添数据</span></a></h3><h4 id="插入单条数据" tabindex="-1"><a class="header-anchor" href="#插入单条数据"><span>插入单条数据</span></a></h4><p><code>BrandMapper.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">insert</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;add&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    insert into tb_brand(brand_name,company_name,ordered,description,status) </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    values(#{brandName},#{companyName},#{ordered},#{description},#{status});</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">insert</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>测试类</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testAdd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 模拟获取到查询数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 封装数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setBrandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三星&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCompanyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三星公司&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;我们有全世界最好用的电池&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 第一个参数为autoCommit 默认为false 也就是默认开启事务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // jdbc默认为手动提交事务</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">commit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//手动提交</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;添加成功&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//回滚</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="插入单条数据-返回主键" tabindex="-1"><a class="header-anchor" href="#插入单条数据-返回主键"><span>插入单条数据：返回主键</span></a></h4><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      useGeneratedKeys=&quot;true&quot;  keyProperty=&quot;id&quot; </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      useGeneratedKeys 表示返回生成的主键，</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      keyProperty 指定要封装到对象的什么字段中</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">insert</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;add&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> useGeneratedKeys</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;true&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">  keyProperty</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    insert into tb_brand(brand_name,company_name,ordered,description,status) </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    values(#{brandName},#{companyName},#{ordered},#{description},#{status});</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">insert</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testAdd</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 模拟获取到查询数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 封装数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setBrandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三星&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCompanyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三星公司&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;我们有全世界最好用的电池&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 第一个参数为autoCommit 默认为false 也就是默认开启事务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // jdbc默认为手动提交事务</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">add</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">commit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//手动提交</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 输出id</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;添加成功&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//回滚</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改数据" tabindex="-1"><a class="header-anchor" href="#修改数据"><span>修改数据</span></a></h3><h4 id="修改全部字段" tabindex="-1"><a class="header-anchor" href="#修改全部字段"><span>修改全部字段</span></a></h4><p><code>BrandMapper.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">update</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;update&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    update </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    set</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      brand_name=#{brandName},</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      company_name=#{companyName},</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      ordered=#{ordered},</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      description=#{description},</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      status=#{status}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      id = #{id}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">update</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 返回值可为void 也可为int，为int时，返回影响的行数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>测试类</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testUpdate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 模拟获取到查询数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 封装数据</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Brand</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brand</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setBrandName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三星&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCompanyName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;三星公司&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setDescription</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;我们不生产电池，我们只是炸弹的搬运工&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setOrdered</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 第一个参数为autoCommit 默认为false 也就是默认开启事务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// jdbc默认为手动提交事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> affectedRows</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">update</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">commit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//手动提交</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;更新成功,影响的行数：&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">affectedRows</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//回滚</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="修改任意字段set-if" tabindex="-1"><a class="header-anchor" href="#修改任意字段set-if"><span>修改任意字段<code>set:if</code></span></a></h4><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">update</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;update&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    update </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      tb_brand</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">set</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 用set标签来避免由if产生的逗号问题 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; brandName!=null and brandName!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        brand_name=#{brandName},</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; companyName!=null and companyName!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        company_name=#{companyName},</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; ordered!=null &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        ordered=#{ordered},</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; description!=null and description!=&#39;&#39; &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        description=#{description},</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> test</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot; status!=null &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        status=#{status}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">if</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">set</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      id = #{id}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">update</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除数据-1" tabindex="-1"><a class="header-anchor" href="#删除数据-1"><span>删除数据</span></a></h3><h4 id="删除单个deletebyid" tabindex="-1"><a class="header-anchor" href="#删除单个deletebyid"><span>删除单个deleteById</span></a></h4><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- deleteById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;deleteById&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    delete </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      from </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      where </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        id = #{id}</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    ;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> deleteById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testdeleteById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> affectedRows</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">deleteById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;删除成功,影响的行数：&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">affectedRows</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除多个deletebyid-不使用注解版" tabindex="-1"><a class="header-anchor" href="#删除多个deletebyid-不使用注解版"><span>删除多个<code>deleteById</code>:<code>不使用注解版</code></span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> deleteByIds</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ids</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 删除多个</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- deleteByIds --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;deleteByIds&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  delete </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    from </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      id in </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">foreach</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> collection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;array&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> separator</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> open</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;(&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> close</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;)&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- mybaties会将数组的参数封装为map集合，其key为array，value为数组 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          ${id}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">foreach</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  ;    </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Test</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> testdeleteByIds</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> throws Exception </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> ids</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 第一个参数为autoCommit 默认为false 也就是默认开启事务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        BrandMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> affectedRows</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> brandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">deleteByIds</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">ids</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;删除成功,影响的行数：&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">affectedRows</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除多个deletebyid-使用注解版" tabindex="-1"><a class="header-anchor" href="#删除多个deletebyid-使用注解版"><span>删除多个<code>deleteById</code>:<code>使用注解版</code></span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/* </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   mybaties会将数组的参数封装为map集合，</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      默认其key为array，value为数组</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">      使用@Param(&quot;ids&quot;)，可将key改为ids</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">*/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> deleteByIds</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;ids&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">  int</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> ids</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 删除多个</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- deleteByIds --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;deleteByIds&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  delete </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    from </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      tb_brand</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    where </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">      id in </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">foreach</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> collection</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;ids&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> separator</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> open</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;(&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> close</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;)&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- collection指定键名 --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">          ${id}</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">foreach</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  ;    </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">delete</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mybatis对参数的封装" tabindex="-1"><a class="header-anchor" href="#mybatis对参数的封装"><span>myBatis对参数的封装</span></a></h3><p>MyBatis 接口方法中可以接收各种各样的参数，MyBatis底层对于这些参数进行不同的封装处理方式</p><p><strong>对于单个参数</strong></p><ul><li>基本类型： <ul><li>直接使用，<code>形参名</code> 和 <code>sql参数占位符</code> 可任意，</li></ul></li><li>POJO类型：直接使用，<code>对象的属性名</code>需和<code>sql参数占位符</code>名称 一致</li><li>Map集合：直接使用，<code>键名</code>需和<code>sql参数占位符</code>名称 一致</li><li>Collection： 内部自动封装为map集合 <ul><li><code>map.put(&quot;arg0&quot;,connection)</code> 使用注解<code>@Param(&quot;修改默认的arg键名&quot;)</code></li><li><code>map.put(&quot;connection&quot;,connection)</code></li></ul></li><li>list: 内部自动封装为map集合 <ul><li><code>map.put(&quot;arg0&quot;,原lsit集合)</code> 使用注解<code>@Param(&quot;修改默认的arg键名&quot;)</code></li><li><code>map.put(&quot;connection&quot;,原lsit集合)</code></li><li><code>map.put(&quot;list&quot;,原lsit集合)</code></li></ul></li><li>array：内部自动封装为map集合 <ul><li><code>map.put(&quot;arg0&quot;,原array数组)</code> 使用注解<code>@Param(&quot;修改默认的arg键名&quot;)</code></li><li><code>map.put(&quot;array&quot;,原array数组)</code><br><strong>对于多个参数</strong></li></ul></li><li>多个参数会封装为map集合 <ul><li><code>map.put(&quot;arg0&quot;,形式参数0)</code> 使用注解<code>@Param(&quot;修改默认的arg键名&quot;)</code></li><li><code>map.put(&quot;param0&quot;,形式参数0)</code></li><li><code>map.put(&quot;arg1&quot;,形式参数1)</code></li><li><code>map.put(&quot;param1&quot;,形式参数1)</code></li></ul></li></ul><p><strong>题目</strong><br><img src="/assets/2022-11-28-12-48-27-44ggluxB.png" alt=""></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-"><span class="line"><span>应该为：</span></span>
<span class="line"><span>user.userName</span></span>
<span class="line"><span>user.password</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用注解完成简单sql操作" tabindex="-1"><a class="header-anchor" href="#使用注解完成简单sql操作"><span>使用注解完成简单sql操作</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">example</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BrandMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;select *,brand_name as brandName,company_name as companyName from tb_brand;&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Brand</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;select *,brand_name as brandName,company_name as companyName from tb_brand where id = #{id};&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Brand</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat"><span>Tomcat</span></a></h2><ul><li><p>Tomcat 是一个轻量级的Web服务器，</p></li><li><p>支持Servlet/JSP少量JavaEE规范，</p></li><li><p>也称为Web容器，Servlet容器</p></li></ul><p><strong>解压后目录结构</strong></p><p><img src="/assets/2022-11-28-15-56-00-Cn-fxpw4.png" alt=""></p><p><strong>启动与关闭</strong><br><img src="/assets/2022-11-28-15-59-22-CAidJPRs.png" alt=""></p><p><strong>配置</strong><br><img src="/assets/2022-11-28-18-10-33-ClX1lbxE.png" alt=""></p><p><strong>部署</strong><br><img src="/assets/2022-11-28-18-17-24-E4gYmOt6.png" alt=""></p><p><code>xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>javaWeb项目目录结构</strong><br><img src="/assets/2022-11-28-18-22-06-CH5lTOjF.png" alt=""></p><p><strong>在idea中通过本地tomCat启动javaWeb项目</strong><br><img src="/assets/2022-11-28-18-47-30-CHCLQYKK.png" alt=""></p><p><strong>在javaWeb项目中集成tomCat</strong><br><img src="/assets/2022-11-28-18-48-08-BO_cfQd2.png" alt=""></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">build</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">finalName</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">finalName</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.apache.tomcat.maven</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tomcat7-maven-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">port</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">8088</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">port</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">/</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.apache.tomcat.maven</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tomcat6-maven-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.3-SNAPSHOT</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">build</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-28-18-49-56-B7PUkLb-.png" alt=""></p><h2 id="servlet" tabindex="-1"><a class="header-anchor" href="#servlet"><span>Servlet</span></a></h2><ul><li><p>Servlet已经是一个非常非常古老的技术了，</p></li><li><p>而且在实际开发中几乎不会用到，</p></li><li><p>在面试中也几乎不会问到Servlet相关的知识。</p></li><li><p><code>但Struts2和SpringMVC框架，底层都是跟Servlet有关</code></p></li></ul><h3 id="什么是servlet" tabindex="-1"><a class="header-anchor" href="#什么是servlet"><span>什么是Servlet</span></a></h3><blockquote><p>servlet程序是由servlet容器（即tomcat服务器）进行管理的<br> 即：由servlet容器（tomcat）完成servlet的实例化、初始化、服务、销毁</p></blockquote><p>Servlet（Server Applet）是Java Servlet的简称，<br> 是用Java编写的服务器端程序，<br> 主要功能在于交互式地浏览和修改数据，生成<strong>动态Web内容</strong>。<br> 简单来说 <code>Servlet本质就是处理请求做出响应的实现类</code></p><ul><li>客户端发送请求至Web服务器端。</li><li>服务器将请求信息发送至Servlet</li><li>Servlet 根据请求内容生成响应内容并将其传给服务器。</li><li>服务器将响应返回给客户端。</li><li><img src="/assets/2022-11-29-22-30-28-C7zMEowy.png" alt=""></li></ul><blockquote><p><strong>服务器的三大组件：</strong></p><ul><li>servlet：用于处理请求和响应</li><li>filter：用于过滤请求和响应</li><li>listener：用于监听服务器的状态</li></ul></blockquote><h3 id="实现最简servlet程序" tabindex="-1"><a class="header-anchor" href="#实现最简servlet程序"><span>实现最简Servlet程序</span></a></h3><p><strong>流程</strong></p><ul><li><p>用<code>maven</code>创建<code>javaWeb</code>项目，在<code>pom.xml</code>配置文件中导入<code>Servlet</code>依赖</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet-api</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.1.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">provided</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- provided表示该依赖仅在编译和测试环境有效，因为该包在其运行环境（tomcat）中有,如果不这么写会导致冲突 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>编写一个类，实现<code>HttpServlet</code>类 或 继承<code>GenericServlet</code>类 或 实现<code>Servlet</code>接口类</p></li><li><p><code>重写</code> 或 <code>实现</code> 相应的方法</p></li><li><p>在类上使用注解<code>@WebServlet(&quot;/demo1&quot;)</code>,配置其访问路径</p></li><li><p>访问<code>http://localhost:8080/demo1</code></p></li></ul><p><strong>实现Servlet接口版</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/demo1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletConfig</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> arg0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // TODO Auto-generated method stub</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> destroy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // TODO Auto-generated method stub</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取ServletConfig对象</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletConfig</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getServletConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // TODO Auto-generated method stub</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取Servlet信息</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getServletInfo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // TODO Auto-generated method stub</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>继承HttpServlet版</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个get请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个post请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>继承GenericServlet版</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GenericServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="servlet生命周期" tabindex="-1"><a class="header-anchor" href="#servlet生命周期"><span>servlet生命周期</span></a></h3><p><img src="/assets/2022-11-30-17-04-42-DjapbKVG.png" alt=""></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterens</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/demo1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">loadOnStartUp</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     * 调用时机：默认情况下在该servlet被第一次访问时,由容器来调用init()方法，只会被调用一次</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     *  * 修改调用时机： loadOnStartUp </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     *      * 默认值为-1 表示在该url被访问后再初始化</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     *      * 可修改为1 表示在服务器启动后便初始化</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     * 调用次数：1次</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletConfig</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> arg0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;url被第一次访问...&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterens</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/demo1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">loadOnStartUp</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     * 调用时机：url每次被访问时调用一次</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     * 调用次数：每当被访问就调用</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterens</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/demo1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">loadOnStartUp</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    /**</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     * 调用时机：Servlet被销毁时（内存释放时，服务进程被正常关闭时），由容器来销毁</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     * 调用次数：1次</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">     */</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> destroy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // TODO Auto-generated method stub</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="httpservlet" tabindex="-1"><a class="header-anchor" href="#httpservlet"><span>HTTPServlet</span></a></h3><p><strong>一般直接继承HTTPServlet</strong></p><ul><li>HttpServlet是指能够处理HTTP协议请求的Servlet，</li><li>它在原有Servlet接口上添加了一些与HTTP协议处理方法，</li><li>它比Servlet接口的功能更为强大。</li><li>HttpServlet在实现Servlet接口时，覆写了service方法， <ul><li>该方法体内的代码会自动判断用户的请求方式，</li><li>如为GET请求，则调用HttpServlet的doGet方法，</li><li>如为Post请求，则调用doPost方法。</li></ul></li></ul><p><img src="/assets/2022-12-01-13-46-59-CMHhqlJN.png" alt=""><br><img src="/assets/2022-12-01-13-48-03-BBx6ULNN.png" alt=""><br><img src="/assets/2022-12-01-14-22-54-BirbNMRm.png" alt=""></p><p><strong>继承HttpServlet版</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyHttpServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个get请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个post请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="urlpattern配置" tabindex="-1"><a class="header-anchor" href="#urlpattern配置"><span>urlPattern配置</span></a></h3><p><strong>一个urlPattern可以配置多个访问路径配置</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">})</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyHttpServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>urlPattern配置规则</strong></p><ul><li><p>精确匹配</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">})</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 若一个url同时满足精确匹配和目录匹配，则精确匹配优先级更高</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>目录匹配</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1/*&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2/*&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>扩展名匹配</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;*.do1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;*.do2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">})</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 不能写 &quot;/*.do1&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>任意匹配</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/*&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong><code>/</code>和<code>/*</code>区别:</strong></p><ul><li>当项目中的Servlet配置了<code>/</code>则会覆盖掉tomcat中DefaultServlet（他会处理项目中静态页面的访问，如index.html），当其他的url-pattern都匹配不上时都会走这个Servlet</li><li>当项目中配置了<code>/*</code>，意味着匹配任意访问路径</li></ul><p><strong>优先级</strong></p><p><img src="/assets/2022-12-01-15-03-09-B-eHcygM.png" alt=""></p><h3 id="xml方式配置servlet" tabindex="-1"><a class="header-anchor" href="#xml方式配置servlet"><span>xml方式配置Servlet</span></a></h3><p><img src="/assets/2022-12-01-15-05-38-2DyTzUmX.png" alt=""></p><h3 id="request对象" tabindex="-1"><a class="header-anchor" href="#request对象"><span>Request对象</span></a></h3><h4 id="request继承体系" tabindex="-1"><a class="header-anchor" href="#request继承体系"><span>Request继承体系</span></a></h4><p><img src="/assets/2022-12-01-15-37-24-mABbdJMG.png" alt=""></p><h4 id="request常用方法" tabindex="-1"><a class="header-anchor" href="#request常用方法"><span>Request常用方法</span></a></h4><p><img src="/assets/2022-12-01-16-03-32-BARmI1NY.png" alt=""><br><img src="/assets/2022-12-01-15-56-36-C3u6jgm-.png" alt=""><br><img src="/assets/2022-12-01-15-58-24-CYeko4N3.png" alt=""></p><h4 id="通用的获取参数的方法" tabindex="-1"><a class="header-anchor" href="#通用的获取参数的方法"><span>通用的获取参数的方法</span></a></h4><p><strong>由于不同的请求方式（get,post）需要使用不同的方法来获取参数，这造成了一定的不方便</strong></p><p><img src="/assets/2022-12-01-16-09-00-C_pzgxUq.png" alt=""></p><p><strong><code>通用的</code> 获取请求数据的 方式</strong></p><p><img src="/assets/2022-12-01-16-25-19-DWYkaB0n.png" alt=""></p><p><strong>测试代码</strong></p><p><img src="/assets/2022-12-01-16-52-38-CQWHCMg0.png" alt=""></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">收到一个get请求</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">userName:[2449695354@qq.com]</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">password:[123123]</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">readMe:[true]</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">autoLogin:[true]</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">hobby:[1,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 2,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 3]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Hello World!</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;get&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    userName:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    password:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;readMe&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;true&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">readMe </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;autoLogin&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;true&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">autoLogin </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;hobby&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">熬夜 </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;hobby&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;2&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">敲代码 </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;hobby&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;3&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">掉头发 </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Arrays</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;收到一个get请求&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> paramMap</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameterMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        for</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> key</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> :</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> paramMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">keySet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()){</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">key</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;:&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">Arrays</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">paramMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">get</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">key</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // （如果要实现一个接口支持两种请求方式）</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 由于统一了获取请求参数的格式，故可将post请求转交给doget函数</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="解决request输入流中文乱码的问题" tabindex="-1"><a class="header-anchor" href="#解决request输入流中文乱码的问题"><span>解决Request输入流中文乱码的问题</span></a></h4><blockquote><p>注：新版tomcat8.0之后已将get请求乱码问题解决，解码方式为UTF-8</p></blockquote><p><strong>POST方式乱码的解决</strong></p><p>由于POST方式的数据是以原始格式放在请求体中的，到达服务端后，底层是通过getReader()方式获取到的,默认会以<code>ISO-8859-1</code>解码，所以可以通过设置获取流的编码方式来解决该问题</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 设置输入流编码</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Map</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> paramMap</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameterMap</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 然后就能获得正常的数据了</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>GET方式乱码的解决：原理解释起来比较困难</strong></p><blockquote><p>这种方式也能解决post的乱码</p></blockquote><ul><li>GET方式的请求数据是放在URL中的，但URL是不支持中文的，</li><li>浏览器会将中文以<code>UTF-8</code>格式进行<code>URL编码</code><ul><li><img src="/assets/2022-12-01-17-26-05-CElXUQ6X.png" alt=""></li></ul></li><li>TomCat收到后会以<code>ISO-8859-1</code>格式进行<code>URL解码</code><ul><li><img src="/assets/2022-12-01-17-22-07-5xiSWVeu.png" alt=""></li></ul></li><li>问题在于无法修改这个<code>ISO-8859-1</code>格式为<code>UTF-8</code></li><li>所以需要将得到的数据重新以<code>ISO-8859-1</code>格式<code>解码</code>获取字节码</li><li>然后再将得到的字节码以以<code>UTF-8</code>格式解析为字符串</li></ul><p><strong>URL编码</strong></p><ol><li>将字符串按照编码方式转为二进制</li><li>每个字节转为2个16进制数并在前边加上%</li></ol><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Test</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> main</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> args</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;张三&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 浏览器做的事</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 以 ISO_8859_1 编码 URL</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userName_Browser</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">encode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">userName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">userName_Browser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 输出： %E5%BC%A0%E4%B8%89</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // TomCat做的事，</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 以 ISO_8859_1 解码 URL</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userName_TomCat</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">decode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">userName_Browser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ISO_8859_1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">userName_TomCat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 输出： ??????</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 作为Servlet开发人员要做的事，</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 以 ISO_8859_1 解码 `乱码字符串` 获取 `字节数组` ， 然后以UTF_8字符集编码解析 `字节数组` 获取 `字符串` </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userName_Servlet</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">userName_TomCat</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getBytes</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">ISO_8859_1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">),</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">userName_Servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 输出： 张三</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="request内部请求转发转发流转给jsp页面forward" tabindex="-1"><a class="header-anchor" href="#request内部请求转发转发流转给jsp页面forward"><span>Request内部请求转发转发流转给jsp页面Forward</span></a></h3><p><img src="/assets/2022-12-01-19-57-28-BmOfQUEc.png" alt=""></p><blockquote></blockquote><p><strong>方法</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getRequestDispatcher</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">).</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">forward</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>传递数据的一些方法</strong><br><img src="/assets/2022-12-01-20-46-36-Tk_1feRp.png" alt=""></p><p><strong>终端输出</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">/api1</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 被访问</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">/api/2</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> 被访问</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">test的数据为:</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> test的数据</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet1</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 该类需为public</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1 被访问&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;test&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;test的数据&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 转发给 &quot;/api/2&quot; 的处理函数</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getRequestDispatcher</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">).</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">forward</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet2</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 注意 该类需为public</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/2 被访问&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;test的数据为: &quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;test&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> );</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="response对象" tabindex="-1"><a class="header-anchor" href="#response对象"><span>Response对象</span></a></h3><p><strong>实现关系</strong></p><p><img src="/assets/2022-12-01-21-33-06-CBeO0U13.png" alt=""></p><h4 id="response设置响应数据功能介绍" tabindex="-1"><a class="header-anchor" href="#response设置响应数据功能介绍"><span>Response设置响应数据功能介绍</span></a></h4><p><img src="/assets/2022-12-01-21-39-13-Ct9tunjz.png" alt=""></p><h4 id="response完成重定向" tabindex="-1"><a class="header-anchor" href="#response完成重定向"><span>Response完成重定向</span></a></h4><p><img src="/assets/2022-12-01-21-41-02-ChS4kkT1.png" alt=""></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet1</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/1 被访问&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 设置响应行</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">302</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 设置相应头</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setHeader</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;location&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/2&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 等效的简化写法</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // resp.sendRedirect(&quot;api/2&quot;);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="response响应字符数据" tabindex="-1"><a class="header-anchor" href="#response响应字符数据"><span>Response响应字符数据</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">PrintWriter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> wr</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">wr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;&lt;h1&gt;测试&lt;/h1&gt;&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/a&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet0</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 使其支持中文 ，因为，response获取到的输出流默认为IOS-8859-1</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        PrintWriter</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> wr</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 注意PrintWriter会随着resp的关闭而自动销毁</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        wr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;&lt;h1&gt;测试&lt;/h1&gt;&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="response响应字节数据" tabindex="-1"><a class="header-anchor" href="#response响应字节数据"><span>Response响应字节数据</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">OutputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> os</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getOutputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">OutputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">commons</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOUtils</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> //commons-io IOUtils是流的工具库</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/a&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> MyServlet0</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> is</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getClass</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;./123.txt&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        OutputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> os</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getOutputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        IOUtils</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">copy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">is</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> os</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 拷贝</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;拷贝完毕&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例-实现登录注册案例" tabindex="-1"><a class="header-anchor" href="#案例-实现登录注册案例"><span>案例：实现登录注册案例</span></a></h3><p><strong>注册</strong><br><img src="/assets/2022-12-02-21-44-16-CkfpnSKr.png" alt=""><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVsAAABrCAIAAABWoLajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATvSURBVHhe7d0/TyJpAMfx4V4FJFhMsq2NlZDYmPgCDuImO5RX2hk79QrFbmO35ZZgooF9AZdsCVY225pQSALvYvb5h79hZlDkaO7y/TTOMMNA83yZZ2YSK2maRgDg/BH+AgBFAJBFEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQDI+0WY37Urn/tzvzLtt1+Xt+jxplK5GfvPujZ/32O+htsfwHYtFWF8Xcm7HlcP2q2Hwc+pG647g/bpYdjbs4P5TesUpB63/MLBt1HU9HXY1Nh+oXWyAqBgqQiNy1ReemaUdo8aUT05uxp2diq1H+1ZOkj2q5PrSvtuMcz3z8P+pcbdsNt6qvWq+Q6zl8N4aldtg3L8UJ9OhvYPgG0LQ9cZXUXdsV+c9Y6jVn/mV1wdWr0Xu2j2MaEYuZffZ4pw3FscxVm7Ecuf7j/RfqsVXr/S8jcH8BHZc4R5fNR7atjf//F1rbM7Gnyphi31ZDDe65y2zU9285cZ4eeNsMFwZ+mrNC7CXlm5Rhga86JPl2py77bZrGT2/+CZCIBVskWoVveTQTraS2rNaJQe/Qyj2mtEvT+joRnM98nySG28NW1Yc6zW473oaeJmCus6juOw5ORWAWxk+V6DvUzYjMzE4bJRuEBwnnwZpKeTWqVy8xh239BDxxzklS5JBPP+5+KLS+aTp7AEYKtUBHsZ7zaepbP4NozVEo0LM0U//McstfvTN+cLnpk1LMa/OqJZg53z78XmnCOOj4f+HGF+d9J56J6VTBlk8jyMdu3bPAIBbIuKUDWnAIsZweL6Yp67rOhvSQySeul8YeTmCSWXHs/37YYVqvGumTbMo2n/JBl2x9nrFEXzyS93EwTAti3PGj5ONwj13EGr14++utP+sDXzSIL9PdfP+2TyEJbiT63hj5P2Tmd4NVrRDjubsHcfH7+bk4jDlX2xVx/LrkoCeF95ES4abpAXNP8OO8jBt3AOcJ+45xQm7sXzs2c7V6g9n9lNt3qoyZzwtz4tLgJOTR5acd0uuueghvbK5aX98bcpCR0Z35hMRBfNykl0m6aXcf/WzFz+yp8hZCYRADbnRnPerN8q3NI304GSuYATHhNwbzG7ZZ5cuMq9I2z1sw9rsUN4Jbt6NXIvhqN59pXCzUu/c1jx05b85wJYS3kRwgOLmasJbih2R5nB6firBtk9VQTDlCW71a4WH0YIBzEHtx/qsmITU7iW4btTrFLukSSKAGxuRRGM7OOGuSeCvKVqhDRYhdG4+Kk3Q3fpB99SBbzX4+Q+zuUgc2R3zFerTl4AfEzmf0M/3pQ/YljODMK37wgA+O/hv8UDkH979xHA/wlFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAcBCFP0GkewR+DtJjw4AAAAASUVORK5CYII=" alt=""></p><p><strong>注册</strong><br><img src="/assets/2022-12-02-21-43-58-DcArGeAD.png" alt=""><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAc8AAABRCAIAAAA7Abr7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATASURBVHhe7du/TttaHMBxc58iSGGI1LULU4PUBakvkIhKhfGOrN0aGGjYqm4dr+5EkIrIfYBKHQkTS9dKGUAib5HrYxsc/gWQ4FeGz0dqsd3j4Onbk2N7YTqdZgA8s7+qnwA8J7UFiKC2ABHUFiCC2gJEUFuACGoLEEFtASKoLUCEebWd7HcXPo+qnUtng+5Cd3BW7T2L492Fhd38F99+ATelS0rjAV6suXPbt93+9koZvlpz/XC0vLF0e3BHnxdm7R7fcrC7PynG3q3Z6pQbb78dZTcu4HFGeblvS/Zk8L66PIAA82rbaK5/mp7vrfW+7I/yNtXavSwbbixVe8lMzjqD82mSn1gdyV0cnB7tVEceotFstLem56erraLsaap7Tfl7z8bD9OOhivovbhxUuwAB7l23bax/nx5+aOd/10b9bG2vymdpq10Nf6y0aHDD0sYw6+Vz2tLi0sriUpoRNz4cpt91utfJ+kdp63zvVzEq1b8eX7icDrdaa1nnVavaK6a6P9+VHwIQ5+7ahi2GXgt3ru5p7fBDoxpfS/8TJHn9Z8en3bu0P02nn95UOwBh5sxtVz8OTtKiafziZrO1nJ2MH3Ujbq11OX1Nru0C/Gl317bZaOff3Ef9XvthM9w0F15Y2c6G64vFd/m0MNprp62Zg/V2HfGDjerfCjfuoaXbWfNvrE3GJ9UWwEt137rtm/TNu33tDlW7dzWRRY6b64fFTbDZu2T9UdqaOVhv11/n65WEdMpyq1Estg7Lue1kf3PjoP/xlmWE2vj3MHudTiuJL/AC3Vfbi0dfqztUpet3yVKOn1Sj9To7GU/y+fLm+rA/mv/5k/GvrP/uqS8B4EndU9vRj162s/rgkqXwFZPTh0rz0HpaOh5fPJXVetUZ/rfZXdoY7hzdcVMrrTCkJ8CO/8knv6t33vgqn6l4xCUBPIf5tR393H7UtDHPZafVrHYupA+5K8Hj38P68ayzPL3V6Y233c7BcJjPoItny9I6xvtBsXY72q2eD9vMvk6nW63B115n8Pf1S5xZWAB4CebW9vhnL5szbbwhjV++Xtt5H5KHuNN926heNksz2Y/rxemjf/Ok1tEsV2bHadiX1mm5fHGYjxx9XtzI9r5dnbqmwbW73iUDCDWntpN82vioZYRbp5mjH7fNPQuT/S+9te5qM2tvlQEt35JIfVzZ7h+d7nW2V4qnEaqV2WJYimx59uB9Mez7+tVpbBo88zoDwMtQVu4WxdtW5UMF54N7X7zqH02P+tWts6OLtwuKg+V7BzPvbpWfWTyB0NmrJqoXimGXDzBc/ahZxWvBO/Wxqy8EXxsM8Oct5H+qRgHwbO57AgyAp6C2ABHUFiCC2gJEUFuACGoLEEFtASKoLUAEtQWIoLYAEdQWIILaAkRQW4AIagsQQW0BIqgtQAS1BYigtgAR1BYggtoCRFBbgAhqCxBBbQEiqC1ABLUFiKC2ABHUFiCC2gJEUFuACGoLEEFtASKoLUAEtQWIoLYAEdQWIILaAkRQW4AIagsQQW0BIqgtQAS1BYigtgAR1BYggtoCRFBbgAhqCxBBbQEiqC1ABLUFiKC2ABHUFiCC2gJEUFuACGoLEEFtASKoLcDzy7L/AWmq/ldUqp4YAAAAAElFTkSuQmCC" alt=""></p><p><strong>数据准备</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> DATABASE</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> IF</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> NOT</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> EXISTS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> db6;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">CREATE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> TABLE</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> IF</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> NOT</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> EXISTS</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> tb_user(</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    id </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INT</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> AUTO_INCREMENT </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">PRIMARY KEY</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    username </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">UNIQUE</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> NOT NULL</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    password</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> VARCHAR</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">) </span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">NOT NULL</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">INSERT INTO</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    tb_user(username,</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">password</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;张三&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;123456&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">),</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    (</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;王五&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;123456&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>项目目录结构</strong></p><p><img src="/assets/2022-12-02-21-37-23-B01OeLaS.png" alt=""></p><p><strong>pom.xml</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> xmlns</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://maven.apache.org/POM/4.0.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> xmlns</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">xsi</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">  xsi</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">schemaLocation</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">modelVersion</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">4.0.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">modelVersion</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">com.webapptest</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">webapptest</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.1-SNAPSHOT</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">packaging</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">war</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">packaging</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web Maven Webapp</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- FIXME change it to the project&#39;s website --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">http://www.example.com</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">properties</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project.build.sourceEncoding</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">UTF-8</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project.build.sourceEncoding</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.source</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.7</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.source</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.target</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.7</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.target</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">properties</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet-api</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.1.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">provided</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.mybatis</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mybatis</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.5.11</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mysql</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mysql-connector-java</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">8.0.31</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.apache.tomcat</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tomcat</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">10.1.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">type</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">pom</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">type</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">junit</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">junit</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">4.11</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">test</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">build</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">finalName</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">finalName</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.apache.tomcat.maven</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tomcat7-maven-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">port</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">8080</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">port</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">/</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">pluginManagement</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-clean-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.1.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-resources-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.0.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-compiler-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.8.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-surefire-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.22.1</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-war-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.2.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-install-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.5.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-deploy-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.8.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">pluginManagement</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">build</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>mybatis-config.xml</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> default</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">transactionManager</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;JDBC&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;POOLED&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;driver&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 填mysql的驱动的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;url&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;jdbc:mysql:///db6?useSSL=false</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">&amp;amp;</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">useServerPrepStemts=true&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填mysql数据库的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填数据库的username --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- 填数据库的password --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.mapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 使用这种Mapper代理的方式便可以用这种包扫描的写法 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>UserMapper.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Insert</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// import org.apache.ibatis.annotations.Select;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    User</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectUserById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;select * from tb_user where username = #{username} and password = #{password};&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    User</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectUserByUsernameAndPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> password</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Insert</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;INSERT INTO tb_user(id,username,password) values(null,#{username},#{password});&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>UserMapper.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.mapper.UserMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- namespace改为接口类 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.pojo.User&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- id为接口的函数名 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_user;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectUserById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectUserById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.pojo.User&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_user where id = #{id};</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>pojo/User.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    Integer</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Integer</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setId</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Integer</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> toString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;User [id=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> id </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, username=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> username </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;, password=&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;]&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Login.java</code></p><ul><li>踩坑记录，WebServlet的实现类需放到<code>/src/main/java/</code>目录下</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        UserMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectUserByUsernameAndPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Register.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/register&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Register</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        UserMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> affectedRows</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // 因为用户名是unique 插入出错则直接提示注册失败</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">            affectedRows </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册成功!&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> affectedRows</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册失败!&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> affectedRows</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>login.html</code></p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">登录</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/login&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;post&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        userName:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        password:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>register.html</code></p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">注册</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/register&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;post&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        userName: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        password: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="优化-把sqlsessionfactory优化为工具类" tabindex="-1"><a class="header-anchor" href="#优化-把sqlsessionfactory优化为工具类"><span>优化：把SqlSessionFactory优化为工具类</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">datebase</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 数据库连接池</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> SqlSession</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Boolean</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> isAutoCommit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取SqlSession，用其来执行sql语句</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">isAutoCommit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>从数据库连接池 获取 sqlSession</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">datebase</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">         //从数据库连接池 获取 sqlSession</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取UserMapper接口的代理对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        UserMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectUserByUsernameAndPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jsp-java-server-pages-java服务端页面" tabindex="-1"><a class="header-anchor" href="#jsp-java-server-pages-java服务端页面"><span>JSP(Java Server Pages)Java服务端页面</span></a></h2><blockquote><p>简单了解即可，JSP已经逐渐退出历史舞台了。<br> JSP本质和PHP类似<br> JSP已经逐渐被AJAX技术取代了</p></blockquote><blockquote><p>JSP=HTML+JAVA</p></blockquote><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlAAAACuCAIAAAB2h6RSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA3ASURBVHhe7d1NaBtnHsfx8ZKCAinYsAcZXKhCCmuzActswBLkkAlZiMIeKuNCJFpIXQpZm4Wu08CuFR8cuYXEbg+N20MbChusQIKVQ4lzMJ4eDBpDFimQYBVqVoUELGihgg1EsAGtXp4ZjRQrkvySOvl/PwjyzOPx+NEE9PPzNu4oFAoaAACvut+pfwEAeKUReAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBE+O3/AGw+l8uroquz01UpbVr56nuazz1u630LvU8AsAXP7eEVP04t+aeqro7zFFXVHnO2y/JhPKsqs/EPVV1X16ypKneAo7Wbt9d5wiZvuRhItq293ef7d/VmjNyybsZzPIqPqNNrz3e287GqAwDhnhd42Vv2x2nX7L9VZa1N42rvSn+rq9Z2delfpVRtVWrumPpqUfhm/Rty3pDIUk7V7kGO4Oz6fAd/YQCAl5isOTyvb8itilrKTNcH2npy8Z4qFsVXknWZlrkfUyUt6Pd2quLe5t7HQCcAlAhbtNLvC6uSpt1MrtUOS2bvLhqqWHYrlValiszaqippJwK+HlXci3o8QVXS/G92qxIAyCYs8Fx9/ndVUdOM1A+qVJZLrsRVsSJrrK2rYkkunVpSRe/JAY8qAgBeDi8i8OwVFI1WvmxNdWFGG+sy3N6juipqqeSPjkHNfNL4qlLS9ROVgrF413HCempBldxDPq8q1tpSk8rf1eL59moUlqIAQJt2NfDy6VvT4cPd+9Xyia79rx08dT6W3uZqj1w6fjHc191hX7br9Y7uw+HZO5lWFk56jgTssIrdz6hS0T1zvlIYDgQOVUpaPFUd9cykk1b6DXn/oEpKy03KXh/qsEyvavl7c0Nvlb/r/Vj9hGKdp1nj8tDB16yf8Hr38b/HMzv6CwQAvNp2L/Byxj/1vmAk9sD5SZ5ZvBzuO/JB/Cd13K78D1fDvX1Dk7G6BSfZB7FzgYP63xYdCdZAv7+6cOW7hL1SM2UuVC7p9elBr9ULvGZaJ+TSpjXgOewfcCxY2XqTMvGRk2Nx56hpI49Ts0Hv8fNxx6WyxudDQ+cXNv/lYZ/LXqnS+4b9bgFAtFYD7+pHx4//+dnX+FX19XqZr8PHP60siHfrH31z21hejl8ZGSxXrF8dvbS4lW7eL4vnjn1gd4U8gyPjl2YmzgZ6rY9084tT4U9Tzfp5Xp89jXcvmVFXyyTvVKKtNFxZ7QVWp/EyqVuVgqaf8FUzZBtNWrgUbdatq8invhg99511qrs39PHMzIXRYjc0dTNes8rG5u7uUyVt/z5VAADpCo1txOy1fi0Ynt9Q31co/Hx71PrE900lnqjaQiE1Yw0nBr75sVKViKoa5xU25odVnaZFE6qykLxUnTkLfrlWveyviWglSktGFn5W1Y1s3AipczVtYqVc9XDeeqvjy6XrJibUoRa6UW5Uxj7BO5MqVVS026TaW+rWL9z+z69PCv97svGw+E+hYFZvRjBm3YyfF0ZUXfE7Rqvv7r/OH+E4v6R6V6OmqgIA4XZlSDNnLs6pDklw7IyvuhGs3z+kSotGqqXejUNq8TNrfLF/JnK2t3rZTt/oeTsUrhpmk96j26vbC1fMdGmYMJdKqPHKs/pA6bq9/rOVYy12tzSNl/8xqU5wD/n7K6Wi7TVpeHZ+KuDpdGn7XO6ehs8Fy5mG3Y0e+TIa/L0qawd8E59HGa8EgBa1GniBszMzl559jQbU12tkHljrGbXUlfc3HwJte8Xmo+qiEe0v/mrHqqzzsM/OsIUHzSbyDg0ErNAyVorBm0+uzFUOg77e8vRc58BRqyt2zUxrWvqBNXb4trdXlbbbpNCw3kpcOW5mUK/b7d7j8atSI26NIU0AKGs18PzvjY9//OwrvOkHbv6pnQMZc8kwqi+zWRa15jX1b5Vrvx0F2afNZvE0rz9oZc21ZOZpyrxWOfD6D6v9de4jARVXWSO5ns2kVE8ueNS5YMWh/Sb1tbacxHEztZbTy+VSie730AcEgLLdW6VZERit7xSqV8DTaAxvS37ZsKPUe6D5lb2D9hNXzLXv1oxKpjiHKw/1Wf0vw7hrJFUi6oEjLQdIm03aioa95N7w18vLRvEV0e0hUACQbVcCz+22B/Py3rfrOoXqNTK4eU+poR7PgJ01K2t1PcVcJm1Npmn6H6uDjo24DvuthStGaimlxivfde4nry7mNO7cVs8Y6w8MWFv0Sna0SY04bmY8ma7pKeZSRu2zYWwu9590/Vjx5XXvTtQCwEtnVwLPsbnbmPuX8cyCjVz2l6ajjs/y+s5Y8bIUiVxz5EvOnLtkTQ66JwJHW/iMd3utx6loC7fUJNno0fKCFcU1cHS0UsouGYlywR2sm6jb0SY14DlcneqbnZw17Wes5IyZqUa7QrTs93Nj7wyNXY6neSYLAJTtzpBmfzjyrvqUTl083qt/EPk2bnxvGHdic5Njp97qGt3K39Zx6X+dC6mrZmPvHTwYGItcnp09H+7r9UfUY53doc9G9JbCxTNwUoVXNlsZ0NS9lQUrls5ea/+5dcZQf11HbWeb1MBg4Jy9/WA14veeGpus/Ijj046/7eCU/z7i1cfmbsbnzg/pnxhb+OUCAF5BanvCZpybxhps59p0F11Z7S6xOo5NY23swyt6YkYbL21065849vw1Zdau6e+fSaov2JIz1R0IRcH5h+oLTm01qckt3XQfXvlH+FS1kzs0NWFfznl+zW6/uv8XAJBq1xatHPBNLK0tTIXsZ45YPL4z0ZEjbU7gWVyDE8up5StnA3V/rMBzcvSKkVr+h2PPX1POPxVUTI/64coix2LOogZ/Emgnm9RA8UcY6fnxY47GuPXxeGL+jP1AlRruE6Pj6rcNz8jpljY/AMArr6MYeqq4W/K5XP7Xn5JZV1+v2+XqbLjDuj1P87nHuY0fMtqbvd0HOjsPqOrf0u43qXgrN34qXt/T3fQ2lhqT1/btjTsDAHvACwg8AAB+e7u9Dw8AgD2BwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACLsYuCZFzs6OqbNysHqdOlgtXIAAMCL1jjwHsWGOjqGrmfVoSV7vVQde6QOX5Rs7J2OjosqPcvKNRZHO81StNawQhcAINjLOaRZCuPu8OFEwXJufbQmg6fsL23MD0f8ZB4AiPdSBl52ZSGuRRMXfOpY03wXFkI9qlzLHfpsPqhFZp7pqgIARNmJwCvPzyk1o47PUx4atbXXA8usx1WpFT2eAVUCAMi17cArpp0vEjUr44eJ6KS/lcwzL3Z0hwbsYcfEVMTfzryg51BQ0yL+FsP1USapaQMetzoEAIjUJPDioW7VB7N0h5y9K3PaF9GmEhODlUPfSCyoTRpNgmh12j+pRc0Je0TSdyER1eLhb1vt5rlPLySmNK0Yrs1XfprTb4Tjw/MjqoUAAKGaBF4wtqF6YZaNYqTZVo2IpkVPVOfS3KXhw2TmuX01c6n0TXpNAvn0YoDdz7Q+z+a7UCg8nC919HzF1Humd1jOwjJ/ZCpRuBGifwcAwu3AHF45cizFDp8Wf37glQx7PKrkcDOTUaXW9IQWiglcir14+I3arl51lWah4FjbAgAQa/uBF5x/qJLFZo1wNrZptm2agk2VYi8RLebuUlsLXwAAsmwv8Ab1qBZfWGlvxb/vRCmejJq5N9OY1IJv640HHjOZm1rwUKNA9HiGVQkAgE1ts4dXWqUSD3VXhxNXp5uv0hwcmR/WIr7qVgTzoj+iRc+dbph32eszzhPMi7WPgFm9Gr5ZM5VYr/zUGNUwR7myNYIHngGABNsd0nSfXtiIBavTeEt6C3Nm7tCNylYExX9/fqNQXbTpoJ4TVt7D4FzVWTi37lg+6tMSrYyjAgAE6ygUCqoIAMCrawdWaQIAsPcReAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAggKb9H9AnnsC2XwMsAAAAAElFTkSuQmCC" alt=""></p><p><code>{{ProjectRoot}}/src/main/webapp/index.jsp</code></p><div class="language-jsp line-numbers-mode" data-highlighter="shiki" data-ext="jsp" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-jsp"><span class="line"><span>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span></span>
<span class="line"><span>&lt;html&gt;</span></span>
<span class="line"><span>  &lt;body&gt;</span></span>
<span class="line"><span>  &lt;h2&gt;Hello World!&lt;/h2&gt;</span></span>
<span class="line"><span>  &lt;%</span></span>
<span class="line"><span>    &lt;!-- System.out.println(&quot;Hello JSP...&quot;); --&gt;</span></span>
<span class="line"><span>      out.println(&quot;Hello JSP...&quot;);</span></span>
<span class="line"><span>  %&gt;</span></span>
<span class="line"><span>  &lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>编译后大概的样子</strong></p><p><img src="/assets/2022-12-02-23-43-04-CSLNA4Sa.png" alt=""></p><p><code>pom.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet.jsp</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">jsp-api</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.2.1-b03</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">provided</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>JSP本质就是一个Servlet</p><p>JSP在被访问时，由JSP容器(Tomcat)将其转换为Java文件(Servlet)，在由JSP容器(Tomcat)将其编译，最终对外提供服务的其实就是这个字节码文件</p></blockquote><p><img src="/assets/2022-12-02-23-38-51-eUUT3UNn.png" alt=""></p><p>JSP脚本标记分类</p><p><img src="/assets/2022-12-02-23-43-37-C3V_G4Yn.png" alt=""></p><p><strong>缺点</strong></p><p><img src="/assets/2022-12-03-00-04-24-48bOlnD1.png" alt=""></p><h3 id="servlet-jsp" tabindex="-1"><a class="header-anchor" href="#servlet-jsp"><span>servlet+jsp</span></a></h3><blockquote><p>这种方式的主要解决java代码和html代码混在一起难以阅读的问题，<br> 核心原理是，</p><ul><li>将需要的数据在servlet中封装好， <ul><li><code>req.setAttribute(&quot;test&quot;, &quot;test的数据&quot;);</code></li></ul></li><li>然后通过通过内部转发流转给jsp页面 <ul><li><code>req.getRequestDispatcher(&quot;/api/2&quot;).forward(req, resp);</code></li></ul></li><li>jsp页面通过 <code>EL表达式语言</code> 读取封装好的数据</li></ul></blockquote><p><strong>EL表达式</strong><br><img src="/assets/2022-12-03-00-24-06-D8kIeSCk.png" alt=""><br><img src="/assets/2022-12-03-00-26-07-C5tojtmY.png" alt=""></p><p><strong>基本的书写格式</strong><br><img src="/assets/2022-12-03-00-19-35-S9HaFszy.png" alt=""><br><img src="/assets/2022-12-03-00-23-15-Ckg86v-a.png" alt=""></p><h3 id="jstf标签" tabindex="-1"><a class="header-anchor" href="#jstf标签"><span>JSTF标签</span></a></h3><blockquote><p>该技术主要是解决了过去java的if和for循环不得不写在jsp代码中的问题<br> 其实就是以html标签的方式写java的某些语句</p></blockquote><p><img src="/assets/2022-12-03-00-37-11-Dlyb60IA.png" alt=""><br><img src="/assets/2022-12-03-00-39-22-CXepf68J.png" alt=""><br><img src="/assets/2022-12-03-00-41-02-BpLvjXeK.png" alt=""></p><p><strong>使用JSTF标签的预备步骤</strong><br><img src="/assets/2022-12-03-00-36-54-CvsraOZr.png" alt=""></p><h2 id="mvc模式与三层架构" tabindex="-1"><a class="header-anchor" href="#mvc模式与三层架构"><span>MVC模式与三层架构</span></a></h2><h3 id="mvc模式" tabindex="-1"><a class="header-anchor" href="#mvc模式"><span>MVC模式</span></a></h3><p>MVC是一种分层开发的模式，其中:</p><ul><li>M: Model，业务模型，处理业务</li><li>V: View，视图，界面展示</li><li>C: Controller，控制器，处理请求，调用模型和视图</li></ul><p><strong>MVC好处</strong></p><ul><li>职责单一</li><li>互不影响有利于分工协作</li><li>有利于组件重用</li></ul><p><img src="/assets/2022-12-03-00-44-23-BtxfEklI.png" alt=""></p><h3 id="三层架构" tabindex="-1"><a class="header-anchor" href="#三层架构"><span>三层架构</span></a></h3><ul><li>数据访问层:对数据库的CRUD基本操作</li><li>业务逻辑层:对业务逻辑进行封装，组合数据访问层层中基本功能，形成复杂的业务逻辑功能</li><li>表现层:接收请求，封装数据，调用业务逻辑层，响应数据</li></ul><p><img src="/assets/2022-12-03-00-51-27-BUWn0Ted.png" alt=""></p><p><strong>三层架构项目结构</strong></p><p>依次分别为：</p><ul><li>数据访问层</li><li>业务逻辑层</li><li>表现层（控制器+视图）</li></ul><p><img src="/assets/2022-12-03-00-58-28-4kmQK_X3.png" alt=""></p><h3 id="ssm三大框架" tabindex="-1"><a class="header-anchor" href="#ssm三大框架"><span>SSM三大框架</span></a></h3><p><img src="/assets/2022-12-03-00-50-12-BSNffBDV.png" alt=""></p><h3 id="mvc三层模式与三层架构的区别" tabindex="-1"><a class="header-anchor" href="#mvc三层模式与三层架构的区别"><span>MVC三层模式与三层架构的区别</span></a></h3><p><img src="/assets/2022-12-03-00-54-22-B2qhMQ_K.png" alt=""></p><h3 id="案例业务逻辑" tabindex="-1"><a class="header-anchor" href="#案例业务逻辑"><span>案例业务逻辑</span></a></h3><p><img src="/assets/2022-12-03-01-04-10-FEyBtkNO.png" alt=""></p><h2 id="使用三层架构重写登录注册案例" tabindex="-1"><a class="header-anchor" href="#使用三层架构重写登录注册案例"><span>使用<code>三层架构</code>重写登录注册案例</span></a></h2><h3 id="项目目录结构" tabindex="-1"><a class="header-anchor" href="#项目目录结构"><span>项目目录结构</span></a></h3><ul><li><p>database 数据访问层</p><ul><li><code>mybatis-config.xml</code></li><li><code>mapper</code></li><li><code>pojo</code></li><li><code>DBSessionPool.java</code> 单例模式的数据库池</li></ul></li><li><p><code>service</code> 业务逻辑层</p></li><li><p><code>web</code> 表现层（控制器+视图）</p></li></ul><p><img src="/assets/2022-12-03-01-47-23-B-3F0j2S.png" alt=""></p><h3 id="database数据访问层" tabindex="-1"><a class="header-anchor" href="#database数据访问层"><span>database数据访问层</span></a></h3><p><code>database/DBSessionPool.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">InputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 数据库连接池</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> SqlSessionFactory</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> SqlSessionFactory</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getSqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // 加载mybatis核心配置文件</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">                String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resource</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;mybatis-config.xml&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">                InputStream</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">                inputStream </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> Resources</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getResourceAsStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resource</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">sqlSessionFactory</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">build</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">inputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">            }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">IOException</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">printStackTrace</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">            }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">sqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>database/mapper/UserMapper.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">util</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Insert</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    List</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&lt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">&gt;</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectAll</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    User</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectUserById</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Select</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;select * from tb_user where username = #{username} and password = #{password};&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    User</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> selectUserByUsernameAndPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">        @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Param</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> password</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Insert</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;INSERT INTO tb_user(id,username,password) values(null,#{username},#{password});&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>database/mapper/UserMapper.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> mapper</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> namespace</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.database.mapper.UserMapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- namespace改为接口类 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectAll&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.database.pojo.User&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- id为接口的函数名 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_user;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- selectUserById --&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;selectUserById&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> resultType</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.database.pojo.User&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    select * from tb_user where id = #{id};</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">select</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mapper</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>../resources/mybatis-config.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> default</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;development&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">transactionManager</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;JDBC&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;POOLED&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;driver&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 填mysql的驱动的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;url&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;jdbc:mysql:///db6?useSSL=false</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">&amp;amp;</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">useServerPrepStemts=true&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填mysql数据库的路径 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- 填数据库的username --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">property</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;root&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">/&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   &lt;!-- 填数据库的password --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dataSource</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environment</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">environments</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;com.webapptest.database.mapper&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> /&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> &lt;!-- 使用这种Mapper代理的方式便可以用这种包扫描的写法 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">mappers</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="service业务逻辑层" tabindex="-1"><a class="header-anchor" href="#service业务逻辑层"><span>service业务逻辑层</span></a></h3><p><code>service/UserService.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> org</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">apache</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ibatis</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">SqlSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">mapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    SqlSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> DBSessionPool</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSqlSessionFactory</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">openSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 获取sqlSession</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 添加用户</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        UserMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> affectedRows</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">            affectedRows </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">affectedRows </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">commit</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 提交事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">                return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">            }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 回滚事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">                return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">            }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">rollback</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 回滚事务</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> finally</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">close</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> User</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 检查用户是否存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        UserMapper</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UserMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userMapper</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">selectUserByUsernameAndPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="web表现层-控制器-视图" tabindex="-1"><a class="header-anchor" href="#web表现层-控制器-视图"><span>web表现层（控制器+视图）</span></a></h3><p><code>web/Login.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 服务层</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">     </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 调用服务层，检查用户存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>web/Register.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/register&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Register</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Boolean</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="maven配置" tabindex="-1"><a class="header-anchor" href="#maven配置"><span>maven配置</span></a></h3><p><code>pom.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;?</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">xml</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> version</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;1.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> encoding</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">?&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> xmlns</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://maven.apache.org/POM/4.0.0&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> xmlns</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">xsi</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">  xsi</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;">schemaLocation</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">modelVersion</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">4.0.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">modelVersion</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">com.webapptest</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">webapptest</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.1-SNAPSHOT</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">packaging</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">war</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">packaging</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web Maven Webapp</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  &lt;!-- FIXME change it to the project&#39;s website --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">http://www.example.com</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">url</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">properties</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project.build.sourceEncoding</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">UTF-8</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project.build.sourceEncoding</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.source</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.7</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.source</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.target</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.7</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">maven.compiler.target</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">properties</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet.jsp</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">jsp-api</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.2.1-b03</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">provided</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">javax.servlet-api</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.1.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">provided</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.mybatis</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mybatis</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.5.11</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mysql</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">mysql-connector-java</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">8.0.31</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.apache.tomcat</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tomcat</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">10.1.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">type</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">pom</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">type</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">junit</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">junit</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">4.11</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">test</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">scope</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependencies</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">build</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">finalName</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">finalName</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">org.apache.tomcat.maven</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">tomcat7-maven-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">port</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">8080</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">port</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">/</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">path</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">configuration</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">pluginManagement</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-clean-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.1.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-resources-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.0.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-compiler-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.8.0</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-surefire-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.22.1</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-war-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">3.2.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-install-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.5.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">maven-deploy-plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactId</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">          &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">2.8.2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugin</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">      &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">plugins</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">pluginManagement</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">build</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">project</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="结合反射对web表现层的进一步优化并实现验证码和json响应" tabindex="-1"><a class="header-anchor" href="#结合反射对web表现层的进一步优化并实现验证码和json响应"><span><!----></span></a></h3><p><strong>完整代码：</strong><br><a href="./resource/webapp.zip">webapp_三层架构模板并实现登录注册验证码</a></p><blockquote><p>如果任何一个方法都写一个Servelet实现类，代码会变的很臃肿</p><p>在Web表现层根据请求的URL直接调用service业务逻辑层的方法<br> 自定义BaseServlet，根据浏览器请求的URL路径完成处理函数的调用</p></blockquote><p><strong>优化后目录结构</strong><br><img src="/assets/2022-12-03-23-54-42-CsGvOv-0.png" alt=""></p><p><strong>优化后登录界面及响应结果JSON结果</strong><br><img src="/assets/2022-12-04-00-12-03-CELCiF0x.png" alt=""><br><img src="/assets/2022-12-04-00-11-14-BtMXUPbi.png" alt=""></p><p><strong>优化后注册界面及响应结果JSON结果</strong><br><img src="/assets/2022-12-04-00-13-49-DMvMVnqh.png" alt=""><br><img src="/assets/2022-12-04-00-14-03-Dl4QEjQY.png" alt=""></p><p><code>login.html</code></p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">登录</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/user/login&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;post&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        userName:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        password:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        remember:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;remember&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;true&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>register.html</code></p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">注册</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/user/register&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;post&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        userName: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        password: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        VarifyCode: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">img</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> src</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/user/getVerifytImage&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> alt</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> style</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CE9178;">width: 200px;height: 50px;&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BaseServlet.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">lang</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">reflect</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Method</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BaseServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> uriString</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getRequestURI</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 获取URI: /user/login</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> supliceIndex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> uriString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">lastIndexOf</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 找到最后一个/符号的位置</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> methodName</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> uriString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">substring</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">supliceIndex</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> //获取方法名: login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 通过反射获取这个方法,并执行这个方法</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">            Method</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getClass</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getDeclaredMethod</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">methodName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            method</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">invoke</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> catch</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Exception</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            e</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">printStackTrace</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;BaseServlet的service被调用了&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>UserServlet.java</code></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">alibaba</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">fastjson</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">JSON</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">utils</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">CheckCodeUtil</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 当浏览器访问 /api/user/login 时，</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 会由 BaseServlet 的 service 函数 找到子类的 login 这个函数,然后执行他</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/user/*&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> UserServlet</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> BaseServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 服务层</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> login</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> )</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">     </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 调用服务层，检查用户存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        ResponseData</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> responseData</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> ResponseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 清除密码信息</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 把user对象传递过去</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">JSON</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toJSONString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 响应数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UserServlet的login被调用了&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取注册用户时需要的验证码图片</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getVerifytImage</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 生成5位的随机验证码，并保存到session中</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> CheckCodeUtil</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">generateVerifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> VarifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 生成图片返回给浏览器</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        CheckCodeUtil</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">outputImage</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">200</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getOutputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(),</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> VarifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UserServlet的getVerifytImage被调用了&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 注册用户</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> register</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 从浏览器得到的VarifyCode</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode_inSession</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 从session中获得的VarifyCode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        ResponseData</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> responseData</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> ResponseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">equalsIgnoreCase</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">VarifyCode_inSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 忽略大小写的比对</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册失败!,验证码错误。&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">JSON</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toJSONString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Boolean</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">write</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">JSON</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toJSONString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">responseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">    </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UserServlet的register被调用了&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    private</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> ResponseData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        int</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Object</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">        public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> int</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">        public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setStatus</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> status</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">        public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> String</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">        public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setMsg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> msg</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">        public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Object</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> getData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">        public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> setData</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Object</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> data</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="fastjson-json-数据和-java-对象转换" tabindex="-1"><a class="header-anchor" href="#fastjson-json-数据和-java-对象转换"><span>Fastjson：JSON 数据和 Java 对象转换</span></a></h2><p>Fastjson是阿里巴巴提供的一个Java语言编写的高性能功能完善的JSON库，是目前Java语言中最快的JSON库，可以实现Java对象和JSON字符串的相互转换。</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupld</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">com.alibaba</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">groupld</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactld</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">fastjson</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">artifactld</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">  &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">1.2.62</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">version</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">dependency</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;admin&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;123456&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 将java对象 转 json字符串</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> jsonStr</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> JSON</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">toJSONString</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">obj</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 将json字符串 转 java对象</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> JSON</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">parseObject</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">jsonStr</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cookie、session会话跟踪技术" tabindex="-1"><a class="header-anchor" href="#cookie、session会话跟踪技术"><span>Cookie、Session会话跟踪技术</span></a></h2><blockquote><p>简单来说，就是用来解决http协议无状态性的，<br> 用来让服务端与客户端能在多次请求间共享数据<br> 可以让服务端能够识别两次不同的请求是否为同一身份的用户<br> 可用来做身份验证</p></blockquote><p><strong>实现方式</strong>:</p><ol><li>客户端会话跟踪技术:Cookie</li><li>服务端会话跟踪技术:Session</li></ol><h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie"><span>Cookie</span></a></h3><h4 id="cookie基本使用和原理" tabindex="-1"><a class="header-anchor" href="#cookie基本使用和原理"><span>Cookie基本使用和原理</span></a></h4><p><strong>在服务端<code>发送</code>cookie</strong></p><blockquote><p>服务端发送 cookie 给浏览器 基于http协议，<br> 保存在响应头的setCookie字段中<br> 浏览器会自动保存cookie<br><img src="/assets/2022-12-03-02-48-28-fShqeq-6.png" alt=""><br><img src="/assets/2022-12-03-02-56-37-JWcb1El5.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/getCookie&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GetCookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 发送cookie </span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addCookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;key&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;value&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>在客户端<code>发送</code>所有收到的cookie</strong></p><blockquote><p>浏览器发送 cookie 给服务器 基于http协议，<br> 保存在请求头的Cookie字段中<br> 浏览器会自动发送所有cookie<br><img src="/assets/2022-12-03-02-55-20-DLdfAVzj.png" alt=""><br><img src="/assets/2022-12-03-02-52-19-DEzi5bgk.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/sendCookie&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> SendCookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookies</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getCookies</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        for</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Cookie</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> :</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> cookies</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;:&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">());</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="cookie存活时间" tabindex="-1"><a class="header-anchor" href="#cookie存活时间"><span>Cookie存活时间</span></a></h4><p><strong><code>cookie</code>存活时间</strong></p><ul><li>默认情况下，服务端发来的cookie，浏览器会保存在内存中，浏览器关闭后cookie销毁</li><li>服务端可以通过<code>setMaxAge(int seconds)</code>设置发送的cookie的存活时间 <ul><li>正数：将cookie存入浏览器所在电脑<code>硬盘</code>，持久化存储，<code>过期自动销毁</code></li><li>0：<code>即刻删除</code>浏览器所在电脑中对应字段的值</li><li>负数：默认值，存入浏览器所在电脑的<code>内存</code>，<code>关闭浏览器后自动销毁</code></li></ul></li></ul><p><strong>Cookie默认不支持存储中文</strong></p><ul><li>但可在发送是使用URL来编码，收到后再编码会中文</li></ul><h4 id="cookie发送中文" tabindex="-1"><a class="header-anchor" href="#cookie发送中文"><span>Cookie发送中文</span></a></h4><p><strong>发送中文</strong><br><img src="/assets/2022-12-03-03-17-31-CPHm71Fl.png" alt=""></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/getCookie&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GetCookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 发送cookie </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Cookie</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookie</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;key&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">encode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;中文&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMaxAge</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">3600</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 设置过期时间</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addCookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>接收中文</strong></p><p><img src="/assets/2022-12-03-03-21-56-D--iRjHc.png" alt=""></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/sendCookie&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> SendCookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookies</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getCookies</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        for</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Cookie</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> :</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> cookies</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;:&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">decode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(),</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="session" tabindex="-1"><a class="header-anchor" href="#session"><span>Session</span></a></h3><blockquote><p>Session 是基于 Cookie 实现的</p><p>原理理解：浏览器第一次访问服务器后，服务器会为这个会话创建一个Session对象，存放在内存中，在这个Session对象中能够存储键值对信息，而后，服务器响应浏览器，并在响应头的Cookie中附带这个SessionID,浏览器第二次访问服务器时，会在响应头的Cookie字段中自动携带这个SessionID，服务器通过这个SessionID去内存中寻找这个Session，就能获取到上一次在Session中存储的信息<br><img src="/assets/2022-12-03-03-38-49-DR0IaeBJ.png" alt=""></p></blockquote><blockquote><p>浏览器第一次访问服务器时，服务器自动创建Session对象并在响应头中携带该Session的ID<br><img src="/assets/2022-12-03-03-56-22-TmtrE4-X.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/GetSession&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GetSession</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;测试&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>浏览器第二次访问服务器时，浏览器自动通过Cookie携带Session的ID，服务器根据该SessionID从内存中找出该Session<br><img src="/assets/2022-12-03-03-57-03-CQAZqgPe.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/SendSession&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> SendSession</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;测试&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;Session测试&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="session的钝化与活化" tabindex="-1"><a class="header-anchor" href="#session的钝化与活化"><span>Session的钝化与活化</span></a></h4><p>服务器重启后，Session中的数据是否还在?</p><ul><li>钝化:在服务器<code>正常关闭</code>后，Tomcat会自动将Session数据写入硬盘的文件中(对象序列化)</li><li>活化:再次启动服务器后，从文件中加载数据到Session中,然后文件会被删除</li></ul><h4 id="session在浏览器的生命周期" tabindex="-1"><a class="header-anchor" href="#session在浏览器的生命周期"><span>Session在浏览器的生命周期</span></a></h4><blockquote><ul><li>默认为关闭浏览器窗口便自动销毁。</li><li>若生命周期有延长，需在服务端指定</li></ul></blockquote><h4 id="session在服务端的生命周期" tabindex="-1"><a class="header-anchor" href="#session在服务端的生命周期"><span>Session在服务端的生命周期</span></a></h4><blockquote><p>默认为30分钟，可在web.xml 或tomcat的默认配置文件中修改</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">DOCTYPE</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> web</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">app PUBLIC </span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">app</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  &lt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">display</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Archetype</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Created</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Web</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Application</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;/</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">display</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">name</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  &lt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">    &lt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">timeout</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;/</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">timeout</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">  &lt;/</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">config</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&lt;/</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">web</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">app</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>手动销毁</strong></p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/GetSession&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GetSession</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> session</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">invalidate</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 销毁该session</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">session</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;测试&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实现登录记住我功能-通过cookie实现" tabindex="-1"><a class="header-anchor" href="#实现登录记住我功能-通过cookie实现"><span>实现登录记住我功能:通过Cookie实现</span></a></h3><blockquote><p>在页面中提供记住我remember选项</p></blockquote><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">登录</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/login&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;post&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        userName:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        password:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        remember:</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;checkbox&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;remember&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;true&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>处理登录业务，同时处理remember业务逻辑，打钩则生成cookie，发送给客户端</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 服务层</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> remember</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;remember&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">     </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 调用服务层，检查用户存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;true&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">equals</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">remember</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)){</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 如果需要记住客户端，</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">                Cookie</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cusername</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">encode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  // 用户名密码，统一URL编码</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">                Cookie</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cpassword</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">URLEncoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">encode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">));</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  // 用户名密码，统一URL编码</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                cusername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMaxAge</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">60</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">60</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">24</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                cpassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setMaxAge</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">60</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">60</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">24</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                cusername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPath</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 作用域</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                cpassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPath</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 作用域</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addCookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">cusername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">                response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addCookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">cpassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">            }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>后续的登录逻辑，用户访问<code>/login</code>如果能从用户的cookie中找到用户名密码，直接登录，否则内部跳转到<code>/login.html</code>页面</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login_Rdirector</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 服务层</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookies</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getCookies</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 从客户端cookie中提取用户名和密码信息</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        for</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">Cookie</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> cookie</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> :</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> cookies</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">equals</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">                username </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">decode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(),</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 解码URL用户名</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getName</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">equals</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">))</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">                password </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">decode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getValue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(),</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">UTF_8</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 解码URL密码</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 调用服务层，检查用户存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 如果存在，直接回复登陆成功</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getRequestDispatcher</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/login.html&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">).</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">forward</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  // 如果不存在，内部流转到登录页面   </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实现登录记住我功能-通过session实现" tabindex="-1"><a class="header-anchor" href="#实现登录记住我功能-通过session实现"><span>实现登录记住我功能:通过Session实现</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login_Rdirector</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 服务层</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpSession</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> String </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> String </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 调用服务层，检查用户存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 如果存在，直接回复登陆成功</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getRequestDispatcher</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/login.html&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">).</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">forward</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  // 如果不存在，内部流转到登录页面   </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">net</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">URLDecoder</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">nio</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">charset</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">StandardCharsets</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Cookie</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Login_Rdirector</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 服务层</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpSession</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpSession</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> String </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> String </span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//---------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 调用服务层，检查用户存在</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">checkUserExist</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;登录成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 如果存在，直接回复登陆成功</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getRequestDispatcher</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/login.html&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">).</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">forward</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  // 如果不存在，内部流转到登录页面   </span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实现注册用户验证码的案例" tabindex="-1"><a class="header-anchor" href="#实现注册用户验证码的案例"><span>实现注册用户验证码的案例</span></a></h3><p><img src="/assets/2022-12-03-14-46-47-DEMakqUI.png" alt=""><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVsAAABSCAIAAAB11eDGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAnZSURBVHhe7d1/aBNZAgfw1+P+6IJ/VPCPBBQc8WBTLNhwQhPYPzrFBVM8aIoHJvSPbnoH3XQXdtsKbrL7h01cqInC2e4fu4nCLUnBJRE8Wv+QTP9QMoWVZKFLIiiNYCGBExLwIAMK3TczL32TZPpLd9nb9vsh6rw3ycxUfN95781M7NjY2CAAAJo/sT8BAJAIAGCERAAADokAABwSAQA4JAIAcEgEAOCQCADAIREAgEMiAACHRAAADokAABwSAQA4JAIAcEgEAOCQCADAIREAgEMiAAD3Vonwhv0JAPtMeyIo8u15+SUrtKvcnxo45gyvKKz8+5FnOjo6hpPrdFGRZwaHZ5ZKe4yqysIw3UR4hRUBoDURlJVo8KMJZ89g9HGNVTWznBFtRA4O+ZLPWY25lTBtbG3Csr52Pam2xVZ6834LStdRa/6rwRO24egj88N+F7UnkrQs5dd//xAE+K2ZfBdz7VF4+EJQqjj89xJz5wVWa6A8Cjo/COf75gqy38bq2tBEcARd4xGRbaCaS4aTP4WyGwEHLdFEOOYtjQS8PYfZ6tVE+Hsh8SLlOapX7Iz2EZxfuflHnqenPvJH6xO55UBvJyHPlqJ3i9qKNu+7J7Wfi/YRrJ50SN4I9OkrzGk7Iu5kOXXRwqoA9iuaCO3qxZhH/cdvC8n1jVfVNmuJz3yJ1TIrGdRfsy1syCH6edrYGsqJC2pFVi+9SLiJ2sb0ElVOqhWJF6yoq7Otmlu8TDfojq2yoqpcyLFiXT8Ac1fYUWg7NR6kuewV9UPGowXYr8xnFjvf9yXkROTOYqCvU75xuM0J7424t8fKSgbRx2wLv4ZK+p9ss6YGv6bvSY/1sKLK2m1nxaj810k9G2h0BOgbh2IFViyvjQg1TfV/6m7qVb3UDEMEOJB2/h9c6Cg6V2bLzJPkwMdx8o+5zMXWQYO1R7Qd0Za0UYOhQ15J/t3q/aFp1EAM/XCtA0+aRw36R3xzksd0bFJbDg/PkMCdgKjvsYnV3m/rYstyuMMZvJAo39H6PXpRW7EN4xgBowY4QPSuQkM9e9UzmV5jpa3oHfJG39vcrzBqaP5Im132+WmvXz0UmgisWC1ImYz2Sn0pEiIG7rAie33ja9ksRg1wcDSPGipS6l4y6j7h/DS91yt5fxxdtn5R1F7CewVa7Hawov7q7qqyNwIcPM2JYHFFHhRio4J8c9j5YVDa+q6E/wcWwU5/rxuSS1kOnujxhpcrrLwT5c1u30nZBQwZYP9rm1k8ZPPdymUuOyrLkvzsbabX9Nt+OhzqUD3o0O4zUFm9P6gVTr10zJsmJO2x6iXK6lErvMe0wgy7a0HT+IjB8AJvycUXm8u1pe/DpZ+LnYf31HQ7O//MlgDA9FpDl3hVWnu6FOjr1IoKm37fVK2r1e1z9HqAHBLEs6LYp17wF/pEdVl72dR2Kjj0Yr9aspzia8VTaoXan6fLXfp+dS7/bCSy+Rp30SrhiDZpeFRwE1KqNKY9n6Xitwm5MOU9zSp2Uimt0t+7rTsFiOW4OmEBcCCw+YRtaLOAu9E09/YbzSwaN1vPTNLCl/r6emaatuxe9QaKVi0zi5tyIfqJs7GWeVTtSHojeVakdj2FCfCHZ34/AnlZ5DftHhJcxrN040RNzvmbKmcjLsF4bn93dfWRqqGm4XvlRYEtUZ2HrbQ78HOpRLsxj6PBaxXLeMjP+jW7sF7M0QHHacHKykaC1eSKJsABwJKhmX5W9C+1n2817371MR/p3bmPYHJubz5d034BLU1mXuUi6l0P7kRJr2/Rth3txspqWr3K6L9X1ao47Vpj05GgjwAHh2kfoZZ9kKatwtnz9uf8ppN5O0XJ7zh7X6uqMwQ97W9yC+wups7uXtpWE+G/+adWiPvfEc9xvd7Mm2phOTl/aWygx2q/SXdeSn0XV3/G3sZ9TFuzXEzRv6ntn30A2B/MEqGWldQpumFx1w8dtavXaI98s+m20vKit3P7wHlezNJNHG8KhPJzWsdZzrhEUpGWZctIIjLSeCirMeRRKkX5bjx6KUKbPrk7MSB6J67FC6TbfqRLWUnO3ydk1Ot6h58RYP8xSQTlR2meENc5x7Zn8O3VinmJENtWiVBaTRLitG1zSqepUczmicVuMz58WSs9pUEjWBqDfOVlRbvs4YnOejbfV1kO2Y8JU8GB96zdTvfY1LV06aTDNz2XWMqtvdoor2ZiIyRxJZgnjsinbpMewmv6y248cuVJev5afJvvjADYN9oTQck+iBIiuj8wNsW9KubvEjJi32IT+ex/CDnbu/nggRl95OJ1nCLFu+Hotaj6+tzrp52XUadd61woT+K+oaB260JyboEOBJjyepEev9PhEkcn55KZwn/rG0+zsVm/51yvcIiuV+QZ79h9YpkO+U2uU1ZKT9hSQz7aPzxxacz5eZrfBQGwX+nTCVw9E6B9g9ORHCub2WlmsS6p23DdMl7X02YWLSF1s9q0Yu/1pj20ziw+janXM6Yzdbrqjkfdne6kL6VNH1YfhkS1D+MIPcxq04qu2FPtgxvVxfHGjkzUC99qzzv1hbKvWFWzXITGRNOPX06NaHu6mttiohVg/2hNBL0x987qLUK/QLAX6pR+NTVKl/QmWl78TPRNRwLjLrW/MJIq08i5rMZFowEzhW9EQyLUs1doaFgCktYGX29+T4LeJKuFWz51axZXJK/V5CPq85QWTyxfrhZj6oWB8cXWSwjU67XUJ+ob6TsbVyWq2Xspw2NOizHtDZbLahIZ0ANAGsCB0PI0tCJ9IQx8TUJyWZtar8m349k9jZ+POH09kngmWJ7OlGZF2rvP3xzw/0uSn1ls572h6yE3SQz+ZWxpNFW9RcfwcrDDGSaCo4/IKyV6Ys+W+bPS6XOxtSWt5bd4HHWemZL7/KmFOXdjJkJZCQ8OBaVGt96XrsaGmsckL5cmHIPzz2jvwL+4MOdqfFB/0rkJzQs5sd1lC4D9q/X7ESo/pVPfluzXJx1vf+WxJn0RrHw8t8X3oyn5GxPZ/pg2hjcmTpftgtd1XN+rOtTPnk9NbnE/cumRRPpEoeV5hIqc/C4ef1i1nZ8KfeJon6MoLYxN/ChGrnhs6mwCo6znpYfZYuN2rK6TTrHfIex8RRJgf9r5G1MA4ODY4i5mADiQkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAGgj5BeUFSXKwuaW2AAAAAElFTkSuQmCC" alt=""><br><img src="/assets/2022-12-03-14-47-45-B9uG2qdt.png" alt=""></p><p><strong>登录界面</strong></p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&lt;!</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">DOCTYPE</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> html</span><span style="--shiki-light:#8839EF;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> lang</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;en&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> charset</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> http-equiv</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;IE=edge&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">meta</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;viewport&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> content</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">Document</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">title</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">head</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">注册</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">h2</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> action</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/register&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> method</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;post&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        userName: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        password: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">br</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        &lt;!-- --------------------------------------------------------------------- --&gt;</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        VarifyCode: </span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;"> &gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> </span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">img</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> src</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/GetVarifyCodeImg&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> alt</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> style</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CE9178;">width: 200px;height: 50px;&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        &lt;!-- --------------------------------------------------------------------- --&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">        &lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;submit&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> value</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">    &lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">form</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">body</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">html</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>获取验证码图片</strong></p><blockquote><p>核心操作生成验证码图片返回给服务端<br> 并且要把验证码存取在服务端的session中</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">utils</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">CheckCodeUtil</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/api/GetVarifyCodeImg&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GetVarifyCodeImg</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">{</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    protected</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 生成5位的随机验证码，并保存到session中</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> CheckCodeUtil</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">generateVerifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> VarifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 生成200x50的图片，通过输出流返回给浏览器</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        CheckCodeUtil</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">outputImage</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;">200</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 50</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getOutputStream</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(),</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> VarifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重写<code>/api/register.java</code></p><blockquote><p>要将session中的验证码和客户端收到的验证码进行比对</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">database</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">pojo</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">service</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">urlPatterns </span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> &quot;/api/register&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Register</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> extends</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> HttpServlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">    UserService</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> UserService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setCharacterEncoding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;UTF-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setContentType</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;text/html;charset=utf-8&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">        </span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> username</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;username&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> password</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;password&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getParameter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 从浏览器得到的VarifyCode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 从session中获得的VarifyCode</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        String</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode_inSession</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">String</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getAttribute</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;VarifyCode&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">         // 忽略大小写的比对</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> VarifyCode</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">equalsIgnoreCase</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">VarifyCode_inSession</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册失败!,验证码错误。&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        User</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> user</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;"> new</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> User</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">();</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setUsername</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">username</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">setPassword</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">password</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        Boolean</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> userService</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">addUser</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">user</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">result</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册成功!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#C586C0;">        else</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">            response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">getWriter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">().</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;注册失败!&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doPost</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">HttpServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> HttpServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doGet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">req</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> resp</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>生成验证码图片的工具类</strong></p><blockquote><p><a href="./Utils/CheckCodeUtil.java">CheckCodeUtil.java</a></p></blockquote><h2 id="filter" tabindex="-1"><a class="header-anchor" href="#filter"><span>Filter</span></a></h2><p><strong>概念</strong><br> Filter表示过滤器，是JavaWeb三大组件(Servlet、Filter、Listener)之一。</p><p><strong>拦截资源路径</strong></p><ul><li><code>Filter</code>拦截资源路径<code>@WebFilter(&quot;/*&quot;)</code></li><li>具体资源: <code>/index.jsp</code>:只有访问<code>index.jsp</code>时才会被拦截。</li><li>目录拦截:<code>/user/*</code>:访问<code>/user</code>下的所有资源，都会被拦截</li><li>后缀名: <code>*jsp</code>:访问<code>后缀名为jsp</code>的资源，都会被拦截</li><li>拦截所有:<code>/*</code>:访问<code>所有</code>资源，都会被拦截</li></ul><p><strong>注解的优先级</strong><br> 注解配置的Filter，优先级按照过滤器类名(字符串)的排序</p><blockquote><p>过滤器链执行流程<br><img src="/assets/2022-12-03-17-16-31-BzIqG8vW.png" alt=""><br><img src="/assets/2022-12-03-19-48-49-BeNmGF6M.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">filter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> java</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">io</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">Filter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FilterChain</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">FilterConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebFilter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">http</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebFilter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;/login&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> GolbleFilter</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> Filter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> doFilter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletRequest</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletResponse</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> FilterChain</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> chain</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> IOException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    {</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpServletRequest</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpServletRequest</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">HttpServletRequest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 1.放行前，对request中的数据进行预处理</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 此处可对 httpServletRequest 处理</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 2. 放行，转交给下一个过滤器，如果已经是最后一个过滤器，则交给实际的Servlet的处理函数</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        chain</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">doFilter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">request</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">        HttpServletResponse</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;"> httpServletResponse</span><span style="--shiki-light:#179299;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> (</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">HttpServletResponse</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;">response</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 3. 此时拿到的 response 是经过 过滤器和实际Servlet处理函数处理过的response</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 此处可对 httpServletResponse 处理</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> destroy</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> init</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">FilterConfig</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> filterConfig</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> throws</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> ServletException</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="listener" tabindex="-1"><a class="header-anchor" href="#listener"><span>Listener</span></a></h2><p><strong>概念</strong><br> Listener表示监听器，是JavaWeb三大组件(Servlet、Filter、Listener)之一</p><blockquote><p>监听器可以监听就是在<code>application</code>,<code>session</code>,<code>request</code>三个对象创建、销毁或者往其中添加修改删除属性时自动执行代码的功能组件</p></blockquote><p><strong>Listener分类</strong><br> JavaWeb中提供了8个监听器<br><img src="/assets/2022-12-03-20-13-53-mnLJFC-d.png" alt=""></p><p><strong>基本使用</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">package</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;"> com</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">webapptest</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">web</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">filter</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#8839EF;--shiki-dark:#D4D4D4;">listener</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletContextEvent</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">ServletContextListener</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">import</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;"> javax</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">servlet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">annotation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#D4D4D4;">WebListener</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">WebListener</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 记得加注解</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> class</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> ServeletAppListener</span><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;"> implements</span><span style="--shiki-light:#DF8E1D;--shiki-light-font-style:italic;--shiki-dark:#4EC9B0;--shiki-dark-font-style:inherit;"> ServletContextListener</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span><span style="--shiki-light:#7C7F93;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 类名任意，关键是要实现接口，添加注解</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> contextInitialized</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletContextEvent</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> sce</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;ServeletApp启动了......&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">    @</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">Override</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">    public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> void</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> contextDestroyed</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">ServletContextEvent</span><span style="--shiki-light:#E64553;--shiki-light-font-style:italic;--shiki-dark:#9CDCFE;--shiki-dark-font-style:inherit;"> sce</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;"> {</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">        System</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#4C4F69;--shiki-dark:#9CDCFE;">out</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;">println</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;ServeletApp关闭了......&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">);</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="补充-文件上传" tabindex="-1"><a class="header-anchor" href="#补充-文件上传"><span>补充：文件上传</span></a></h2><p><strong>前端写法</strong></p><p><img src="/assets/2023-08-20-09-58-07-BqlvxsdT.png" alt=""><br><img src="/assets/2023-08-20-09-58-57-CDTkaDy5.png" alt=""></p><p><strong>上传单个文件</strong></p><p><img src="/assets/2023-08-20-10-01-41-BVInDpf3.png" alt=""></p><p><strong>上传多个文件</strong></p><blockquote><p>写法上应该可以:</p></blockquote><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;file&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;images&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;file&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;images&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;file&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;file2&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#569CD6;">input</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;file&quot;</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#9CDCFE;"> name</span><span style="--shiki-light:#179299;--shiki-dark:#E6E6E6;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">&quot;file3&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#FE640B;--shiki-dark:#E6E6E6;">@</span><span style="--shiki-light:#FE640B;--shiki-dark:#4EC9B0;">PostMapping</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;"> Result</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#DCDCAA;--shiki-dark-font-style:inherit;"> upload</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">(</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">MultipartFile</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">[]</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> images</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">MultipartFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> file2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">,</span><span style="--shiki-light:#8839EF;--shiki-dark:#4EC9B0;">MultipartFile</span><span style="--shiki-light:#4C4F69;--shiki-dark:#E6E6E6;"> file3</span><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#E6E6E6;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="本地存储" tabindex="-1"><a class="header-anchor" href="#本地存储"><span>本地存储</span></a></h3><blockquote><p>ideals：<br> 存储在本地磁盘上，比如 <code>./public</code> 下,<br> 可以尝试存储文件名用uuid.后缀名，然后用一个file表来记录文件的：主键id,外键,原始文件名,存储文件名<br> 给一篇文章上传附件，就是插入一条数据，insert 外键=文章id<br> 获取一篇文章的所有附件，就是查询file表，where articleId=?<br> 通过访问 <code>localhost/public/存储文件名</code> 来获取原始文件</p></blockquote><p><img src="/assets/2023-08-20-10-42-39-Bo244PQJ.png" alt=""><br><img src="/assets/2023-08-20-10-43-55-C3wTtdVR.png" alt=""><br><img src="/assets/2023-08-20-10-41-01-DElosQ4b.png" alt=""></p><h3 id="远程存储" tabindex="-1"><a class="header-anchor" href="#远程存储"><span>远程存储</span></a></h3><blockquote><p>直接看阿里云的OSS存储相关文档</p></blockquote><p><img src="/assets/2023-08-20-12-56-36-B0snNZ_F.png" alt=""><br><img src="/assets/2023-08-20-12-56-59-B5HJ529f.png" alt=""></p><h2 id="补充-httpclient" tabindex="-1"><a class="header-anchor" href="#补充-httpclient"><span>补充：HttpClient</span></a></h2><p><img src="/assets/2023-08-22-11-35-11-DNowfEYU.png" alt=""></p></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2449695354@qq.com">YiguiDing</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><!----><div class="vp-copyright">MIT Licensed | Copyright © 2019-present Yigui-Ding</div></footer></div><!--]--><!--]--><!--[--><!----><!----><!--[--><!--]--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CMKR-Zwd.js" defer></script>
  </body>
</html>
