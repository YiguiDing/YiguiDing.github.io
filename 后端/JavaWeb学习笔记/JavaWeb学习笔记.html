<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.1" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://dingdingdang.online/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"><meta property="og:site_name" content="Yigui-Dingçš„Blogå°ç«™"><meta property="og:title" content="JavaWebå­¦ä¹ ç¬”è®°"><meta property="og:description" content="JavaWebå­¦ä¹ ç¬”è®°"><meta property="og:type" content="article"><meta property="og:image" content="https://dingdingdang.online/"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-11-28T11:27:55.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="JavaWebå­¦ä¹ ç¬”è®°"><meta property="article:author" content="ä¸æ¯…æ¡‚"><meta property="article:tag" content="ç¬”è®°"><meta property="article:published_time" content="2022-11-06T05:13:00.000Z"><meta property="article:modified_time" content="2023-11-28T11:27:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"JavaWebå­¦ä¹ ç¬”è®°","image":["https://dingdingdang.online/"],"datePublished":"2022-11-06T05:13:00.000Z","dateModified":"2023-11-28T11:27:55.000Z","author":[{"@type":"Person","name":"ä¸æ¯…æ¡‚","email":"2449695354@qq.com"}]}</script><meta name="baidu-site-verification" content="codeva-PwE9Ts6nMl"><link rel="icon" href="/images/favicon_icon.jpg"><link rel="icon" href="/images/favicon_icon.jpg" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/images/favicon_icon.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/images/favicon_icon.jpg"><meta name="msapplication-TileColor" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><link rel="alternate" type="application/rss+xml" href="https://dingdingdang.online/rss.xml" title="Yigui-Dingçš„Blogå°ç«™ RSS Feed"><title>JavaWebå­¦ä¹ ç¬”è®° | Yigui-Dingçš„Blogå°ç«™</title><meta name="description" content="JavaWebå­¦ä¹ ç¬”è®°">
    <link rel="preload" href="/assets/style-X0R4EjxO.css" as="style"><link rel="stylesheet" href="/assets/style-X0R4EjxO.css">
    <link rel="modulepreload" href="/assets/app-CmgBBhDg.js"><link rel="modulepreload" href="/assets/JavaWebå­¦ä¹ ç¬”è®°.html-iuaLFhhR.js"><link rel="modulepreload" href="/assets/JavaWebå­¦ä¹ ç¬”è®°.html-1lmrinyO.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><!----><!----><span class="vp-site-name">Yigui-Dingçš„Blogå°ç«™</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="ä¸»é¡µ" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-house-chimney" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç¬”è®°"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="å‰ç«¯" class="vp-link nav-link nav-link" href="/%E5%89%8D%E7%AB%AF/"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>å‰ç«¯<!----></a></li><li class="dropdown-item"><a aria-label="åç«¯" class="vp-link nav-link active nav-link active" href="/%E5%90%8E%E7%AB%AF/"><span class="font-icon icon fa-fw fa-sm fas fa-server" style=""></span>åç«¯<!----></a></li><li class="dropdown-item"><a aria-label="ç®—æ³•" class="vp-link nav-link nav-link" href="/%E7%AE%97%E6%B3%95/"><span class="font-icon icon fa-fw fa-sm fas fa-diagram-project" style=""></span>ç®—æ³•<!----></a></li><li class="dropdown-item"><a aria-label="ç”µå­" class="vp-link nav-link nav-link" href="/%E7%94%B5%E5%AD%90/"><span class="font-icon icon fa-fw fa-sm fas fa-bolt" style=""></span>ç”µå­<!----></a></li><li class="dropdown-item"><a aria-label="ç†è®º" class="vp-link nav-link nav-link" href="/%E7%90%86%E8%AE%BA/"><span class="font-icon icon fa-fw fa-sm fas fa-book-bookmark" style=""></span>ç†è®º<!----></a></li><li class="dropdown-item"><a aria-label="å·¥å…·" class="vp-link nav-link nav-link" href="/%E5%B7%A5%E5%85%B7/"><span class="font-icon icon fa-fw fa-sm fas fa-screwdriver-wrench" style=""></span>å·¥å…·<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a aria-label="éšç¬”" class="vp-link nav-link nav-link" href="/%E9%9A%8F%E7%AC%94/"><span class="font-icon icon fa-fw fa-sm fas fa-note-sticky" style=""></span>éšç¬”<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="è®¡åˆ’" class="vp-link nav-link nav-link" href="/%E8%AE%A1%E5%88%92/"><span class="font-icon icon fa-fw fa-sm fas fa-list-check" style=""></span>è®¡åˆ’<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="é¡¹ç›®" class="vp-link nav-link nav-link" href="/%E9%A1%B9%E7%9B%AE/"><span class="font-icon icon fa-fw fa-sm fas fa-box" style=""></span>é¡¹ç›®<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="å‹é“¾" class="vp-link nav-link nav-link" href="/%E7%BD%91%E7%AB%99/%E5%8F%8B%E9%93%BE.html"><span class="font-icon icon fa-fw fa-sm fas fa-user-group" style=""></span>å‹é“¾<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="å…³äº" class="vp-link nav-link nav-link" href="/%E7%BD%91%E7%AB%99/%E5%85%B3%E4%BA%8E.html"><span class="font-icon icon fa-fw fa-sm fas fa-address-card" style=""></span>å…³äº<!----></a></div></nav><!----><!----><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Alpine Linux(i S H And U T M)é…ç½®è¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Alpineå®‰è£…code Serverè¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Expresså­¦ä¹ ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Expressé…ç½®å­åŸŸåå’Œhttpsè¯ä¹¦</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">Java Webå­¦ä¹ ç¬”è®°</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="JavaWebå­¦ä¹ ç¬”è®°" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"><!---->JavaWebå­¦ä¹ ç¬”è®°<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ç›®å½•" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ç›®å½•"><!---->ç›®å½•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ¦‚å¿µ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ¦‚å¿µ"><!---->æ¦‚å¿µ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ•°æ®åº“:mySql" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ•°æ®åº“-mysql"><!---->æ•°æ®åº“:mySql<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="mySqlå®‰è£…é…ç½®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mysqlå®‰è£…é…ç½®"><!---->mySqlå®‰è£…é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="SQLåŸºç¡€è¯­æ³•" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#sqlåŸºç¡€è¯­æ³•"><!---->SQLåŸºç¡€è¯­æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="MySqlæ•°æ®ç±»å‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mysqlæ•°æ®ç±»å‹"><!---->MySqlæ•°æ®ç±»å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="SQLè¯­å¥çš„åˆ†ç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#sqlè¯­å¥çš„åˆ†ç±»"><!---->SQLè¯­å¥çš„åˆ†ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="DDL(Data Definition Language)æ•°æ®å®šä¹‰è¯­è¨€" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ddl-data-definition-language-æ•°æ®å®šä¹‰è¯­è¨€"><!---->DDL(Data Definition Language)æ•°æ®å®šä¹‰è¯­è¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="DML(Data Manipulation Language)æ•°æ®æ“ä½œè¯­è¨€" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#dml-data-manipulation-language-æ•°æ®æ“ä½œè¯­è¨€"><!---->DML(Data Manipulation Language)æ•°æ®æ“ä½œè¯­è¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="DQL(Data Query Language)æ•°æ®æŸ¥è¯¢è¯­è¨€" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#dql-data-query-language-æ•°æ®æŸ¥è¯¢è¯­è¨€"><!---->DQL(Data Query Language)æ•°æ®æŸ¥è¯¢è¯­è¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="DCL(Data Control Language)æ•°æ®æ§åˆ¶è¯­è¨€" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#dcl-data-control-language-æ•°æ®æ§åˆ¶è¯­è¨€"><!---->DCL(Data Control Language)æ•°æ®æ§åˆ¶è¯­è¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="çº¦æŸ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#çº¦æŸ"><!---->çº¦æŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ•°æ®åº“è®¾è®¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ•°æ®åº“è®¾è®¡"><!---->æ•°æ®åº“è®¾è®¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¤šè¡¨æŸ¥è¯¢" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#å¤šè¡¨æŸ¥è¯¢"><!---->å¤šè¡¨æŸ¥è¯¢<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="äº‹åŠ¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#äº‹åŠ¡"><!---->äº‹åŠ¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="JDBC" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#jdbc"><!---->JDBC<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="DriverManagerå·¥å…·ç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#drivermanagerå·¥å…·ç±»"><!---->DriverManagerå·¥å…·ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Connectionæ•°æ®åº“è¿æ¥å¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#connectionæ•°æ®åº“è¿æ¥å¯¹è±¡"><!---->Connectionæ•°æ®åº“è¿æ¥å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Statement sqlæ‰§è¡Œå™¨å¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#statement-sqlæ‰§è¡Œå™¨å¯¹è±¡"><!---->Statement sqlæ‰§è¡Œå™¨å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="PreparedStatement é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡:é˜²æ­¢sqlæ³¨å…¥" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#preparedstatement-é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡-é˜²æ­¢sqlæ³¨å…¥"><!---->PreparedStatement é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡:é˜²æ­¢sqlæ³¨å…¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ResultSet ç»“æœé›†åˆå¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#resultset-ç»“æœé›†åˆå¯¹è±¡"><!---->ResultSet ç»“æœé›†åˆå¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ•°æ®åº“è¿æ¥æ± " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ•°æ®åº“è¿æ¥æ± "><!---->æ•°æ®åº“è¿æ¥æ± <!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="JDBCç»ƒä¹ " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#jdbcç»ƒä¹ "><!---->JDBCç»ƒä¹ <!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Maven" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#maven"><!---->Maven<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="myBatis" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mybatis"><!---->myBatis<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="myBatisç®€å•ç¤ºä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mybatisç®€å•ç¤ºä¾‹"><!---->myBatisç®€å•ç¤ºä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ ¸å¿ƒé…ç½®æ–‡ä»¶"><!---->æ ¸å¿ƒé…ç½®æ–‡ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æŸ¥è¯¢æ•°æ®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æŸ¥è¯¢æ•°æ®-1"><!---->æŸ¥è¯¢æ•°æ®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¢æ·»æ•°æ®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#å¢æ·»æ•°æ®"><!---->å¢æ·»æ•°æ®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¿®æ”¹æ•°æ®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ä¿®æ”¹æ•°æ®"><!---->ä¿®æ”¹æ•°æ®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆ é™¤æ•°æ®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#åˆ é™¤æ•°æ®-1"><!---->åˆ é™¤æ•°æ®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="myBatiså¯¹å‚æ•°çš„å°è£…" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mybatiså¯¹å‚æ•°çš„å°è£…"><!---->myBatiså¯¹å‚æ•°çš„å°è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ"><!---->ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Tomcat" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#tomcat"><!---->Tomcat<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Servlet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#servlet"><!---->Servlet<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ä»€ä¹ˆæ˜¯Servlet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ä»€ä¹ˆæ˜¯servlet"><!---->ä»€ä¹ˆæ˜¯Servlet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å®ç°æœ€ç®€Servletç¨‹åº" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#å®ç°æœ€ç®€servletç¨‹åº"><!---->å®ç°æœ€ç®€Servletç¨‹åº<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="servletç”Ÿå‘½å‘¨æœŸ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#servletç”Ÿå‘½å‘¨æœŸ"><!---->servletç”Ÿå‘½å‘¨æœŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="HTTPServlet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#httpservlet"><!---->HTTPServlet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="urlPatterné…ç½®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#urlpatterné…ç½®"><!---->urlPatterné…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="xmlæ–¹å¼é…ç½®Servlet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#xmlæ–¹å¼é…ç½®servlet"><!---->xmlæ–¹å¼é…ç½®Servlet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requestå¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#requestå¯¹è±¡"><!---->Requestå¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢Forward" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢forward"><!---->Requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢Forward<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Responseå¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#responseå¯¹è±¡"><!---->Responseå¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ¡ˆä¾‹ï¼šå®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ¡ˆä¾‹-å®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹"><!---->æ¡ˆä¾‹ï¼šå®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¼˜åŒ–ï¼šæŠŠSqlSessionFactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ä¼˜åŒ–-æŠŠsqlsessionfactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»"><!---->ä¼˜åŒ–ï¼šæŠŠSqlSessionFactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="JSP(Java Server Pages)JavaæœåŠ¡ç«¯é¡µé¢" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#jsp-java-server-pages-javaæœåŠ¡ç«¯é¡µé¢"><!---->JSP(Java Server Pages)JavaæœåŠ¡ç«¯é¡µé¢<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="servlet+jsp" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#servlet-jsp"><!---->servlet+jsp<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="JSTFæ ‡ç­¾" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#jstfæ ‡ç­¾"><!---->JSTFæ ‡ç­¾<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="MVCæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mvcæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„"><!---->MVCæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="MVCæ¨¡å¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mvcæ¨¡å¼"><!---->MVCæ¨¡å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¸‰å±‚æ¶æ„" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ä¸‰å±‚æ¶æ„"><!---->ä¸‰å±‚æ¶æ„<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="SSMä¸‰å¤§æ¡†æ¶" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ssmä¸‰å¤§æ¡†æ¶"><!---->SSMä¸‰å¤§æ¡†æ¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="MVCä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mvcä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«"><!---->MVCä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘"><!---->æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹"><!---->ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="é¡¹ç›®ç›®å½•ç»“æ„" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#é¡¹ç›®ç›®å½•ç»“æ„"><!---->é¡¹ç›®ç›®å½•ç»“æ„<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="databaseæ•°æ®è®¿é—®å±‚" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#databaseæ•°æ®è®¿é—®å±‚"><!---->databaseæ•°æ®è®¿é—®å±‚<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="serviceä¸šåŠ¡é€»è¾‘å±‚" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#serviceä¸šåŠ¡é€»è¾‘å±‚"><!---->serviceä¸šåŠ¡é€»è¾‘å±‚<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="webè¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#webè¡¨ç°å±‚-æ§åˆ¶å™¨-è§†å›¾"><!---->webè¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="mavené…ç½®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#mavené…ç½®"><!---->mavené…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’ŒJSONå“åº”" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’Œjsonå“åº”"><!---->ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’ŒJSONå“åº”<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Fastjsonï¼šJSON æ•°æ®å’Œ Java å¯¹è±¡è½¬æ¢" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#fastjson-json-æ•°æ®å’Œ-java-å¯¹è±¡è½¬æ¢"><!---->Fastjsonï¼šJSON æ•°æ®å’Œ Java å¯¹è±¡è½¬æ¢<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Cookieã€Sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#cookieã€sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯"><!---->Cookieã€Sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Cookie" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#cookie"><!---->Cookie<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Session" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#session"><!---->Session<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Cookieå®ç°" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡cookieå®ç°"><!---->å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Cookieå®ç°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Sessionå®ç°" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡sessionå®ç°"><!---->å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Sessionå®ç°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹"><!---->å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Filter" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#filter"><!---->Filter<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Listener" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#listener"><!---->Listener<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¡¥å……ï¼šæ–‡ä»¶ä¸Šä¼ " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#è¡¥å……-æ–‡ä»¶ä¸Šä¼ "><!---->è¡¥å……ï¼šæ–‡ä»¶ä¸Šä¼ <!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="æœ¬åœ°å­˜å‚¨" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#æœ¬åœ°å­˜å‚¨"><!---->æœ¬åœ°å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¿œç¨‹å­˜å‚¨" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#è¿œç¨‹å­˜å‚¨"><!---->è¿œç¨‹å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è¡¥å……ï¼šHttpClient" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#è¡¥å……-httpclient"><!---->è¡¥å……ï¼šHttpClient<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Javaå­¦ä¹ ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Linuxå¤‡å¿˜ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Mkcertç”Ÿæˆè‡ªç­¾httpsè¯ä¹¦è¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Mysqlç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Nginxæœ€ç®€å¯ç”¨é…ç½®è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Nginxå®ç°åå‘ä»£ç†å¹¶å¯ç”¨sslçš„æœ€ç®€é…ç½®</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Nodejs Npmå¤‡å¿˜ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Nodejså­¦ä¹ ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Nodejsçš„mysqlæ¨¡å—å­¦ä¹ ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">S Q Lå­¦ä¹ ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">S S Mæ¡†æ¶å­¦ä¹ </span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Spring Boot2å­¦ä¹ ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntu22.04é…ç½®è¿‡ç¨‹å‘½ä»¤è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntu23.10ç›¸å…³é…ç½®è¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntuä¸‹é…ç½®x R D Pè¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Ubuntué…ç½®code Serverè¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Win10å°†exeé…ç½®æˆæœåŠ¡è¿‡ç¨‹è®°å½•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><img class="page-cover" src="/./cover/JavaWebå­¦ä¹ ç¬”è®°.png" alt="JavaWebå­¦ä¹ ç¬”è®°" no-view><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->JavaWebå­¦ä¹ ç¬”è®°</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">ä¸æ¯…æ¡‚</span></span><span property="author" content="ä¸æ¯…æ¡‚"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-11-06T05:13:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 105 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT105M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category8 clickable" role="navigation">ç¬”è®°</span><!--]--><meta property="articleSection" content="ç¬”è®°"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag8 clickable" role="navigation">ç¬”è®°</span><!--]--><meta property="keywords" content="ç¬”è®°"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ç›®å½•">ç›®å½•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#æ¦‚å¿µ">æ¦‚å¿µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#æ•°æ®åº“-mysql">æ•°æ®åº“:mySql</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mysqlå®‰è£…é…ç½®">mySqlå®‰è£…é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#sqlåŸºç¡€è¯­æ³•">SQLåŸºç¡€è¯­æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mysqlæ•°æ®ç±»å‹">MySqlæ•°æ®ç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#sqlè¯­å¥çš„åˆ†ç±»">SQLè¯­å¥çš„åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ddl-data-definition-language-æ•°æ®å®šä¹‰è¯­è¨€">DDL(Data Definition Language)æ•°æ®å®šä¹‰è¯­è¨€</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#dml-data-manipulation-language-æ•°æ®æ“ä½œè¯­è¨€">DML(Data Manipulation Language)æ•°æ®æ“ä½œè¯­è¨€</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#dql-data-query-language-æ•°æ®æŸ¥è¯¢è¯­è¨€">DQL(Data Query Language)æ•°æ®æŸ¥è¯¢è¯­è¨€</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#dcl-data-control-language-æ•°æ®æ§åˆ¶è¯­è¨€">DCL(Data Control Language)æ•°æ®æ§åˆ¶è¯­è¨€</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#çº¦æŸ">çº¦æŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ•°æ®åº“è®¾è®¡">æ•°æ®åº“è®¾è®¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å¤šè¡¨æŸ¥è¯¢">å¤šè¡¨æŸ¥è¯¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#äº‹åŠ¡">äº‹åŠ¡</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#jdbc">JDBC</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#drivermanagerå·¥å…·ç±»">DriverManagerå·¥å…·ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#connectionæ•°æ®åº“è¿æ¥å¯¹è±¡">Connectionæ•°æ®åº“è¿æ¥å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#statement-sqlæ‰§è¡Œå™¨å¯¹è±¡">Statement sqlæ‰§è¡Œå™¨å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#preparedstatement-é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡-é˜²æ­¢sqlæ³¨å…¥">PreparedStatement é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡:é˜²æ­¢sqlæ³¨å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#resultset-ç»“æœé›†åˆå¯¹è±¡">ResultSet ç»“æœé›†åˆå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ•°æ®åº“è¿æ¥æ± ">æ•°æ®åº“è¿æ¥æ± </a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#jdbcç»ƒä¹ ">JDBCç»ƒä¹ </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#maven">Maven</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#mybatis">myBatis</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mybatisç®€å•ç¤ºä¾‹">myBatisç®€å•ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ ¸å¿ƒé…ç½®æ–‡ä»¶">æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æŸ¥è¯¢æ•°æ®-1">æŸ¥è¯¢æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å¢æ·»æ•°æ®">å¢æ·»æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ä¿®æ”¹æ•°æ®">ä¿®æ”¹æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#åˆ é™¤æ•°æ®-1">åˆ é™¤æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mybatiså¯¹å‚æ•°çš„å°è£…">myBatiså¯¹å‚æ•°çš„å°è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ">ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#tomcat">Tomcat</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#servlet">Servlet</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ä»€ä¹ˆæ˜¯servlet">ä»€ä¹ˆæ˜¯Servlet</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å®ç°æœ€ç®€servletç¨‹åº">å®ç°æœ€ç®€Servletç¨‹åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#servletç”Ÿå‘½å‘¨æœŸ">servletç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#httpservlet">HTTPServlet</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#urlpatterné…ç½®">urlPatterné…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#xmlæ–¹å¼é…ç½®servlet">xmlæ–¹å¼é…ç½®Servlet</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#requestå¯¹è±¡">Requestå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢forward">Requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢Forward</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#responseå¯¹è±¡">Responseå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ¡ˆä¾‹-å®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹">æ¡ˆä¾‹ï¼šå®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ä¼˜åŒ–-æŠŠsqlsessionfactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»">ä¼˜åŒ–ï¼šæŠŠSqlSessionFactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#jsp-java-server-pages-javaæœåŠ¡ç«¯é¡µé¢">JSP(Java Server Pages)JavaæœåŠ¡ç«¯é¡µé¢</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#servlet-jsp">servlet+jsp</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#jstfæ ‡ç­¾">JSTFæ ‡ç­¾</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#mvcæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„">MVCæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mvcæ¨¡å¼">MVCæ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ä¸‰å±‚æ¶æ„">ä¸‰å±‚æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ssmä¸‰å¤§æ¡†æ¶">SSMä¸‰å¤§æ¡†æ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mvcä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«">MVCä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘">æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹">ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#é¡¹ç›®ç›®å½•ç»“æ„">é¡¹ç›®ç›®å½•ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#databaseæ•°æ®è®¿é—®å±‚">databaseæ•°æ®è®¿é—®å±‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#serviceä¸šåŠ¡é€»è¾‘å±‚">serviceä¸šåŠ¡é€»è¾‘å±‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#webè¡¨ç°å±‚-æ§åˆ¶å™¨-è§†å›¾">webè¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#mavené…ç½®">mavené…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’Œjsonå“åº”">ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’ŒJSONå“åº”</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#fastjson-json-æ•°æ®å’Œ-java-å¯¹è±¡è½¬æ¢">Fastjsonï¼šJSON æ•°æ®å’Œ Java å¯¹è±¡è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#cookieã€sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯">Cookieã€Sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#cookie">Cookie</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#session">Session</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡cookieå®ç°">å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Cookieå®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡sessionå®ç°">å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Sessionå®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹">å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#filter">Filter</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#listener">Listener</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¡¥å……-æ–‡ä»¶ä¸Šä¼ ">è¡¥å……ï¼šæ–‡ä»¶ä¸Šä¼ </a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#æœ¬åœ°å­˜å‚¨">æœ¬åœ°å­˜å‚¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#è¿œç¨‹å­˜å‚¨">è¿œç¨‹å­˜å‚¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#è¡¥å……-httpclient">è¡¥å……ï¼šHttpClient</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="javawebå­¦ä¹ ç¬”è®°" tabindex="-1"><a class="header-anchor" href="#javawebå­¦ä¹ ç¬”è®°" aria-hidden="true">#</a> JavaWebå­¦ä¹ ç¬”è®°</h1><p><img src="/assets/JavaWebå­¦ä¹ ç¬”è®°-e_qnYyrf.png" alt=""></p><details><summary> æ˜¾ç¤º/éšè— <h2 id="ç›®å½•" tabindex="-1"><a class="header-anchor" href="#ç›®å½•" aria-hidden="true">#</a> ç›®å½•</h2></summary><ul><li><a href="#javaweb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">JavaWebå­¦ä¹ ç¬”è®°</a><ul><li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li><li><a href="#%E6%A6%82%E5%BF%B5">æ¦‚å¿µ</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93mysql">æ•°æ®åº“:mySql</a><ul><li><a href="#mysql%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">mySqlå®‰è£…é…ç½®</a></li><li><a href="#sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95">SQLåŸºç¡€è¯­æ³•</a></li><li><a href="#mysql%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">MySqlæ•°æ®ç±»å‹</a></li><li><a href="#sql%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%88%86%E7%B1%BB">SQLè¯­å¥çš„åˆ†ç±»</a></li><li><a href="#ddldata-definition-language%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80">DDL(Data Definition Language)æ•°æ®å®šä¹‰è¯­è¨€</a><ul><li><a href="#ddl%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93">DDLâ€”â€”&gt;<code>æ“ä½œæ•°æ®åº“</code></a><ul><li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93">æŸ¥è¯¢æ•°æ®åº“</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93">åˆ›å»ºæ•°æ®åº“</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93">åˆ é™¤æ•°æ®åº“</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93">ä½¿ç”¨ï¼ˆåˆ‡æ¢ï¼‰æ•°æ®åº“</a></li><li><a href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93">æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</a></li></ul></li><li><a href="#ddl%E6%93%8D%E4%BD%9C%E8%A1%A8">DDLâ€”â€”&gt;<code>æ“ä½œè¡¨</code></a><ul><li><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8">åˆ›å»ºè¡¨</a></li><li><a href="#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E8%A1%A8">æŸ¥è¯¢æ‰€æœ‰è¡¨</a></li><li><a href="#%E6%9F%A5%E8%AF%A2%E8%A1%A8%E7%BB%93%E6%9E%84">æŸ¥è¯¢è¡¨ç»“æ„</a></li><li><a href="#%E5%88%A0%E9%99%A4%E8%A1%A8">åˆ é™¤è¡¨</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E8%A1%A8">ä¿®æ”¹è¡¨</a><ul><li><a href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%90%8D">ä¿®æ”¹è¡¨å</a></li><li><a href="#%E6%B7%BB%E5%8A%A0%E5%88%97">æ·»åŠ åˆ—</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E5%88%97%E5%90%8D%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹</a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%88%97">åˆ é™¤åˆ—</a></li></ul></li><li><a href="#%E6%A1%88%E4%BE%8B">æ¡ˆä¾‹</a></li></ul></li></ul></li><li><a href="#dmldata-manipulation-language%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80">DML(Data Manipulation Language)æ•°æ®æ“ä½œè¯­è¨€</a><ul><li><a href="#dml%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">DMLâ€”â€”&gt;<code>æ·»åŠ æ•°æ®</code></a><ul><li><a href="#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E5%88%B0%E6%8C%87%E5%AE%9A%E5%88%97">æ·»åŠ æ•°æ®åˆ°æŒ‡å®šåˆ—</a></li><li><a href="#%E7%BB%99%E6%89%80%E6%9C%89%E5%88%97%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">ç»™æ‰€æœ‰åˆ—æ·»åŠ æ•°æ®</a></li><li><a href="#%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">æ‰¹é‡æ·»åŠ æ•°æ®</a></li></ul></li><li><a href="#dml%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE">DMLâ€”â€”&gt;<code>ä¿®æ”¹æ•°æ®</code></a></li><li><a href="#dml%E5%88%A0%E9%99%A4%E8%A1%A8%E6%95%B0%E6%8D%AE">DMLâ€”â€”&gt;<code>åˆ é™¤è¡¨æ•°æ®</code></a></li></ul></li><li><a href="#dqldata-query-language%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80">DQL(Data Query Language)æ•°æ®æŸ¥è¯¢è¯­è¨€</a><ul><li><a href="#dql%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2">DQLâ€”â€”&gt;<code>åŸºç¡€æŸ¥è¯¢</code></a></li><li><a href="#dql%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">DQLâ€”â€”&gt;<code>æ¡ä»¶æŸ¥è¯¢</code></a></li><li><a href="#dql%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2">DQLâ€”â€”&gt;<code>æ’åºæŸ¥è¯¢</code></a></li><li><a href="#dql%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2">DQLâ€”â€”&gt;<code>èšåˆæŸ¥è¯¢</code></a></li><li><a href="#dql%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2">DQLâ€”â€”&gt;<code>åˆ†ç»„æŸ¥è¯¢</code></a></li><li><a href="#dql%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2">DQLâ€”â€”&gt;<code>åˆ†é¡µæŸ¥è¯¢</code></a></li></ul></li><li><a href="#dcldata-control-language%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80">DCL(Data Control Language)æ•°æ®æ§åˆ¶è¯­è¨€</a><ul><li><a href="#">??</a></li></ul></li><li><a href="#%E7%BA%A6%E6%9D%9F">çº¦æŸ</a><ul><li><a href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F">éç©ºçº¦æŸ</a></li><li><a href="#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F">å”¯ä¸€çº¦æŸ</a></li><li><a href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F">ä¸»é”®çº¦æŸ</a></li><li><a href="#%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F">æ£€æŸ¥çº¦æŸ</a></li><li><a href="#%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F">é»˜è®¤çº¦æŸ</a></li><li><a href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F">å¤–é”®çº¦æŸ</a></li><li><a href="#%E9%A2%9D">é¢</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1">æ•°æ®åº“è®¾è®¡</a><ul><li><a href="#%E4%B8%80%E5%AF%B9%E4%B8%80">ä¸€å¯¹ä¸€</a></li><li><a href="#%E4%B8%80%E5%AF%B9%E5%A4%9A">ä¸€å¯¹å¤š</a></li><li><a href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A">å¤šå¯¹å¤š</a></li></ul></li><li><a href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2">å¤šè¡¨æŸ¥è¯¢</a><ul><li><a href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF">ç¬›å¡å°”ç§¯</a></li><li><a href="#%E5%86%85%E8%BF%9E%E6%8E%A5">å†…è¿æ¥</a></li><li><a href="#%E5%A4%96%E8%BF%9E%E6%8E%A5">å¤–è¿æ¥</a></li><li><a href="#%E5%AD%90%E6%9F%A5%E8%AF%A2">å­æŸ¥è¯¢</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AD%90%E6%9F%A5%E8%AF%A2">æ¡ˆä¾‹ï¼šå­æŸ¥è¯¢</a></li></ul></li><li><a href="#%E4%BA%8B%E5%8A%A1">äº‹åŠ¡</a></li></ul></li><li><a href="#jdbc">JDBC</a><ul><li><a href="#drivermanager%E5%B7%A5%E5%85%B7%E7%B1%BB">DriverManagerå·¥å…·ç±»</a></li><li><a href="#connection%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1">Connectionæ•°æ®åº“è¿æ¥å¯¹è±¡</a></li><li><a href="#statement-sql%E6%89%A7%E8%A1%8C%E5%99%A8%E5%AF%B9%E8%B1%A1"><code>Statement</code> sqlæ‰§è¡Œå™¨å¯¹è±¡</a></li><li><a href="#preparedstatement-%E9%A2%84%E7%BC%96%E8%AF%91sql%E6%89%A7%E8%A1%8C%E5%99%A8%E5%AF%B9%E8%B1%A1%E9%98%B2%E6%AD%A2sql%E6%B3%A8%E5%85%A5"><code>PreparedStatement</code> é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡:é˜²æ­¢sqlæ³¨å…¥</a></li><li><a href="#resultset-%E7%BB%93%E6%9E%9C%E9%9B%86%E5%90%88%E5%AF%B9%E8%B1%A1">ResultSet ç»“æœé›†åˆå¯¹è±¡</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0">æ•°æ®åº“è¿æ¥æ± </a><ul><li><a href="#druid%E5%BE%B7%E9%B2%81%E4%BC%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0">Druidå¾·é²ä¼Šæ•°æ®åº“è¿æ¥æ± </a></li></ul></li><li><a href="#jdbc%E7%BB%83%E4%B9%A0">JDBCç»ƒä¹ </a><ul><li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE">æŸ¥è¯¢æ•°æ®</a></li><li><a href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE">æ’å…¥æ•°æ®</a></li><li><a href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE">æ›´æ–°æ•°æ®</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">åˆ é™¤æ•°æ®</a></li></ul></li></ul></li><li><a href="#maven">Maven</a></li><li><a href="#mybatis">myBatis</a><ul><li><a href="#mybatis%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B">myBatisç®€å•ç¤ºä¾‹</a><ul><li><a href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B1mybatis%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B">ä½¿ç”¨ç¤ºä¾‹1:myBatisç®€å•ç¤ºä¾‹</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B2%E4%BD%BF%E7%94%A8mapper%E4%BB%A3%E7%90%86%E6%96%B9%E5%BC%8F">ä½¿ç”¨ç¤ºä¾‹2:ä½¿ç”¨Mapperä»£ç†æ–¹å¼</a></li></ul></li><li><a href="#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li><li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE-1">æŸ¥è¯¢æ•°æ®</a><ul><li><a href="#%E5%A4%9A%E6%9F%A5%E8%AF%A2selectall">å¤šæŸ¥è¯¢selectAll</a></li><li><a href="#%E5%8D%95%E6%9F%A5%E8%AF%A2selectbyid">å•æŸ¥è¯¢selectById</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E6%95%A3%E8%A3%85%E5%8F%82%E6%95%B0">å¤šæ¡ä»¶æŸ¥è¯¢ï¼šæ•£è£…å‚æ•°</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E5%AF%B9%E8%B1%A1%E5%8F%82%E6%95%B0">å¤šæ¡ä»¶æŸ¥è¯¢ï¼šå¯¹è±¡å‚æ•°</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E9%9B%86%E5%90%88%E5%8F%82%E6%95%B0">å¤šæ¡ä»¶æŸ¥è¯¢ï¼šé›†åˆå‚æ•°</a></li><li><a href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6-%E5%8A%A8%E6%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2where%E6%A0%87%E7%AD%BE%E6%88%9611%E6%81%92%E7%AD%89%E5%BC%8F">å¤šæ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢<code>whereæ ‡ç­¾æˆ–1=1æ’ç­‰å¼</code></a></li><li><a href="#%E5%8D%95%E6%9D%A1%E4%BB%B6-%E5%8A%A8%E6%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2whenchooseotherwise">å•æ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢<code>:when:choose:otherwise</code></a></li></ul></li><li><a href="#%E5%A2%9E%E6%B7%BB%E6%95%B0%E6%8D%AE">å¢æ·»æ•°æ®</a><ul><li><a href="#%E6%8F%92%E5%85%A5%E5%8D%95%E6%9D%A1%E6%95%B0%E6%8D%AE">æ’å…¥å•æ¡æ•°æ®</a></li><li><a href="#%E6%8F%92%E5%85%A5%E5%8D%95%E6%9D%A1%E6%95%B0%E6%8D%AE%E8%BF%94%E5%9B%9E%E4%B8%BB%E9%94%AE">æ’å…¥å•æ¡æ•°æ®ï¼šè¿”å›ä¸»é”®</a></li></ul></li><li><a href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE">ä¿®æ”¹æ•°æ®</a><ul><li><a href="#%E4%BF%AE%E6%94%B9%E5%85%A8%E9%83%A8%E5%AD%97%E6%AE%B5">ä¿®æ”¹å…¨éƒ¨å­—æ®µ</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E4%BB%BB%E6%84%8F%E5%AD%97%E6%AE%B5setif">ä¿®æ”¹ä»»æ„å­—æ®µ<code>set:if</code></a></li></ul></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE-1">åˆ é™¤æ•°æ®</a><ul><li><a href="#%E5%88%A0%E9%99%A4%E5%8D%95%E4%B8%AAdeletebyid">åˆ é™¤å•ä¸ªdeleteById</a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%A4%9A%E4%B8%AAdeletebyid%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%89%88">åˆ é™¤å¤šä¸ª<code>deleteById</code>:<code>ä¸ä½¿ç”¨æ³¨è§£ç‰ˆ</code></a></li><li><a href="#%E5%88%A0%E9%99%A4%E5%A4%9A%E4%B8%AAdeletebyid%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%89%88">åˆ é™¤å¤šä¸ª<code>deleteById</code>:<code>ä½¿ç”¨æ³¨è§£ç‰ˆ</code></a></li></ul></li><li><a href="#mybatis%E5%AF%B9%E5%8F%82%E6%95%B0%E7%9A%84%E5%B0%81%E8%A3%85">myBatiså¯¹å‚æ•°çš„å°è£…</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%8C%E6%88%90%E7%AE%80%E5%8D%95sql%E6%93%8D%E4%BD%9C">ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ</a></li></ul></li><li><a href="#tomcat">Tomcat</a></li><li><a href="#servlet">Servlet</a><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFservlet">ä»€ä¹ˆæ˜¯Servlet</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E6%9C%80%E7%AE%80servlet%E7%A8%8B%E5%BA%8F">å®ç°æœ€ç®€Servletç¨‹åº</a></li><li><a href="#servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">servletç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="#httpservlet">HTTPServlet</a></li><li><a href="#urlpattern%E9%85%8D%E7%BD%AE">urlPatterné…ç½®</a></li><li><a href="#xml%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEservlet">xmlæ–¹å¼é…ç½®Servlet</a></li><li><a href="#request%E5%AF%B9%E8%B1%A1">Requestå¯¹è±¡</a><ul><li><a href="#request%E7%BB%A7%E6%89%BF%E4%BD%93%E7%B3%BB">Requestç»§æ‰¿ä½“ç³»</a></li><li><a href="#request%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95">Requestå¸¸ç”¨æ–¹æ³•</a></li><li><a href="#%E9%80%9A%E7%94%A8%E7%9A%84%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95">é€šç”¨çš„è·å–å‚æ•°çš„æ–¹æ³•</a></li><li><a href="#%E8%A7%A3%E5%86%B3request%E8%BE%93%E5%85%A5%E6%B5%81%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E7%9A%84%E9%97%AE%E9%A2%98">è§£å†³Requestè¾“å…¥æµä¸­æ–‡ä¹±ç çš„é—®é¢˜</a></li></ul></li><li><a href="#request%E5%86%85%E9%83%A8%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E8%BD%AC%E5%8F%91%E6%B5%81%E8%BD%AC%E7%BB%99jsp%E9%A1%B5%E9%9D%A2forward">Requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢Forward</a></li><li><a href="#response%E5%AF%B9%E8%B1%A1">Responseå¯¹è±¡</a><ul><li><a href="#response%E8%AE%BE%E7%BD%AE%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D">Responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»</a></li><li><a href="#response%E5%AE%8C%E6%88%90%E9%87%8D%E5%AE%9A%E5%90%91">Responseå®Œæˆé‡å®šå‘</a></li><li><a href="#response%E5%93%8D%E5%BA%94%E5%AD%97%E7%AC%A6%E6%95%B0%E6%8D%AE">Responseå“åº”å­—ç¬¦æ•°æ®</a></li><li><a href="#response%E5%93%8D%E5%BA%94%E5%AD%97%E8%8A%82%E6%95%B0%E6%8D%AE">Responseå“åº”å­—èŠ‚æ•°æ®</a></li></ul></li><li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E6%A1%88%E4%BE%8B">æ¡ˆä¾‹ï¼šå®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹</a></li><li><a href="#%E4%BC%98%E5%8C%96%E6%8A%8Asqlsessionfactory%E4%BC%98%E5%8C%96%E4%B8%BA%E5%B7%A5%E5%85%B7%E7%B1%BB">ä¼˜åŒ–ï¼šæŠŠSqlSessionFactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»</a></li></ul></li><li><a href="#jspjava-server-pagesjava%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%A1%B5%E9%9D%A2">JSP(Java Server Pages)JavaæœåŠ¡ç«¯é¡µé¢</a><ul><li><a href="#servletjsp">servlet+jsp</a></li><li><a href="#jstf%E6%A0%87%E7%AD%BE">JSTFæ ‡ç­¾</a></li></ul></li><li><a href="#mvc%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84">MVCæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„</a><ul><li><a href="#mvc%E6%A8%A1%E5%BC%8F">MVCæ¨¡å¼</a></li><li><a href="#%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84">ä¸‰å±‚æ¶æ„</a></li><li><a href="#ssm%E4%B8%89%E5%A4%A7%E6%A1%86%E6%9E%B6">SSMä¸‰å¤§æ¡†æ¶</a></li><li><a href="#mvc%E4%B8%89%E5%B1%82%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8C%BA%E5%88%AB">MVCä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«</a></li><li><a href="#%E6%A1%88%E4%BE%8B%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91">æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E9%87%8D%E5%86%99%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E6%A1%88%E4%BE%8B">ä½¿ç”¨<code>ä¸‰å±‚æ¶æ„</code>é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹</a><ul><li><a href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">é¡¹ç›®ç›®å½•ç»“æ„</a></li><li><a href="#database%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82">databaseæ•°æ®è®¿é—®å±‚</a></li><li><a href="#service%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82">serviceä¸šåŠ¡é€»è¾‘å±‚</a></li><li><a href="#web%E8%A1%A8%E7%8E%B0%E5%B1%82%E6%8E%A7%E5%88%B6%E5%99%A8%E8%A7%86%E5%9B%BE">webè¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰</a></li><li><a href="#maven%E9%85%8D%E7%BD%AE">mavené…ç½®</a></li><li><a href="#%E7%BB%93%E5%90%88%E5%8F%8D%E5%B0%84%E5%AF%B9web%E8%A1%A8%E7%8E%B0%E5%B1%82%E7%9A%84%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BC%98%E5%8C%96%E5%B9%B6%E5%AE%9E%E7%8E%B0%E9%AA%8C%E8%AF%81%E7%A0%81%E5%92%8Cjson%E5%93%8D%E5%BA%94">ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’ŒJSONå“åº”</a></li></ul></li><li><a href="#fastjsonjson-%E6%95%B0%E6%8D%AE%E5%92%8C-java-%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2">Fastjsonï¼šJSON æ•°æ®å’Œ Java å¯¹è±¡è½¬æ¢</a></li><li><a href="#cookiesession%E4%BC%9A%E8%AF%9D%E8%B7%9F%E8%B8%AA%E6%8A%80%E6%9C%AF">Cookieã€Sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯</a><ul><li><a href="#cookie">Cookie</a><ul><li><a href="#cookie%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86">CookieåŸºæœ¬ä½¿ç”¨å’ŒåŸç†</a></li><li><a href="#cookie%E5%AD%98%E6%B4%BB%E6%97%B6%E9%97%B4">Cookieå­˜æ´»æ—¶é—´</a></li><li><a href="#cookie%E5%8F%91%E9%80%81%E4%B8%AD%E6%96%87">Cookieå‘é€ä¸­æ–‡</a></li></ul></li><li><a href="#session">Session</a><ul><li><a href="#session%E7%9A%84%E9%92%9D%E5%8C%96%E4%B8%8E%E6%B4%BB%E5%8C%96">Sessionçš„é’åŒ–ä¸æ´»åŒ–</a></li><li><a href="#session%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">Sessionåœ¨æµè§ˆå™¨çš„ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="#session%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">Sessionåœ¨æœåŠ¡ç«¯çš„ç”Ÿå‘½å‘¨æœŸ</a></li></ul></li><li><a href="#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E8%AE%B0%E4%BD%8F%E6%88%91%E5%8A%9F%E8%83%BD%E9%80%9A%E8%BF%87cookie%E5%AE%9E%E7%8E%B0">å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Cookieå®ç°</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E8%AE%B0%E4%BD%8F%E6%88%91%E5%8A%9F%E8%83%BD%E9%80%9A%E8%BF%87session%E5%AE%9E%E7%8E%B0">å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Sessionå®ç°</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E7%94%A8%E6%88%B7%E9%AA%8C%E8%AF%81%E7%A0%81%E7%9A%84%E6%A1%88%E4%BE%8B">å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹</a></li></ul></li><li><a href="#filter">Filter</a></li><li><a href="#listener">Listener</a></li><li><a href="#%E8%A1%A5%E5%85%85%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">è¡¥å……ï¼šæ–‡ä»¶ä¸Šä¼ </a><ul><li><a href="#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8">æœ¬åœ°å­˜å‚¨</a></li><li><a href="#%E8%BF%9C%E7%A8%8B%E5%AD%98%E5%82%A8">è¿œç¨‹å­˜å‚¨</a></li></ul></li><li><a href="#%E8%A1%A5%E5%85%85httpclient">è¡¥å……ï¼šHttpClient</a></li></ul></li></ul></details><h2 id="æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#æ¦‚å¿µ" aria-hidden="true">#</a> æ¦‚å¿µ</h2><p>JavaWebï¼šç”¨javaæŠ€æœ¯è§£å†³Webäº’è”ç½‘é¢†åŸŸé—®é¢˜çš„æŠ€æœ¯æ ˆ</p><p><strong>å†…å®¹</strong><br><img src="/assets/2022-11-06-13-28-58-b-qaV8p_.png" alt=""></p><h2 id="æ•°æ®åº“-mysql" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“-mysql" aria-hidden="true">#</a> æ•°æ®åº“:mySql</h2><p><strong>DBMS</strong></p><ul><li><code>Oracle</code>: æ”¶è´¹çš„å¤§å‹æ•°æ®åº“ï¼ŒOracle å…¬å¸çš„äº§å“</li><li><code>MySQL</code>: å¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ã€‚åæ¥Sunå…¬å¸æ”¶è´­äº†MySQLï¼Œè€ŒSunå…¬å¸åˆè¢«Oracle æ”¶è´­.</li><li><code>MariaDB</code> :å¼€æºå…è´¹ä¸­å°å‹çš„æ•°æ®åº“,<!----></li><li><code>SQL Server</code>: MicroSoftå…¬å¸æ”¶è´¹çš„ä¸­å‹çš„æ•°æ®åº“ã€‚C#ã€.netç­‰è¯­è¨€å¸¸ä½¿ç”¨</li><li><code>SQLite</code> :åµŒå…¥å¼çš„å¾®å‹æ•°æ®åº“ã€‚å¦‚:ä½œä¸ºAndroidå†…ç½®æ•°æ®åº“</li></ul><h3 id="mysqlå®‰è£…é…ç½®" tabindex="-1"><a class="header-anchor" href="#mysqlå®‰è£…é…ç½®" aria-hidden="true">#</a> mySqlå®‰è£…é…ç½®</h3><ol><li><p>ä¸‹è½½è§£å‹ç‰ˆ<code>mysql-5.7</code></p></li><li><p>é…ç½®ç¯å¢ƒå˜é‡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>JAVA_HOME = D:\Program Files\mysql-5.7.38-winx64
PATH += %MYSQL_HOME%\bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™é…ç½®æ–‡ä»¶<code>my.ini</code>,æ”¾åˆ°æ ¹ç›®å½•</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code> <span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysql</span><span class="token punctuation">]</span></span>
 <span class="token key attr-name">default-character-set</span><span class="token punctuation">=</span><span class="token value attr-value">utf8</span>
 
 <span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
 skip-grant-tables # è·³è¿‡æƒé™è¡¨è®¤è¯ï¼Œç”¨äºè§£å†³ç™»å½•sqlçš„æŠ¥é”™ï¼šERROR 1045 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)
 <span class="token key attr-name">port</span><span class="token punctuation">=</span><span class="token value attr-value">3306</span>
 <span class="token key attr-name">character-set-server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8</span>
 <span class="token key attr-name">default-storage-engine</span><span class="token punctuation">=</span><span class="token value attr-value">INNODB</span>
 <span class="token key attr-name">sql-mode</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆå§‹åŒ–æ•°æ®åº“</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#ä»¥ç®¡ç†å‘˜æ–¹å¼æ‰§è¡Œï¼Œæ•ˆæœä¸ºåœ¨mysqlæ ¹ç›®å½•ç”Ÿæˆdataæ–‡ä»¶å¤¹</span>
mysqld --initialize-insecure
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ³¨å†Œmysqlä¸ºç³»ç»ŸæœåŠ¡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqld <span class="token parameter variable">-install</span> <span class="token comment">#æ³¨å†ŒæœåŠ¡</span>
mysqld <span class="token parameter variable">-remove</span> <span class="token comment">#åˆ é™¤æœåŠ¡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é—®é¢˜</strong><br> è‹¥æ³¨å†ŒæœåŠ¡æç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œåˆ™ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œå°†è·¯å¾„æ”¹ä¸ºæ­£ç¡®è·¯å¾„<br><img src="/assets/2022-11-06-14-56-38-7OBg2t8z.png" alt=""></p></li><li><p>å¯åŠ¨mysqlæœåŠ¡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># æ–¹æ³•1</span>
net start mysql <span class="token comment">#å¯åŠ¨æœåŠ¡ </span>
net stop mysql <span class="token comment"># åœæ­¢æœåŠ¡</span>
<span class="token comment"># æ–¹æ³•2</span>
services.msc <span class="token comment"># é€šè¿‡windowsçš„serviceså›¾å½¢ç•Œé¢å¯åŠ¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¿®æ”¹å¯†ç </p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqld --skip-grant-tables <span class="token comment"># --skip-grant-tables çš„æ„æ€æ˜¯è·³è¿‡æƒé™è¡¨è®¤è¯ã€‚</span>
mysqld <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> root  <span class="token comment"># ä¿®æ”¹å¯†ç </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç™»å½•</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token comment"># é»˜è®¤å¯†ç ä¸ºç©º</span>
mysql <span class="token parameter variable">-u</span> ç”¨æˆ·å <span class="token parameter variable">-p</span> å¯†ç  <span class="token parameter variable">-h</span> ä¸»æœº <span class="token parameter variable">-P</span> ç«¯å£
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="sqlåŸºç¡€è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#sqlåŸºç¡€è¯­æ³•" aria-hidden="true">#</a> SQLåŸºç¡€è¯­æ³•</h3><p><strong>è§„èŒƒ</strong></p><ul><li>å…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™ï¼Œå»ºè®®å¤§å†™</li></ul><p><strong>æ³¨é‡Š</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- è¿™æ˜¯å•è¡Œæ³¨é‡Šï¼Œå¿…é¡»è¦æœ‰ç©ºæ ¼</span>
<span class="token comment">/* 
   è¿™æ˜¯å¤šè¡Œæ³¨é‡Š
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqlæ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#mysqlæ•°æ®ç±»å‹" aria-hidden="true">#</a> MySqlæ•°æ®ç±»å‹</h3><p><strong>åˆ†ç±»</strong></p><ul><li>æ•°å€¼ç±»å‹</li><li>æ—¥æœŸæ—¶é—´ç±»å‹</li><li>å­—ç¬¦ä¸²ç±»å‹</li></ul><p><strong>æ•°å€¼ç±»å‹</strong></p><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å¤§å°</th><th>æè¿°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>TINYINT</td><td>1 byte</td><td>å°æ•´æ•°å€¼</td><td></td></tr><tr><td>SMALLINT</td><td>2 bytes</td><td>å¤§æ•´æ•°å€¼</td><td></td></tr><tr><td>MEDIUMINT</td><td>3 bytes</td><td>å¤§æ•´æ•°å€¼</td><td></td></tr><tr><td>INTæˆ–INTEGER</td><td>4 bytes</td><td>å¤§æ•´æ•°å€¼</td><td></td></tr><tr><td>BIGINT</td><td>8 bytes</td><td>æå¤§æ•´æ•°å€¼</td><td></td></tr><tr><td>FLOAT</td><td>4 bytes</td><td>å•ç²¾åº¦æµ®ç‚¹æ•°å€¼</td><td></td></tr><tr><td>DOUBLE</td><td>8 bytes</td><td>åŒç²¾åº¦æµ®ç‚¹æ•°å€¼</td><td><code>å­—æ®µå1 double(æ€»é•¿åº¦,ä¿ç•™å°æ•°ä½æ•°)</code> <br> å¦‚åˆ†æ•°[0.00-100.00]ï¼šåˆ†æ•° double(5,2)</td></tr><tr><td>DECIMAL</td><td></td><td>å°æ•°å€¼</td><td></td></tr></tbody></table><p><strong>æ—¥æœŸæ—¶é—´ç±»å‹</strong></p><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å¤§å°</th><th>æè¿°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>DATE</td><td>3</td><td>æ—¥æœŸå€¼</td><td></td></tr><tr><td>TIME</td><td>3</td><td>æ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´</td><td></td></tr><tr><td>YEAR</td><td>1</td><td>å¹´ä»½å€¼</td><td></td></tr><tr><td>DATETIME</td><td>8</td><td>æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼</td><td></td></tr><tr><td>TIMESTAMP</td><td>4</td><td>æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼,<strong>æ—¶é—´æˆ³</strong></td><td>è‹¥è¯¥å­—æ®µä¸ç»™æ•°å€¼ï¼Œåˆ™mysqlä¼šé»˜è®¤ç»™ä¸€ä¸ªå½“å‰æ—¶é—´</td></tr></tbody></table><p><strong>å­—ç¬¦ä¸²ç±»å‹</strong></p><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å¤§å°</th><th>æè¿°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>CHAR</td><td>0-255 bytes</td><td>å®šé•¿å­—ç¬¦ä¸²</td><td>&quot;abc&quot; åœ¨ <code>name char(10)</code> ä¸­å 10ä¸ªå­—ç¬¦ æµªè´¹ç©ºé—´èŠ‚çº¦æ—¶é—´ <strong>ç©ºé—´æ¢æ—¶é—´</strong></td></tr><tr><td>VARCHAR</td><td>0-65535 bytes</td><td>å˜é•¿å­—ç¬¦ä¸²</td><td>&quot;abc&quot; åœ¨ <code>name varchar(10)</code> ä¸­å 3ä¸ªå­—ç¬¦ æµªè´¹æ—¶é—´èŠ‚çº¦ç©ºé—´ <strong>æ—¶é—´æ¢ç©ºé—´</strong></td></tr><tr><td>TINYBLOB</td><td>0-255 bytes</td><td>ä¸è¶…è¿‡255ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²</td><td></td></tr><tr><td>TINYTEXT</td><td>0-255 bytes</td><td>çŸ­æ–‡æœ¬å­—ç¬¦ä¸²</td><td></td></tr><tr><td>BLOB</td><td>0-65535 bytes</td><td>äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®</td><td></td></tr><tr><td>TEXT</td><td>0-65535 bytes</td><td>é•¿æ–‡æœ¬æ•°æ®</td><td></td></tr><tr><td>MEDIUMBLOB</td><td>0-16 777215 bytes</td><td>äºŒè¿›åˆ¶å½¢å¼çš„ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®</td><td></td></tr><tr><td>MEDIUMTEXT</td><td>0-16777 215 bytes</td><td>ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®</td><td></td></tr><tr><td>LONGBLOB</td><td>0-4 294 967 295 bytes</td><td>è¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ®</td><td></td></tr><tr><td>LONGTEXT</td><td>0-4 294 967 295 bytes</td><td>æå¤§æ–‡æœ¬æ•°æ®</td><td></td></tr></tbody></table><h3 id="sqlè¯­å¥çš„åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#sqlè¯­å¥çš„åˆ†ç±»" aria-hidden="true">#</a> SQLè¯­å¥çš„åˆ†ç±»</h3><ul><li><p><code>DDL(Data Definition Language)</code>æ•°æ®<code>å®šä¹‰</code>è¯­è¨€ï¼Œç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡:<code>æ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—</code>ç­‰</p></li><li><p><code>DML(Data Manipulation Language)</code>æ•°æ®<code>æ“ä½œ</code>è¯­è¨€ï¼Œç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è¿›è¡Œ<code>å¢åˆ æ”¹</code></p></li><li><p><code>DQL(Data Query Language)</code>æ•°æ®<code>æŸ¥è¯¢</code>è¯­è¨€ï¼Œç”¨æ¥<code>æŸ¥</code>è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•(æ•°æ®)</p></li><li><p><code>DCL(Data Control Language)</code>æ•°æ®<code>æ§åˆ¶</code>è¯­è¨€ï¼Œç”¨æ¥<code>å®šä¹‰æ•°æ®åº“çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«</code>ï¼ŒåŠ<code>åˆ›å»ºç”¨æˆ·</code></p></li></ul><h3 id="ddl-data-definition-language-æ•°æ®å®šä¹‰è¯­è¨€" tabindex="-1"><a class="header-anchor" href="#ddl-data-definition-language-æ•°æ®å®šä¹‰è¯­è¨€" aria-hidden="true">#</a> DDL(Data Definition Language)æ•°æ®å®šä¹‰è¯­è¨€</h3><h4 id="ddlâ€”â€”-æ“ä½œæ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#ddlâ€”â€”-æ“ä½œæ•°æ®åº“" aria-hidden="true">#</a> DDLâ€”â€”&gt;<code>æ“ä½œæ•°æ®åº“</code></h4><h5 id="æŸ¥è¯¢æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ•°æ®åº“" aria-hidden="true">#</a> æŸ¥è¯¢æ•°æ®åº“</h5><p><strong>æŸ¥è¯¢æ•°æ®åº“</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æŸ¥è¯¢æ•°æ®åº“æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
+--------------------+
<span class="token operator">|</span> Database           <span class="token operator">|</span> <span class="token comment"># mysqlè‡ªå¸¦çš„å››ä¸ªæ•°æ®åº“ï¼š</span>
+--------------------+
<span class="token operator">|</span> information_schema <span class="token operator">|</span> <span class="token comment"># ä¸åœ¨ç¡¬ç›˜ä¸­ï¼Œæ˜¯ä¸€ä¸ªè§†å›¾ï¼Œè®°å½•äº†mysqlä¸­çš„åº“ã€è¡¨</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span> <span class="token comment"># å­˜å‚¨äº†æƒé™ç­‰çš„ä¿¡æ¯</span>
<span class="token operator">|</span> performance_schema <span class="token operator">|</span> <span class="token comment"># å­˜å‚¨äº†æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯</span>
<span class="token operator">|</span> sys                <span class="token operator">|</span> <span class="token comment"># å­˜å‚¨äº†ç³»ç»Ÿç›¸å…³çš„ä¿¡æ¯</span>
+--------------------+
<span class="token number">4</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="åˆ›å»ºæ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ•°æ®åº“" aria-hidden="true">#</a> åˆ›å»ºæ•°æ®åº“</h5><p><strong>åˆ›å»ºæ•°æ®åº“</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> æ•°æ®åº“å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ›å»ºæ•°æ®åº“æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> create database db1<span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.09</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ›å»ºæ•°æ®åº“ï¼ˆè‹¥ä¸å­˜åœ¨ï¼‰</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> æ•°æ®åº“å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h5 id="åˆ é™¤æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤æ•°æ®åº“" aria-hidden="true">#</a> åˆ é™¤æ•°æ®åº“</h5><p><strong>åˆ é™¤æ•°æ®åº“</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> æ•°æ®åº“å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ é™¤æ•°æ®åº“æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> drop database db1<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ é™¤æ•°æ®åº“ï¼ˆè‹¥å­˜åœ¨ï¼‰</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> æ•°æ®åº“å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h5 id="ä½¿ç”¨-åˆ‡æ¢-æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-åˆ‡æ¢-æ•°æ®åº“" aria-hidden="true">#</a> ä½¿ç”¨ï¼ˆåˆ‡æ¢ï¼‰æ•°æ®åº“</h5><p><strong>ä½¿ç”¨æ•°æ®åº“</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> æ•°æ®åº“å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨æ•°æ®åº“æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> use db1<span class="token punctuation">;</span>
Database changed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“" aria-hidden="true">#</a> æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</h5><p><strong>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> Database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
+------------+
<span class="token operator">|</span> Database<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
+------------+
<span class="token operator">|</span> db1        <span class="token operator">|</span>
+------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ddlâ€”â€”-æ“ä½œè¡¨" tabindex="-1"><a class="header-anchor" href="#ddlâ€”â€”-æ“ä½œè¡¨" aria-hidden="true">#</a> DDLâ€”â€”&gt;<code>æ“ä½œè¡¨</code></h4><p><strong>CRUB</strong></p><ul><li>åˆ›å»º(Create)</li><li>æŸ¥è¯¢(Retrieve)</li><li>ä¿®æ”¹(Update)</li><li>åˆ é™¤(Delete)</li></ul><hr><h5 id="åˆ›å»ºè¡¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºè¡¨" aria-hidden="true">#</a> åˆ›å»ºè¡¨</h5><p><strong>åˆ›å»ºè¡¨</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
   å­—æ®µå<span class="token number">1</span> æ•°æ®ç±»å‹<span class="token number">1</span><span class="token punctuation">,</span>
   å­—æ®µå<span class="token number">2</span> æ•°æ®ç±»å‹<span class="token number">2</span> <span class="token comment">-- æœ€åä¸€è¡Œæ— é€—å·</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ›å»ºè¡¨æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> 
create table user<span class="token punctuation">(</span>
   <span class="token function">id</span> int,
   username varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>,
   password varchar<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.65</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> desc user<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> username <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> password <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="æŸ¥è¯¢æ‰€æœ‰è¡¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ‰€æœ‰è¡¨" aria-hidden="true">#</a> æŸ¥è¯¢æ‰€æœ‰è¡¨</h5><p><strong>æŸ¥è¯¢æ‰€æœ‰è¡¨</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æŸ¥è¯¢æ‰€æœ‰è¡¨æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+---------------+
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
+---------------+
<span class="token operator">|</span> user          <span class="token operator">|</span>
+---------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="æŸ¥è¯¢è¡¨ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢è¡¨ç»“æ„" aria-hidden="true">#</a> æŸ¥è¯¢è¡¨ç»“æ„</h5><p><strong>æŸ¥è¯¢è¡¨ç»“æ„</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">desc</span> è¡¨å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æŸ¥è¯¢è¡¨ç»“æ„æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> desc user<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> username <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> password <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="åˆ é™¤è¡¨" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤è¡¨" aria-hidden="true">#</a> åˆ é™¤è¡¨</h5><p><strong>åˆ é™¤è¡¨</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ é™¤è¡¨(åˆ¤æ–­æ˜¯å¦å­˜åœ¨)</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> è¡¨å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ é™¤è¡¨(åˆ¤æ–­æ˜¯å¦å­˜åœ¨)æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span>  show tables<span class="token punctuation">;</span>
+---------------+
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
+---------------+
<span class="token operator">|</span> student       <span class="token operator">|</span>
<span class="token operator">|</span> user          <span class="token operator">|</span>
+---------------+
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> drop table <span class="token keyword">if</span> exists user<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.24</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+---------------+
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
+---------------+
<span class="token operator">|</span> student       <span class="token operator">|</span>
+---------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="ä¿®æ”¹è¡¨" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹è¡¨" aria-hidden="true">#</a> ä¿®æ”¹è¡¨</h5><h6 id="ä¿®æ”¹è¡¨å" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹è¡¨å" aria-hidden="true">#</a> ä¿®æ”¹è¡¨å</h6><p><strong>ä¿®æ”¹è¡¨å</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> æ—§è¡¨å <span class="token keyword">rename</span> <span class="token keyword">to</span> æ–°è¡¨å<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¿®æ”¹è¡¨åæµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+---------------+
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
+---------------+
<span class="token operator">|</span> student       <span class="token operator">|</span>
+---------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> alter table student <span class="token function">rename</span> to student_new<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.43</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+---------------+
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
+---------------+
<span class="token operator">|</span> student_new   <span class="token operator">|</span>
+---------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="æ·»åŠ åˆ—" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ åˆ—" aria-hidden="true">#</a> æ·»åŠ åˆ—</h6><p><strong>æ·»åŠ åˆ—</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> åˆ—å æ•°æ®ç±»å‹<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ·»åŠ åˆ—æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name     <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex      <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score    <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email    <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum   <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status   <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">8</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> alter table student_new <span class="token function">add</span> new_attribute int<span class="token punctuation">;</span> <span class="token comment"># æ–°å¢å­—æ®µ</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.56</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  Warnings: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field         <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>            <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name          <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex           <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday      <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score         <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email         <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum        <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status        <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> new_attribute <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># æ–°å¢çš„å­—æ®µ</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token number">9</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹" aria-hidden="true">#</a> ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹</h6><p><strong>ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">modify</span> åˆ—å æ–°æ•°æ®ç±»å‹<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¿®æ”¹æ•°æ®ç±»å‹æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field         <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>            <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name          <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex           <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday      <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score         <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email         <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum        <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status        <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> new_attribute <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># new_attribute int(11)</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token number">9</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> alter table student_new modify new_attribute char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment"># ä¿®æ”¹å­—æ®µçš„æ•°æ®ç±»å‹</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.63</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  Warnings: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field         <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>            <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name          <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex           <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday      <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score         <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email         <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum        <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status        <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> new_attribute <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># new_attribute char(1)</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token number">9</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹" aria-hidden="true">#</a> ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹</h6><p><strong>ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å change åˆ—å æ–°åˆ—å æ–°æ•°æ®ç±»å‹<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field         <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>            <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name          <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex           <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday      <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score         <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email         <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum        <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status        <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> new_attribute <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># å¾…ä¿®æ”¹åˆ—åå’Œç±»å‹</span>
+---------------+-------------+------+-----+---------+-------+
<span class="token number">9</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> alter table student_new change new_attribute new_attr  int<span class="token punctuation">;</span> <span class="token comment"># ä¿®æ”¹å­—æ®µçš„åå­—å’Œæ•°æ®ç±»å‹</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.72</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  Warnings: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name     <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex      <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score    <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email    <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum   <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status   <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> new_attr <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># ä¿®æ”¹åˆ—åå’Œç±»å‹</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">9</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="åˆ é™¤åˆ—" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤åˆ—" aria-hidden="true">#</a> åˆ é™¤åˆ—</h6><p><strong>åˆ é™¤åˆ—</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">drop</span> åˆ—å<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ é™¤åˆ—æµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name     <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex      <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score    <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email    <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum   <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status   <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> new_attr <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># å¾…åˆ é™¤åˆ—</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">9</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> alter table student_new drop new_attr<span class="token punctuation">;</span>             <span class="token comment"># åˆ é™¤å­—æ®µ</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.74</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  Warnings: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> desc student_new<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name     <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex      <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score    <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email    <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum   <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status   <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span> <span class="token comment"># åˆ é™¤äº†ä¸€ä¸ªå­—æ®µ</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">8</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹" aria-hidden="true">#</a> æ¡ˆä¾‹</h5><p><strong>æ¡ˆä¾‹1</strong></p><p><img src="/assets/2022-11-06-17-09-37-237VkWWk.png" alt=""></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   id <span class="token keyword">int</span><span class="token punctuation">,</span>
   name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   sex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   birthday <span class="token keyword">date</span><span class="token punctuation">,</span>
   score <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   telnum <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token keyword">status</span> <span class="token keyword">tinyint</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¡ˆä¾‹1æ‰§è¡Œç»“æœ</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> create table student<span class="token punctuation">(</span>
   <span class="token function">id</span> int,
   name char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>,
   sex char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>,
   birthday date,
   score double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span>,
   email varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span>,
   telnum char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>,
   status tinyint
<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.34</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> desc student<span class="token punctuation">;</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> Field    <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name     <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sex      <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> birthday <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> score    <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">5,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> email    <span class="token operator">|</span> varchar<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> telnum   <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> status   <span class="token operator">|</span> tinyint<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+----------+-------------+------+-----+---------+-------+
<span class="token number">8</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dml-data-manipulation-language-æ•°æ®æ“ä½œè¯­è¨€" tabindex="-1"><a class="header-anchor" href="#dml-data-manipulation-language-æ•°æ®æ“ä½œè¯­è¨€" aria-hidden="true">#</a> DML(Data Manipulation Language)æ•°æ®æ“ä½œè¯­è¨€</h3><h4 id="dmlâ€”â€”-æ·»åŠ æ•°æ®" tabindex="-1"><a class="header-anchor" href="#dmlâ€”â€”-æ·»åŠ æ•°æ®" aria-hidden="true">#</a> DMLâ€”â€”&gt;<code>æ·»åŠ æ•°æ®</code></h4><h5 id="æ·»åŠ æ•°æ®åˆ°æŒ‡å®šåˆ—" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ æ•°æ®åˆ°æŒ‡å®šåˆ—" aria-hidden="true">#</a> æ·»åŠ æ•°æ®åˆ°æŒ‡å®šåˆ—</h5><p><strong>æ·»åŠ æ•°æ®åˆ°æŒ‡å®šåˆ—</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> è¡¨å<span class="token punctuation">(</span>åˆ—å<span class="token number">1</span><span class="token punctuation">,</span>åˆ—å<span class="token number">2</span><span class="token punctuation">,</span>åˆ—å<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ·»åŠ æ•°æ®åˆ°æŒ‡å®šåˆ—æµ‹è¯•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">desc</span> student<span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 
student<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>birthday<span class="token punctuation">,</span>score<span class="token punctuation">,</span>email<span class="token punctuation">,</span>telnum<span class="token punctuation">,</span><span class="token keyword">status</span><span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;test1&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">,</span><span class="token string">&quot;2022-1-1&quot;</span><span class="token punctuation">,</span><span class="token number">99.99</span><span class="token punctuation">,</span><span class="token string">&quot;244@qq.com&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0519-110&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from student<span class="token punctuation">;</span>
+------+-------+------+------------+-------+------------+----------+--------+------+
<span class="token operator">|</span> <span class="token function">id</span>   <span class="token operator">|</span> name  <span class="token operator">|</span> sex  <span class="token operator">|</span> birthday   <span class="token operator">|</span> score <span class="token operator">|</span> email      <span class="token operator">|</span> telnum   <span class="token operator">|</span> status <span class="token operator">|</span> age  <span class="token operator">|</span>
+------+-------+------+------------+-------+------------+----------+--------+------+
<span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span> test1 <span class="token operator">|</span> ç”·   <span class="token operator">|</span> <span class="token number">2022</span>-01-01 <span class="token operator">|</span> <span class="token number">99.99</span> <span class="token operator">|</span> <span class="token number">244</span>@qq.com <span class="token operator">|</span> 0519-110 <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span> NULL <span class="token operator">|</span>
+------+-------+------+------------+-------+------------+----------+--------+------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ç»™æ‰€æœ‰åˆ—æ·»åŠ æ•°æ®" tabindex="-1"><a class="header-anchor" href="#ç»™æ‰€æœ‰åˆ—æ·»åŠ æ•°æ®" aria-hidden="true">#</a> ç»™æ‰€æœ‰åˆ—æ·»åŠ æ•°æ®</h5><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> è¡¨å <span class="token keyword">values</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ä¸å»ºè®®ä½¿ç”¨ï¼Œå€¼çš„é¡ºåºé”™è¯¯å°†å¯¼è‡´èµ‹å€¼é”™è¯¯</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="æ‰¹é‡æ·»åŠ æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡æ·»åŠ æ•°æ®" aria-hidden="true">#</a> æ‰¹é‡æ·»åŠ æ•°æ®</h5><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> è¡¨å<span class="token punctuation">(</span>åˆ—å<span class="token number">1</span><span class="token punctuation">,</span>åˆ—å<span class="token number">2</span><span class="token punctuation">,</span>åˆ—å<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> è¡¨å <span class="token keyword">values</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dmlâ€”â€”-ä¿®æ”¹æ•°æ®" tabindex="-1"><a class="header-anchor" href="#dmlâ€”â€”-ä¿®æ”¹æ•°æ®" aria-hidden="true">#</a> DMLâ€”â€”&gt;<code>ä¿®æ”¹æ•°æ®</code></h4><p><strong>ä¿®æ”¹è¡¨æ•°æ®</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">update</span> è¡¨å <span class="token keyword">set</span> åˆ—å<span class="token number">1</span><span class="token operator">=</span>å€¼<span class="token number">1</span><span class="token punctuation">,</span>åˆ—å<span class="token number">2</span><span class="token operator">=</span>å€¼<span class="token number">2</span><span class="token punctuation">,</span>åˆ—å<span class="token number">3</span><span class="token operator">=</span>å€¼<span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span><span class="token keyword">where</span> æ¡ä»¶<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!----><h4 id="dmlâ€”â€”-åˆ é™¤è¡¨æ•°æ®" tabindex="-1"><a class="header-anchor" href="#dmlâ€”â€”-åˆ é™¤è¡¨æ•°æ®" aria-hidden="true">#</a> DMLâ€”â€”&gt;<code>åˆ é™¤è¡¨æ•°æ®</code></h4><p><strong>åˆ é™¤è¡¨æ•°æ®</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> è¡¨å <span class="token punctuation">[</span><span class="token keyword">where</span> æ¡ä»¶<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> è¡¨å <span class="token punctuation">[</span><span class="token keyword">where</span> å±æ€§å<span class="token operator">=</span>å±æ€§å€¼<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><!----><h3 id="dql-data-query-language-æ•°æ®æŸ¥è¯¢è¯­è¨€" tabindex="-1"><a class="header-anchor" href="#dql-data-query-language-æ•°æ®æŸ¥è¯¢è¯­è¨€" aria-hidden="true">#</a> DQL(Data Query Language)æ•°æ®æŸ¥è¯¢è¯­è¨€</h3><p><strong>æ•°æ®æŸ¥è¯¢è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span>
   å­—æ®µåˆ—è¡¨
<span class="token keyword">from</span>
   è¡¨ååˆ—è¡¨
<span class="token keyword">where</span>
   æ¡ä»¶åˆ—è¡¨
<span class="token keyword">group</span> <span class="token keyword">by</span>
   åˆ†ç»„åˆ—è¡¨
<span class="token keyword">having</span>
   åˆ†ç»„åæ¡ä»¶
<span class="token keyword">order</span> <span class="token keyword">by</span>
   æ’åºå­—æ®µ
<span class="token keyword">limit</span>
   åˆ†é¡µé™å®š
<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dqlâ€”â€”-åŸºç¡€æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#dqlâ€”â€”-åŸºç¡€æŸ¥è¯¢" aria-hidden="true">#</a> DQLâ€”â€”&gt;<code>åŸºç¡€æŸ¥è¯¢</code></h4><p><strong>æŸ¥è¯¢å¤šä¸ªå­—æ®µ</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨ååˆ—è¡¨<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> è¡¨ååˆ—è¡¨<span class="token punctuation">;</span> <span class="token comment">-- ä¸€èˆ¬å…¬å¸é‡Œè¦æ±‚ä¸ç”¨è¿™ç§å½¢å¼ï¼Œå› ä¸ºä¸èƒ½ä¸€çœ¼çœ‹å‡ºæŸ¥è¯¢äº†å“ªäº›åˆ—</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥è¯¢å¤šä¸ªå­—æ®µæµ‹è¯•</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name,birthday,sex from student<span class="token punctuation">;</span>
+-------+------------+------+
<span class="token operator">|</span> name  <span class="token operator">|</span> birthday   <span class="token operator">|</span> sex  <span class="token operator">|</span>
+-------+------------+------+
<span class="token operator">|</span> test1 <span class="token operator">|</span> <span class="token number">2022</span>-01-01 <span class="token operator">|</span> ç”·   <span class="token operator">|</span>
<span class="token operator">|</span> test1 <span class="token operator">|</span> <span class="token number">2022</span>-01-01 <span class="token operator">|</span> ç”·   <span class="token operator">|</span>
<span class="token operator">|</span> test1 <span class="token operator">|</span> <span class="token number">2022</span>-01-01 <span class="token operator">|</span> ç”·   <span class="token operator">|</span>
+-------+------------+------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>å»é™¤é‡å¤è®°å½•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨å<span class="token punctuation">;</span> <span class="token comment">--æ ¹æ®å­—æ®µåˆ—è¡¨çš„å€¼å»é™¤é‡å¤è®°å½•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å»é™¤é‡å¤è®°å½•æµ‹è¯•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> addr <span class="token keyword">distinct</span> addr <span class="token keyword">from</span> student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p><strong>èµ·åˆ«å</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µ<span class="token number">1</span> <span class="token keyword">as</span> æ–°åˆ—å<span class="token number">1</span><span class="token punctuation">,</span>å­—æ®µ<span class="token number">2</span> <span class="token keyword">as</span> æ–°åˆ—å<span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token keyword">select</span> å­—æ®µ<span class="token number">1</span>  æ–°åˆ—å<span class="token number">1</span><span class="token punctuation">,</span>å­—æ®µ<span class="token number">2</span>  æ–°åˆ—å<span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span> <span class="token comment">-- as å¯ä»¥çœç•¥</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>èµ·åˆ«åæµ‹è¯•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> name <span class="token keyword">as</span> å§“å<span class="token punctuation">,</span>age <span class="token keyword">as</span> å¹´é¾„<span class="token punctuation">,</span>sex <span class="token keyword">as</span> æ€§åˆ« <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token keyword">select</span> name å§“å<span class="token punctuation">,</span>age å¹´é¾„<span class="token punctuation">,</span>sex æ€§åˆ« <span class="token keyword">from</span> student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name å§“å,age å¹´é¾„,sex æ€§åˆ« from student<span class="token punctuation">;</span>
+--------+--------+--------+
<span class="token operator">|</span> å§“å   <span class="token operator">|</span>  å¹´é¾„   <span class="token operator">|</span> æ€§åˆ«   <span class="token operator">|</span>
+--------+--------+--------+
<span class="token operator">|</span> test1  <span class="token operator">|</span>   <span class="token number">10</span>   <span class="token operator">|</span>   ç”·   <span class="token operator">|</span>
<span class="token operator">|</span> test2  <span class="token operator">|</span>   <span class="token number">20</span>   <span class="token operator">|</span>   ç”·   <span class="token operator">|</span>
+--------+--------+--------+
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dqlâ€”â€”-æ¡ä»¶æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#dqlâ€”â€”-æ¡ä»¶æŸ¥è¯¢" aria-hidden="true">#</a> DQLâ€”â€”&gt;<code>æ¡ä»¶æŸ¥è¯¢</code></h4><p><strong>æ¡ä»¶æŸ¥è¯¢è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨å <span class="token keyword">where</span> æ¡ä»¶åˆ—è¡¨<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&gt;</code></td><td></td></tr><tr><td><code>&lt;</code></td><td></td></tr><tr><td><code>&gt;=</code></td><td></td></tr><tr><td><code>&lt;=</code></td><td></td></tr><tr><td><code>=</code></td><td>æ³¨æ„ï¼Œåªå†™ä¸€ä¸ªç­‰äº</td></tr><tr><td><code>&lt;&gt;</code> or <code>!=</code></td><td></td></tr><tr><td><code>between ... and ...</code></td><td><code>[a,b]</code></td></tr><tr><td><code>in()</code></td><td>å¤šé€‰ä¸€</td></tr><tr><td><code>like å ä½ç¬¦</code></td><td><strong>æ¨¡ç³ŠæŸ¥è¯¢</strong> <code>_</code>å•å­—ç¬¦ä»»æ„åŒ¹é… <code>%</code>é›¶æˆ–å¤šå­—ç¬¦ä»»æ„åŒ¹é…</td></tr><tr><td><code>is null</code></td><td></td></tr><tr><td><code>is not null</code></td><td></td></tr><tr><td><code>and</code> or <code>&amp;&amp;</code></td><td></td></tr><tr><td><code>or</code> or <code>||</code></td><td></td></tr><tr><td><code>not</code> or <code>!</code></td><td></td></tr></tbody></table><p><strong>æ¡ä»¶æŸ¥è¯¢è¯­æ³•æµ‹è¯•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- å¹´é¾„ç­‰äº20</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- å¹´é¾„ä¸ç­‰äº20</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">!=</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- å¹´é¾„å¤§äº20</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">&gt;</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- å¹´é¾„å¤§äºç­‰äº20</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">&gt;=</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- å¹´é¾„ ç­‰äº20 æˆ– ç­‰äº30 æˆ– ç­‰äº40 </span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">=</span><span class="token number">20</span> <span class="token operator">or</span> age<span class="token operator">=</span><span class="token number">30</span> <span class="token operator">or</span> age<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">-- `in()` çš„ä½¿ç”¨</span>

<span class="token comment">-- å¹´é¾„ å¤§äºç­‰äº20 ä¸” å°äºç­‰äº30</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">&gt;=</span><span class="token number">20</span> <span class="token operator">&amp;&amp;</span> age<span class="token operator">&lt;=</span><span class="token number">30</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age<span class="token operator">&gt;=</span><span class="token number">20</span> <span class="token operator">and</span> age<span class="token operator">&lt;=</span><span class="token number">30</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">-- `between... and...` çš„ä½¿ç”¨</span>

<span class="token comment">-- å‡ºç”Ÿæ—¥æœŸåœ¨ 1998-09-01 åˆ° 1999-09-01 </span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> birthday <span class="token operator">between</span> <span class="token identifier"><span class="token punctuation">`</span>1998-09-01<span class="token punctuation">`</span></span> <span class="token operator">and</span> <span class="token identifier"><span class="token punctuation">`</span>1999-09-01<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">-- è‹±è¯­æˆç»©ä¸ºnull</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> english <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span> <span class="token comment">-- é”™è¯¯å†™æ³•</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> english <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span> <span class="token comment">-- æ­£ç¡®å†™æ³•</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> english <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">-- å§“é©¬çš„</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&quot;é©¬%&quot;</span><span class="token punctuation">;</span>

<span class="token comment">-- ç¬¬äºŒä¸ªå­—æ˜¯èŠ±</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&quot;_èŠ±%&quot;</span><span class="token punctuation">;</span>

<span class="token comment">-- åå­—ä¸­å«æœ‰å¾·å­—</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&quot;%å¾·%&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dqlâ€”â€”-æ’åºæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#dqlâ€”â€”-æ’åºæŸ¥è¯¢" aria-hidden="true">#</a> DQLâ€”â€”&gt;<code>æ’åºæŸ¥è¯¢</code></h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨å <span class="token keyword">order</span> <span class="token keyword">by</span> æ’åºå­—æ®µåç§°<span class="token number">1</span> <span class="token punctuation">[</span>æ’åºæ–¹å¼<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>æ’åºå­—æ®µå<span class="token number">2</span> <span class="token punctuation">[</span>æ’åºæ–¹å¼<span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">-- æ’åºæ–¹å¼</span>
   <span class="token comment">-- ASC å‡åºï¼ˆé»˜è®¤ï¼‰</span>
   <span class="token comment">-- DESC é™åº</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!----><p><strong>æ’åºæŸ¥è¯¢ä¹¦å†™ç¤ºä¾‹</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ï¼ŒæŒ‰å¹´é¾„å‡åºæ’åº</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> age<span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ æŒ‰æ•°å­¦æˆç»©é™åºæ’åº</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> math_score <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ æŒ‰æ•°å­¦æˆç»©é™åºæ’åº,å¦‚æœæ•°å­¦æˆç»©ä¸€è‡´ï¼Œåˆ™æŒ‰è‹±è¯­æˆç»©å‡åºæ’åºã€‚</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> math_score <span class="token keyword">desc</span><span class="token punctuation">,</span>english_score <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dqlâ€”â€”-èšåˆæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#dqlâ€”â€”-èšåˆæŸ¥è¯¢" aria-hidden="true">#</a> DQLâ€”â€”&gt;<code>èšåˆæŸ¥è¯¢</code></h4><p><strong>æ¦‚å¿µ</strong>ï¼šå°†ä¸€åˆ—æ•°æ®ä½œä¸ºæ•´ä½“ï¼Œè¿›è¡Œè¿ç®—ã€‚</p><p><strong>èšåˆå‡½æ•°</strong></p><table><thead><tr><th>å‡½æ•°å</th><th>åŠŸèƒ½</th><th>å–å€¼</th></tr></thead><tbody><tr><td>count(åˆ—å)</td><td>ç»Ÿè®¡æ•°é‡</td><td><code>éç©ºåˆ—å</code> æˆ– <code>*</code></td></tr><tr><td>max(åˆ—å)</td><td>æœ€å¤§å€¼</td><td></td></tr><tr><td>min(åˆ—å)</td><td>æœ€å°å€¼</td><td></td></tr><tr><td>sum(åˆ—å)</td><td>æ±‚å’Œ</td><td></td></tr><tr><td>avg(åˆ—å)</td><td>å¹³å‡å€¼</td><td></td></tr></tbody></table><!----><p><strong>sqlè¯­æ³•æ ¼å¼</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> èšåˆå‡½æ•°å<span class="token punctuation">(</span>åˆ—å<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span>å¯ä»¥ç»§ç»­å†™å…¶ä»–å­—æ®µå<span class="token punctuation">]</span> <span class="token keyword">from</span> è¡¨<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ’åºæŸ¥è¯¢ä¹¦å†™ç¤ºä¾‹</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ç»Ÿè®¡ç­çº§äººæ•°</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥è¯¢æ•°å­¦æœ€é«˜åˆ†è€…çš„åˆ†æ•°ï¼Œåå­—ï¼Œå¹´é¾„</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>age<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>math_score<span class="token punctuation">)</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dqlâ€”â€”-åˆ†ç»„æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#dqlâ€”â€”-åˆ†ç»„æŸ¥è¯¢" aria-hidden="true">#</a> DQLâ€”â€”&gt;<code>åˆ†ç»„æŸ¥è¯¢</code></h4><p><strong>åˆ†ç»„æŸ¥è¯¢</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨å <span class="token keyword">where</span> æŸ¥è¯¢æ¡ä»¶ <span class="token keyword">group</span> <span class="token keyword">by</span> åˆ†ç»„å­—æ®µå <span class="token keyword">having</span> åˆ†ç»„åè¿‡æ»¤æ¡ä»¶<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!----><ul><li>åˆ†ç»„å,åªèƒ½æŸ¥è¯¢åˆ†ç»„å­—æ®µå’Œèšåˆå‡½æ•°ï¼ŒæŸ¥è¯¢å…¶ä»–å­—æ®µèƒ½å‡ºç»“æœä½†æ— æ„ä¹‰</li><li>æ‰§è¡Œé¡ºåº: <code>where</code> -&gt; <code>èšåˆå‡½æ•°</code> -&gt; <code>having</code></li><li><code>where</code> å’Œ <code>having</code> åŒºåˆ«ï¼š <ul><li><code>where</code> æ˜¯å¯¹åˆ†ç»„å‰çš„æ•°æ®è¿›è¡Œé™å®š,æ— æ³•å¯¹èšåˆå‡½æ•°åˆ¤æ–­</li><li><code>having</code> æ˜¯å¯¹åˆ†ç»„åçš„æ•°æ®è¿›è¡Œè¿‡æ»¤,èƒ½å¯¹èšåˆå‡½æ•°åˆ¤æ–­</li></ul></li></ul><p><strong>åˆ†ç»„æŸ¥è¯¢ä¹¦å†™ç¤ºä¾‹</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- æŸ¥è¯¢å…¨ç­ç”·ç”Ÿå¥³ç”Ÿå„è‡ªçš„æ•°å­¦å¹³å‡åˆ†</span>
<span class="token keyword">select</span> sex<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>math_score<span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>

<span class="token comment">-- åˆ†ç»„å,åªèƒ½æŸ¥è¯¢åˆ†ç»„å­—æ®µå’Œèšåˆå‡½æ•°ï¼ŒæŸ¥è¯¢å…¶ä»–å­—æ®µèƒ½å‡ºç»“æœä½†æ— æ„ä¹‰</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>math_score<span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥è¯¢å…¨ç­ç”·ç”Ÿå¥³ç”Ÿå„è‡ªçš„æ•°å­¦å¹³å‡åˆ†åŠå„è‡ªäººæ•°</span>
<span class="token keyword">select</span> sex<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>math_score<span class="token punctuation">)</span> <span class="token keyword">as</span> math_avg<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> pcount <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥è¯¢å…¨ç­ç”·ç”Ÿå¥³ç”Ÿå„è‡ªçš„æ•°å­¦å¹³å‡åˆ†åŠå„è‡ªäººæ•°,åˆ†æ•°ä½äº70åˆ†ä¸å‚ä¸åˆ†ç»„</span>
<span class="token keyword">select</span> sex<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>math_score<span class="token punctuation">)</span> <span class="token keyword">as</span> math_avg<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> pcount <span class="token keyword">from</span> student <span class="token keyword">where</span> math_score <span class="token operator">&gt;</span> <span class="token number">70</span> <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥è¯¢å…¨ç­ç”·ç”Ÿå¥³ç”Ÿå„è‡ªçš„æ•°å­¦å¹³å‡åˆ†åŠå„è‡ªäººæ•°,åˆ†æ•°ä½äº70åˆ†ä¸å‚ä¸åˆ†ç»„,åˆ†ç»„å,å„åˆ†ç»„çš„æ€»äººæ•°&gt;2</span>
<span class="token keyword">select</span> 
   sex<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>math_score<span class="token punctuation">)</span> <span class="token keyword">as</span> math_avg<span class="token punctuation">,</span>
   <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> pcount <span class="token keyword">from</span> student
<span class="token keyword">where</span>
   math_score <span class="token operator">&gt;</span> <span class="token number">70</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> 
   sex 
<span class="token keyword">having</span> 
   <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dqlâ€”â€”-åˆ†é¡µæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#dqlâ€”â€”-åˆ†é¡µæŸ¥è¯¢" aria-hidden="true">#</a> DQLâ€”â€”&gt;<code>åˆ†é¡µæŸ¥è¯¢</code></h4><p><strong>åˆ†é¡µæŸ¥è¯¢è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨å <span class="token keyword">limit</span> èµ·å§‹ç´¢å¼• <span class="token punctuation">,</span> æŸ¥è¯¢æ¡ç›®æ•°<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ³¨æ„ç‚¹</strong></p><ul><li>èµ·å§‹ç´¢å¼•ï¼šä»0å¼€å§‹</li><li>è®¡ç®—å…¬å¼ï¼š<code>èµ·å§‹ç´¢å¼• = (æŸ¥è¯¢é¡µ-1) * æ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°</code></li><li><!----><ul><li><code>sql Server</code> åˆ†é¡µæŸ¥è¯¢ç”¨ <code>top</code></li><li><code>oracle</code> åˆ†é¡µæŸ¥è¯¢ç”¨ <code>rownnumber</code></li></ul></li></ul><p><strong>åˆ†é¡µæŸ¥è¯¢è¯­æ³•ç¤ºä¾‹</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ä»0å¼€å§‹æŸ¥è¯¢ä¸‰æ¡æ•°æ®</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">limit</span> <span class="token number">0</span> <span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">;</span>

<span class="token comment">-- æ¯é¡µå±•ç¤º10æ¡æ•°æ®ï¼ŒæŸ¥è¯¢ç¬¬1é¡µæ•°æ®</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">limit</span> <span class="token number">0</span> <span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">;</span>    <span class="token identifier"><span class="token punctuation">`</span>èµ·å§‹ç´¢å¼• = (æŸ¥è¯¢é¡µ-1) * æ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°<span class="token punctuation">`</span></span>
<span class="token comment">-- æ¯é¡µå±•ç¤º10æ¡æ•°æ®ï¼ŒæŸ¥è¯¢ç¬¬2é¡µæ•°æ®</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">limit</span> <span class="token number">10</span> <span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">;</span>
<span class="token comment">-- æ¯é¡µå±•ç¤º10æ¡æ•°æ®ï¼ŒæŸ¥è¯¢ç¬¬3é¡µæ•°æ®</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">limit</span> <span class="token number">20</span> <span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dcl-data-control-language-æ•°æ®æ§åˆ¶è¯­è¨€" tabindex="-1"><a class="header-anchor" href="#dcl-data-control-language-æ•°æ®æ§åˆ¶è¯­è¨€" aria-hidden="true">#</a> DCL(Data Control Language)æ•°æ®æ§åˆ¶è¯­è¨€</h3><h4 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a> ??</h4><h3 id="çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#çº¦æŸ" aria-hidden="true">#</a> çº¦æŸ</h3><p>æ¦‚å¿µ</p><ul><li>çº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­åˆ—çš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶åŠ å…¥æ•°æ®çš„</li><li>çº¦æŸå¯ä»¥ä¿è¯æ•°æ®çš„ <strong>æ­£ç¡®æ€§</strong> <strong>å®Œæ•´æ€§</strong> <strong>æœ‰æ•ˆæ€§</strong></li></ul><p><strong>ä¸»è¦çš„å‡ ç§çº¦æŸ</strong></p><table><thead><tr><th>çº¦æŸåç§°</th><th>æè¿°</th><th>å…³é”®å­—</th></tr></thead><tbody><tr><td>éç©ºçº¦æŸ</td><td>ä¿è¯åˆ—ä¸­æ‰€æœ‰æ•°æ®ä¸èƒ½æœ‰nullå€¼</td><td><code>NOT NULL</code></td></tr><tr><td>å”¯ä¸€çº¦æŸ</td><td>ä¿è¯åˆ—ä¸­æ‰€æœ‰æ•°æ®å„ä¸ç›¸åŒ,å¦‚æœä¿®é¥°çš„åˆ—æ˜¯æ•°å€¼ç±»å‹å¯ä»¥æ·»åŠ è‡ªå¢çº¦æŸ</td><td><code>UNIQUE [AUTO_INCREMENT]</code></td></tr><tr><td>ä¸»é”®çº¦æŸ</td><td>ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚<code>éç©º</code>ä¸”<code>å”¯ä¸€</code></td><td><code>PRIMARY KEY [AUTO_INCREMENT]</code></td></tr><tr><td>æ£€æŸ¥çº¦æŸ</td><td>ä¿è¯åˆ—ä¸­çš„å€¼æ»¡è¶³æŸä¸€æ¡ä»¶ <!----></td><td><code>CHECK</code></td></tr><tr><td>é»˜è®¤çº¦æŸ</td><td>ä¿å­˜æ•°æ®æ—¶ï¼ŒæœªæŒ‡å®šå€¼åˆ™é‡‡ç”¨é»˜è®¤å€¼</td><td><code>DEFAULT</code></td></tr><tr><td>å¤–é”®çº¦æŸ</td><td>å¤–é”®ç”¨æ¥è®©ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¹‹é—´å»ºç«‹é“¾æ¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§</td><td><code>FOREIGN KEY</code></td></tr></tbody></table><p><strong>æ‰©å±•çº¦æŸ</strong></p><table><thead><tr><th>çº¦æŸåç§°</th><th>æè¿°</th><th>å…³é”®å­—</th></tr></thead><tbody><tr><td>è‡ªå¢çº¦æŸ</td><td>å½“åˆ—ä¸º<code>æ•°å€¼ç±»å‹</code>ä¸”æœ‰<code>å”¯ä¸€çº¦æŸ</code>ï¼Œä¿å­˜æ•°æ®æ—¶ï¼Œ<code>æœªæŒ‡å®šå€¼</code>æˆ–<code>ç»™null</code>æ—¶å°†<code>è‡ªåŠ¨è‡ªå¢</code></td><td>AUTO_INCREMENT`</td></tr></tbody></table><h4 id="éç©ºçº¦æŸ" tabindex="-1"><a class="header-anchor" href="#éç©ºçº¦æŸ" aria-hidden="true">#</a> éç©ºçº¦æŸ</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>

<span class="token comment">-- åœ¨è¡¨åˆ›å»ºæ—¶åœ¨åˆ—åˆ›å»º not null çº¦æŸï¼š</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- æ’¤é”€ not null çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">modify</span> name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- æ·»åŠ  not null çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">modify</span> name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å”¯ä¸€çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#å”¯ä¸€çº¦æŸ" aria-hidden="true">#</a> å”¯ä¸€çº¦æŸ</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>

<span class="token comment">-- åœ¨è¡¨åˆ›å»ºæ—¶åœ¨åˆ—åˆ›å»º unique çº¦æŸï¼š</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span> <span class="token keyword">unique</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- å¦‚æœéœ€è¦ä¸ºå¤šä¸ªåˆ—å®šä¹‰ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>stuid<span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ’¤é”€ unique çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> stuid<span class="token punctuation">;</span>   <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- æ·»åŠ  unique çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>stuid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>
<span class="token comment">-- å¦‚æœéœ€è¦å‘½å PRIMARY KEY çº¦æŸï¼Œä»¥åŠä¸ºå¤šä¸ªåˆ—å®šä¹‰ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">CONSTRAINT</span> c1 <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>stuid<span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> c1<span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLä¸æ”¯æŒ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> c1<span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- æ·»åŠ </span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> c1 <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>stuid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸»é”®çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#ä¸»é”®çº¦æŸ" aria-hidden="true">#</a> ä¸»é”®çº¦æŸ</h4><p><strong>è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code> <span class="token comment">-- ä¸»é”® `éç©ºnot null` ä¸” `å”¯ä¸€unique`</span>
<span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>


<span class="token comment">-- åœ¨è¡¨åˆ›å»ºæ—¶åœ¨åˆ—åˆ›å»º PRIMARY KEY çº¦æŸï¼š</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- å¦‚æœéœ€è¦ä¸ºå¤šä¸ªåˆ—å®šä¹‰ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   id <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ -- å¯ä»¥ç”¨äºå®šä¹‰å¤åˆä¸»é”®  PRIMARY KEY (id,name)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ’¤é”€ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span><span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- æ·»åŠ  PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- å¦‚æœéœ€è¦å‘½å PRIMARY KEY çº¦æŸï¼Œä»¥åŠä¸ºå¤šä¸ªåˆ—å®šä¹‰ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   id <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">CONSTRAINT</span> c1 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- é€šè¿‡ CONSTRAINT å¯¹çº¦æŸå‘½å æ·»åŠ  PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> pk_studentID <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- é€šè¿‡ CONSTRAINT å¯¹çº¦æŸå‘½å æ’¤é”€ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> pk_studentID<span class="token punctuation">;</span> <span class="token comment">--  ç»æµ‹è¯•,MySQLä¸æ”¯æŒè¿™ç§å†™æ³•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ£€æŸ¥çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#æ£€æŸ¥çº¦æŸ" aria-hidden="true">#</a> æ£€æŸ¥çº¦æŸ</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>

<span class="token comment">-- åœ¨è¡¨åˆ›å»ºæ—¶åœ¨åˆ—åˆ›å»º check çº¦æŸï¼š</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span> <span class="token keyword">check</span><span class="token punctuation">(</span>stuid<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- å¦‚æœéœ€è¦ä¸ºå¤šä¸ªåˆ—å®šä¹‰ check çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">check</span><span class="token punctuation">(</span>stuid<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ’¤é”€ check çº¦æŸ</span>
   ???
<span class="token comment">-- æ·»åŠ  CHECK çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>stuid<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>
<span class="token comment">-- å¦‚æœéœ€è¦å‘½å PRIMARY KEY çº¦æŸï¼Œä»¥åŠä¸ºå¤šä¸ªåˆ—å®šä¹‰ PRIMARY KEY çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">CONSTRAINT</span> c1 <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>stuid<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> c1<span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•, MySQL ä¸æ”¯æŒ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">CHECK</span> c1<span class="token punctuation">;</span><span class="token comment">-- ç»æµ‹è¯•, MySQL5.7 ä¸æ”¯æŒ</span>
<span class="token comment">-- æ·»åŠ </span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> c1 <span class="token keyword">CHECK</span> <span class="token punctuation">(</span> stuid<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é»˜è®¤çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤çº¦æŸ" aria-hidden="true">#</a> é»˜è®¤çº¦æŸ</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>

<span class="token comment">-- åœ¨è¡¨åˆ›å»ºæ—¶åœ¨åˆ—åˆ›å»º default çº¦æŸï¼š</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   stuid <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ’¤é”€ default çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ALTER</span> stuid <span class="token keyword">DROP</span> <span class="token keyword">DEFAULT</span> <span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- æ·»åŠ  CHECK çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ALTER</span> stuid <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¤–é”®çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#å¤–é”®çº¦æŸ" aria-hidden="true">#</a> å¤–é”®çº¦æŸ</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> db1<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> db1<span class="token punctuation">;</span>
<span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> student<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> department<span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> department<span class="token punctuation">(</span>
   id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
   name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
   depart_id <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token keyword">constraint</span> stu_dep <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>depart_id<span class="token punctuation">)</span>  <span class="token keyword">references</span> department<span class="token punctuation">(</span>id<span class="token punctuation">)</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ  FOREIGN KEY çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>depart_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> department<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> stu_dep <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>depart_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> department<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
<span class="token comment">-- æ’¤é”€ FOREIGN KEY çº¦æŸ</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> stu_dep <span class="token punctuation">;</span> <span class="token comment">-- ç»æµ‹è¯•,MySQLæ”¯æŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é¢" tabindex="-1"><a class="header-anchor" href="#é¢" aria-hidden="true">#</a> é¢</h4><p><strong>å±æ€§çº§(åˆ—å)çš„çº¦æŸè¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- åœ¨å®šä¹‰è¡¨ç¤ºæ·»åŠ çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
   åˆ—å æ•°æ®ç±»å‹ <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   åˆ—å æ•°æ®ç±»å‹ <span class="token keyword">UNIQUE</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
   åˆ—å æ•°æ®ç±»å‹ <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
   åˆ—å æ•°æ®ç±»å‹ <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
   åˆ—å æ•°æ®ç±»å‹ <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ éç©ºçº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">modify</span> åˆ—å æ•°æ®ç±»å‹ <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤éç©ºçº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">modify</span> åˆ—å æ•°æ®ç±»å‹<span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">modify</span> åˆ—å æ•°æ®ç±»å‹ <span class="token keyword">unique</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤å”¯ä¸€çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">drop</span> <span class="token keyword">index</span> åˆ—å<span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ ä¸»é”®çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>åˆ—å<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤ä¸»é”®çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">drop</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ é»˜è®¤çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">alter</span> åˆ—å <span class="token keyword">set</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤é»˜è®¤çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">alter</span> åˆ—å <span class="token keyword">drop</span> <span class="token keyword">default</span><span class="token punctuation">;</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å±æ€§çº§(åˆ—å)çš„çº¦æŸè¯­æ³•æµ‹è¯•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> employee<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employee<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>     <span class="token comment">-- ä¸»é”®</span>
    name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>                <span class="token comment">-- éç©º</span>
    joindate <span class="token keyword">date</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>                <span class="token comment">-- éç©º</span>
    salary <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>           <span class="token comment">-- éç©º</span>
    bonus <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span>            <span class="token comment">-- é»˜è®¤çº¦æŸ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> employee<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>joindate<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>bonus<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰1&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;2001-01-01&#39;</span><span class="token punctuation">,</span><span class="token number">1000.00</span><span class="token punctuation">,</span><span class="token number">0.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> employee<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>joindate<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>bonus<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰2&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;2001-01-01&#39;</span><span class="token punctuation">,</span><span class="token number">1000.00</span><span class="token punctuation">,</span><span class="token number">0.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> employee<span class="token punctuation">(</span>name<span class="token punctuation">,</span>joindate<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>bonus<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰3&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;2001-01-01&#39;</span><span class="token punctuation">,</span><span class="token number">1000.00</span><span class="token punctuation">,</span><span class="token number">0.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from employee<span class="token punctuation">;</span>
+----+---------+------------+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> name    <span class="token operator">|</span> joindate   <span class="token operator">|</span> salary  <span class="token operator">|</span> bonus <span class="token operator">|</span>
+----+---------+------------+---------+-------+
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰1   <span class="token operator">|</span> <span class="token number">2001</span>-01-01 <span class="token operator">|</span> <span class="token number">1000.00</span> <span class="token operator">|</span>  <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> å¼ ä¸‰2   <span class="token operator">|</span> <span class="token number">2001</span>-01-01 <span class="token operator">|</span> <span class="token number">1000.00</span> <span class="token operator">|</span>  <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> å¼ ä¸‰3   <span class="token operator">|</span> <span class="token number">2001</span>-01-01 <span class="token operator">|</span> <span class="token number">1000.00</span> <span class="token operator">|</span>  <span class="token number">0.00</span> <span class="token operator">|</span>
+----+---------+------------+---------+-------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!-- 
**å±æ€§çº§çº¦æŸ`å­å¥`çš„è¯­æ³•**
```sql
-- åœ¨å®šä¹‰è¡¨ç¤ºæ·»åŠ çº¦æŸï¼ˆå®Œæ•´æ€§çº¦æŸåï¼‰
create table è¡¨å(
   åˆ—å æ•°æ®ç±»å‹ 
      constraint å®Œæ•´æ€§çº¦æŸååˆ«å NOT NULL,
   åˆ—å æ•°æ®ç±»å‹ 
      constraint å®Œæ•´æ€§çº¦æŸååˆ«å  UNIQUE AUTO_INCREMENT,
   åˆ—å æ•°æ®ç±»å‹ 
      constraint å®Œæ•´æ€§çº¦æŸååˆ«å PRIMARY KEY AUTO_INCREMENT,
   åˆ—å æ•°æ®ç±»å‹ 
      constraint å®Œæ•´æ€§çº¦æŸååˆ«å DEFAULT 0,
   åˆ—å æ•°æ®ç±»å‹ 
      constraint å®Œæ•´æ€§çº¦æŸååˆ«å FOREIGN KEY,
);
-- æ·»åŠ çº¦æŸ
alter table è¡¨å add  constraint çº¦æŸåç§° ;
-- åˆ é™¤çº¦æŸ
alter table è¡¨å drop å®Œæ•´æ€§çº¦æŸååˆ«å;
```

**æµ‹è¯•**
```sql
drop database if exists db1;
create database db1;
use db1;
drop table if exists employee;
create table employee(
   -- ä»…åœ¨sql server ä¸­æµ‹è¯•æœ‰æ•ˆ
   -- ä¸”constraintå­å¥ä»…æ”¯æŒ CHECK,DEFAULT,FOREIGN,PRIMARY,REFERENCES,UNIQUE
   id int 
   constraint constraint1 primary key ,     -- ä¸»é”®
   name char(10) not null,                -- éç©º
   joindate date not null,                -- éç©º
   salary double(8,2) not null,           -- éç©º
   bonus double(8,2)
   constraint constraint2 default 0            -- é»˜è®¤çº¦æŸ
);
```

--><p><strong>å…ƒç¥–çº§çš„çº¦æŸè¯­æ³•</strong><br> å¤åˆä¸»é”®å¿…é¡»ä»¥è¿™ç§æ–¹å¼å®šä¹‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- åœ¨åˆ›å»ºè¡¨æ—¶å®šä¹‰çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
   åˆ—å<span class="token number">1</span> æ•°æ®ç±»å‹<span class="token number">1</span><span class="token punctuation">,</span>
   åˆ—å<span class="token number">2</span> æ•°æ®ç±»å‹<span class="token number">2</span><span class="token punctuation">,</span>
   åˆ—å<span class="token number">3</span> æ•°æ®ç±»å‹<span class="token number">3</span><span class="token punctuation">,</span>
   åˆ—å<span class="token number">4</span> æ•°æ®ç±»å‹<span class="token number">4</span><span class="token punctuation">,</span>
   åˆ—å<span class="token number">5</span> æ•°æ®ç±»å‹<span class="token number">5</span><span class="token punctuation">,</span>
   
   <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>åˆ—å<span class="token number">1</span><span class="token punctuation">,</span>åˆ—å<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   
   <span class="token keyword">constraint</span> å®Œæ•´æ€§çº¦æŸååˆ«å <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>å¤–é”®åˆ—å<span class="token punctuation">)</span> <span class="token keyword">references</span> ä¸»è¡¨<span class="token punctuation">(</span>ä¸»è¡¨åˆ—å<span class="token punctuation">)</span><span class="token punctuation">,</span> 

   <span class="token keyword">constraint</span> å®Œæ•´æ€§çº¦æŸååˆ«å çº¦æŸåç§°
   <span class="token comment">-- ğŸ‘†</span>
   <span class="token comment">-- åœ¨ sqlserver ä¸­ constraint ä»…æ”¯æŒ CHECK,DEFAULT,FOREIGN,PRIMARY,REFERENCES,UNIQUE</span>
   <span class="token comment">-- åœ¨ mysql ä¸­ ç»æµ‹è¯•ï¼Œconstraint æ”¯æŒ unique ï¼Œprimary key  foreign keyï¼Œå…¶ä»–æš‚æœªæµ‹è¯•</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span>  <span class="token keyword">constraint</span> å®Œæ•´æ€§çº¦æŸååˆ«å çº¦æŸåç§°<span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">drop</span> å®Œæ•´æ€§çº¦æŸååˆ«å<span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ å¤–é”®çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">add</span> <span class="token keyword">constraint</span> å®Œæ•´æ€§çº¦æŸååˆ«å <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>å¤–é”®åˆ—å<span class="token punctuation">)</span> <span class="token keyword">references</span> ä¸»è¡¨<span class="token punctuation">(</span>ä¸»è¡¨åˆ—å<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- åˆ é™¤å¤–é”®çº¦æŸ</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> å®Œæ•´æ€§çº¦æŸååˆ«å<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…ƒç¥–çº§çš„çº¦æŸè¯­æ³•æµ‹è¯•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> department<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> department<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>     <span class="token comment">-- ä¸»é”®</span>
    name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> employee<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employee<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>                 <span class="token comment">-- ä¸»é”®</span>
    name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>                <span class="token comment">-- éç©º</span>
    joindate <span class="token keyword">date</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>                <span class="token comment">-- éç©º</span>
    salary <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>           <span class="token comment">-- éç©º</span>
    bonus <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span>           <span class="token comment">-- é»˜è®¤çº¦æŸ</span>
    department <span class="token keyword">int</span><span class="token punctuation">,</span>                        <span class="token comment">-- å¤–é”®</span>
   <span class="token keyword">constraint</span> c1 <span class="token keyword">unique</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- å”¯ä¸€</span>
   <span class="token keyword">constraint</span> c2 <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- ä¸»é”®</span>
   <span class="token keyword">constraint</span> c3 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>department<span class="token punctuation">)</span> <span class="token keyword">references</span> department<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">--å¼•ç”¨å®Œæ•´æ€§çº¦æŸ</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> desc employee<span class="token punctuation">;</span>
--------------
desc employee
--------------

+------------+-------------+------+-----+---------+----------------+
<span class="token operator">|</span> Field      <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra          <span class="token operator">|</span>
+------------+-------------+------+-----+---------+----------------+
<span class="token operator">|</span> <span class="token function">id</span>         <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> NO   <span class="token operator">|</span> PRI <span class="token operator">|</span> NULL    <span class="token operator">|</span> auto_increment <span class="token operator">|</span>
<span class="token operator">|</span> name       <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token operator">|</span> NO   <span class="token operator">|</span> UNI <span class="token operator">|</span> NULL    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> joindate   <span class="token operator">|</span> <span class="token function">date</span>        <span class="token operator">|</span> NO   <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> salary     <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">8,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> NO   <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> bonus      <span class="token operator">|</span> double<span class="token punctuation">(</span><span class="token number">8,2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0.00</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> department <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span> MUL <span class="token operator">|</span> NULL    <span class="token operator">|</span>                <span class="token operator">|</span>
+------------+-------------+------+-----+---------+----------------+
<span class="token number">6</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°æ®åº“è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“è®¾è®¡" aria-hidden="true">#</a> æ•°æ®åº“è®¾è®¡</h3><p><strong>è¡¨å…³ç³»åˆ†ç±»</strong></p><ul><li>ä¸€å¯¹ä¸€ï¼š <ul><li>å°†ä¸€ä¸ªå®ä½“ä¸­å¸¸ç”¨å­—æ®µå’Œä¸å¸¸ç”¨å­—æ®µæ‹†åˆ†ä¸ºä¸¤ä¸ªè¡¨ï¼Œç”¨äºæå‡æŸ¥è¯¢æ€§èƒ½</li><li>ç”¨æˆ·å’Œç”¨æˆ·è¯¦æƒ…ä¿¡æ¯è¡¨</li><li>ä¸€ä¸ªç”¨æˆ·æœ‰ä¸€ä¸ªè¯¦æƒ…ä¿¡æ¯</li></ul></li><li>ä¸€å¯¹å¤šï¼ˆå¤šå¯¹ä¸€ï¼‰ï¼š <ul><li>éƒ¨é—¨å’Œå‘˜å·¥</li><li>ä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ï¼Œå¤šä¸ªå‘˜å·¥åŒå±ä¸€ä¸ªéƒ¨é—¨</li></ul></li><li>å¤šå¯¹å¤š <ul><li>å•†å“å’Œè®¢å•</li><li>ä¸€ä¸ªå•†å“å¯¹åº”å¤šä¸ªè®¢å•ï¼Œä¸€ä¸ªè®¢å•æœ‰å¤šä¸ªå•†å“</li></ul></li></ul><h4 id="ä¸€å¯¹ä¸€" tabindex="-1"><a class="header-anchor" href="#ä¸€å¯¹ä¸€" aria-hidden="true">#</a> ä¸€å¯¹ä¸€</h4><p><strong>å®ç°æ–¹å¼</strong> åœ¨ä»»æ„ä¸€æ–¹å»ºç«‹å¤–é”®ï¼ŒæŒ‡å‘å¦ä¸€æ–¹çš„ä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸º<code>å”¯ä¸€UNIQUE</code></p><p><img src="/assets/2022-11-08-01-53-42-btjemqQY.png" alt=""></p><h4 id="ä¸€å¯¹å¤š" tabindex="-1"><a class="header-anchor" href="#ä¸€å¯¹å¤š" aria-hidden="true">#</a> ä¸€å¯¹å¤š</h4><p><strong>å®ç°æ–¹å¼</strong> åœ¨<code>å¤š</code>çš„ä¸€æ–¹å»ºç«‹å¤–é”®ï¼ŒæŒ‡å‘<code>ä¸€</code>çš„ä¸€æ–¹çš„ä¸»é”®</p><p><img src="/assets/2022-11-08-01-46-47-6CHJ8w69.png" alt=""></p><h4 id="å¤šå¯¹å¤š" tabindex="-1"><a class="header-anchor" href="#å¤šå¯¹å¤š" aria-hidden="true">#</a> å¤šå¯¹å¤š</h4><p><strong>å®ç°æ–¹å¼</strong> å»ºç«‹ç¬¬ä¸‰å¼ <code>ä¸­é—´è¡¨</code>ï¼Œä¸­é—´è¡¨è‡³å°‘åŒ…å«<code>ä¸¤ä¸ªå¤–é”®</code>ï¼Œåˆ†åˆ«å…³è”ä¸¤æ–¹çš„<code>ä¸»é”®</code>ã€‚</p><p><img src="/assets/2022-11-08-01-49-47-9RNxpFTR.png" alt=""></p><h3 id="å¤šè¡¨æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#å¤šè¡¨æŸ¥è¯¢" aria-hidden="true">#</a> å¤šè¡¨æŸ¥è¯¢</h3><p><strong>å¤šè¡¨æŸ¥è¯¢</strong></p><ul><li>ç¬›å¡å°”ç§¯ï¼šå–Aã€Bé›†åˆçš„ç»„åˆ</li><li>å¤šè¡¨æŸ¥è¯¢ï¼šä»å¤šå¼ æŸ¥è¯¢æ•°æ® <ul><li>è¿æ¥æŸ¥è¯¢ <ul><li>å†…è¿æ¥ï¼šæŸ¥è¯¢Aã€Bäº¤é›†æ•°æ®</li><li>å¤–è¿æ¥ï¼š <ul><li>å·¦å¤–è¿æ¥ï¼šæŸ¥è¯¢Aè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†æ•°æ®</li><li>å³å¤–è¿æ¥ï¼šæŸ¥è¯¢Bè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†æ•°æ®</li></ul></li><li>å­æŸ¥è¯¢ï¼šæŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢</li></ul></li></ul></li><li><img src="/assets/2022-11-08-02-14-14-O21ycDl_.png" alt=""></li></ul><h4 id="ç¬›å¡å°”ç§¯" tabindex="-1"><a class="header-anchor" href="#ç¬›å¡å°”ç§¯" aria-hidden="true">#</a> ç¬›å¡å°”ç§¯</h4><ul><li><p>ç¬›å¡å°”ç§¯ï¼šæœ‰Aã€Bä¸¤é›†åˆï¼Œå–Aã€Bä¸¤é›†åˆæ‰€æœ‰çš„ç»„åˆ</p></li><li><p>è‹¥Aè¡¨æœ‰4æ¡æ•°æ®ï¼ŒBè¡¨æœ‰8æ¡æ•°æ®ï¼Œç¬›å¡å°”ç§¯å°±æœ‰32æ¡æ•°æ®ã€‚</p></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA<span class="token punctuation">,</span>tableB<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="å†…è¿æ¥" tabindex="-1"><a class="header-anchor" href="#å†…è¿æ¥" aria-hidden="true">#</a> å†…è¿æ¥</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- å†™æ³•1ï¼šéšå¼å†…è¿æ¥</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA<span class="token punctuation">,</span>tableB <span class="token keyword">where</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">select</span> tableA<span class="token punctuation">.</span>id<span class="token punctuation">,</span>tableA<span class="token punctuation">.</span>name<span class="token punctuation">,</span>tableA<span class="token punctuation">.</span>id<span class="token punctuation">,</span>tableA<span class="token punctuation">.</span>name <span class="token keyword">from</span> tableA<span class="token punctuation">,</span>tableB <span class="token keyword">where</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">-- é˜²æ­¢å­—æ®µåå†²çª</span>
<span class="token keyword">select</span> A<span class="token punctuation">.</span>id<span class="token punctuation">,</span>A<span class="token punctuation">.</span>name<span class="token punctuation">,</span>B<span class="token punctuation">.</span>id<span class="token punctuation">,</span>B<span class="token punctuation">.</span>name <span class="token keyword">from</span> tableA <span class="token keyword">as</span> A<span class="token punctuation">,</span>tableB <span class="token keyword">as</span> B <span class="token keyword">where</span> A<span class="token punctuation">.</span>id <span class="token operator">=</span> B<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">-- ç»™è¡¨èµ·åˆ«å</span>

<span class="token comment">-- å†™æ³•2ï¼šæ˜¾å¼å†…è¿æ¥</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA <span class="token keyword">inner</span> <span class="token keyword">join</span> tableB <span class="token keyword">on</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA <span class="token keyword">join</span> tableB <span class="token keyword">on</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">-- innerå¯çœç•¥</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¤–è¿æ¥" tabindex="-1"><a class="header-anchor" href="#å¤–è¿æ¥" aria-hidden="true">#</a> å¤–è¿æ¥</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">--- å·¦å¤–è¿æ¥:  tableAçš„æ‰€æœ‰æ•°æ® + tableAå’ŒtableBçš„äº¤é›†æ•°æ®</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA <span class="token keyword">left</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> tableB <span class="token keyword">on</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA <span class="token keyword">left</span> <span class="token keyword">join</span> tableB <span class="token keyword">on</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">-- outer å¯çœç•¥</span>

<span class="token comment">--- å³å¤–è¿æ¥ï¼š tableBçš„æ‰€æœ‰æ•°æ® + tableAå’ŒtableBçš„äº¤é›†æ•°æ®</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA <span class="token keyword">right</span> <span class="token keyword">join</span> tableB <span class="token keyword">on</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tableA <span class="token keyword">right</span> <span class="token keyword">join</span> tableB <span class="token keyword">on</span> tableA<span class="token punctuation">.</span>id <span class="token operator">=</span> tableB<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">-- outer å¯çœç•¥</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å­æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#å­æŸ¥è¯¢" aria-hidden="true">#</a> å­æŸ¥è¯¢</h4><p><strong>æ¦‚å¿µ</strong>ï¼š æŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢ï¼Œç§°åµŒå¥—æŸ¥è¯¢ä¸ºå­æŸ¥è¯¢</p><p><strong>åˆ†ç±»</strong>ï¼š<strong>æ ¹æ®å­æŸ¥è¯¢çš„ç»“æœä¸åŒï¼Œä½œç”¨ä¸åŒ</strong></p><ul><li><p>å­æŸ¥è¯¢ç»“æœä¸º<strong>å•è¡Œå•åˆ—</strong>ï¼šï¼ˆä½¿ç”¨<code>=</code> <code>!=</code> <code>&gt;</code> <code>&lt;</code>ç­‰è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨ <span class="token keyword">where</span> å­—æ®µå <span class="token operator">=</span> <span class="token punctuation">(</span>å­æŸ¥è¯¢<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> å­—æ®µåˆ—è¡¨<span class="token punctuation">,</span><span class="token punctuation">(</span>å­æŸ¥è¯¢<span class="token punctuation">)</span> <span class="token keyword">as</span> å­—æ®µåˆ«å  <span class="token keyword">from</span> è¡¨<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å­æŸ¥è¯¢ç»“æœä¸º<strong>å•è¡Œå¤šåˆ—</strong>ï¼šï¼ˆä½¿ç”¨ <code>in</code> ç­‰å…³é”®å­—è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> è¡¨ <span class="token keyword">where</span> å­—æ®µå <span class="token operator">in</span> <span class="token punctuation">(</span>å­æŸ¥è¯¢<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å­æŸ¥è¯¢ç»“æœä¸º<strong>å¤šè¡Œå¤šåˆ—</strong>,ï¼šï¼ˆä½œä¸º<strong>è™šæ‹Ÿè¡¨</strong>ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="token keyword">from</span> <span class="token punctuation">(</span>å­æŸ¥è¯¢<span class="token punctuation">)</span> <span class="token keyword">where</span> æ¡ä»¶<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h4 id="æ¡ˆä¾‹-å­æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹-å­æŸ¥è¯¢" aria-hidden="true">#</a> æ¡ˆä¾‹ï¼šå­æŸ¥è¯¢</h4><p><strong>æ•°æ®å‡†å¤‡</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> db2<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db2<span class="token punctuation">;</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> emp<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> dept<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> job<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> salarygrade<span class="token punctuation">;</span>


<span class="token comment">-- éƒ¨é—¨è¡¨</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> <span class="token comment">-- éƒ¨é—¨id</span>
  dname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- éƒ¨é—¨åç§°</span>
  loc <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- éƒ¨é—¨æ‰€åœ¨åœ°</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">-- èŒåŠ¡è¡¨ï¼ŒèŒåŠ¡åç§°ï¼ŒèŒåŠ¡æè¿°</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> job <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
  jname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  description <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- å‘˜å·¥è¡¨</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> <span class="token comment">-- å‘˜å·¥id</span>
  ename <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- å‘˜å·¥å§“å</span>
  job_id <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token comment">-- èŒåŠ¡id</span>
  mgr <span class="token keyword">INT</span> <span class="token punctuation">,</span> <span class="token comment">-- ä¸Šçº§é¢†å¯¼</span>
  joindate <span class="token keyword">DATE</span><span class="token punctuation">,</span> <span class="token comment">-- å…¥èŒæ—¥æœŸ</span>
  salary <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- å·¥èµ„</span>
  bonus <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- å¥–é‡‘</span>
  dept_id <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token comment">-- æ‰€åœ¨éƒ¨é—¨ç¼–å·</span>
  <span class="token keyword">CONSTRAINT</span> emp_jobid_ref_job_id_fk <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>job_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> job <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">CONSTRAINT</span> emp_deptid_ref_dept_id_fk <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- å·¥èµ„ç­‰çº§è¡¨</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> salarygrade <span class="token punctuation">(</span>
  grade <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>   <span class="token comment">-- çº§åˆ«</span>
  losalary <span class="token keyword">INT</span><span class="token punctuation">,</span>  <span class="token comment">-- æœ€ä½å·¥èµ„</span>
  hisalary <span class="token keyword">INT</span> <span class="token comment">-- æœ€é«˜å·¥èµ„</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token comment">-- æ·»åŠ 4ä¸ªéƒ¨é—¨</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> 
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;æ•™ç ”éƒ¨&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;åŒ—äº¬&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;å­¦å·¥éƒ¨&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">&#39;é”€å”®éƒ¨&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;å¹¿å·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">&#39;è´¢åŠ¡éƒ¨&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;æ·±åœ³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- æ·»åŠ 4ä¸ªèŒåŠ¡</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> job <span class="token punctuation">(</span>id<span class="token punctuation">,</span> jname<span class="token punctuation">,</span> description<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;è‘£äº‹é•¿&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç®¡ç†æ•´ä¸ªå…¬å¸ï¼Œæ¥å•&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;ç»ç†&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç®¡ç†éƒ¨é—¨å‘˜å·¥&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;é”€å”®å‘˜&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å‘å®¢äººæ¨é”€äº§å“&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;æ–‡å‘˜&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ä½¿ç”¨åŠå…¬è½¯ä»¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- æ·»åŠ å‘˜å·¥</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>id<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>joindate<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>bonus<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> 
<span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token string">&#39;å­™æ‚Ÿç©º&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2000-12-17&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;8000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token string">&#39;å¢ä¿Šä¹‰&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-02-20&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;16000.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;3000.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1003</span><span class="token punctuation">,</span><span class="token string">&#39;æ—å†²&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-02-22&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;12500.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;5000.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;å”åƒ§&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;2001-04-02&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;29750.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1005</span><span class="token punctuation">,</span><span class="token string">&#39;æé€µ&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-09-28&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;12500.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;14000.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;å®‹æ±Ÿ&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;2001-05-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;28500.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1007</span><span class="token punctuation">,</span><span class="token string">&#39;åˆ˜å¤‡&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;2001-09-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;24500.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1008</span><span class="token punctuation">,</span><span class="token string">&#39;çŒªå…«æˆ’&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2007-04-19&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;30000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">&#39;ç½—è´¯ä¸­&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;2001-11-17&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;50000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1010</span><span class="token punctuation">,</span><span class="token string">&#39;å´ç”¨&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-09-08&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;15000.00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0.00&#39;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1011</span><span class="token punctuation">,</span><span class="token string">&#39;æ²™åƒ§&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2007-05-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;11000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1012</span><span class="token punctuation">,</span><span class="token string">&#39;æé€µ&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">&#39;2001-12-03&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;9500.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1013</span><span class="token punctuation">,</span><span class="token string">&#39;å°ç™½é¾™&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">&#39;2001-12-03&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;30000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1014</span><span class="token punctuation">,</span><span class="token string">&#39;å…³ç¾½&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1007</span><span class="token punctuation">,</span><span class="token string">&#39;2002-01-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;13000.00&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- æ·»åŠ 5ä¸ªå·¥èµ„ç­‰çº§</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salarygrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losalary<span class="token punctuation">,</span>hisalary<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> 
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7000</span><span class="token punctuation">,</span><span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">12010</span><span class="token punctuation">,</span><span class="token number">14000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">14010</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">20010</span><span class="token punctuation">,</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">30010</span><span class="token punctuation">,</span><span class="token number">99990</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é¢˜ç›® 1.æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ã€‚æŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå·¥èµ„ï¼ŒèŒåŠ¡åç§°ï¼ŒèŒåŠ¡æè¿°</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ----å†™æ³•ä¸€ï¼šéšå¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>jname<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>description
<span class="token keyword">from</span> 
   emp<span class="token punctuation">,</span>job
<span class="token keyword">where</span>
   emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token comment">-- ----å†™æ³•äºŒï¼šæ˜¾å¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>jname<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>description
<span class="token keyword">from</span> 
   emp
<span class="token keyword">inner</span> <span class="token keyword">join</span>
   job
<span class="token keyword">on</span>
   emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»“æœ</strong></p><table><thead><tr><th>id</th><th>ename</th><th>salary</th><th>jname</th><th>description</th></tr></thead><tbody><tr><td>1009</td><td>ç½—è´¯ï¼Ÿ</td><td>50000</td><td>è‘£äº‹ï¼Ÿ</td><td>ç®¡ç†æ•´ä¸ªå…¬å¸ï¼Œæ¥ï¼Ÿ</td></tr><tr><td>1004</td><td>å”åƒ§</td><td>29750</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td></tr><tr><td>1006</td><td>å®‹æ±Ÿ</td><td>28500</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td></tr><tr><td>1007</td><td>åˆ˜å¤‡</td><td>24500</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td></tr><tr><td>1002</td><td>å¢ä¿Šï¼Ÿ</td><td>16000</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td></tr><tr><td>1003</td><td>æ—å†²</td><td>12500</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td></tr><tr><td>1010</td><td>å´ç”¨</td><td>15000</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td></tr><tr><td>1001</td><td>å­™æ‚Ÿï¼Ÿ</td><td>8000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr><tr><td>1005</td><td>æï¼Ÿ</td><td>12500</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr><tr><td>1008</td><td>çŒªå…«ï¼Ÿ</td><td>30000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr><tr><td>1011</td><td>æ²™åƒ§</td><td>11000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr><tr><td>1012</td><td>æï¼Ÿ</td><td>9500</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr><tr><td>1013</td><td>å°ç™½ï¼Ÿ</td><td>30000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr><tr><td>1014</td><td>å…³ç¾½</td><td>13000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td></tr></tbody></table><p><strong>é¢˜ç›® 2.æŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå·¥èµ„ï¼ŒèŒåŠ¡åç§°ï¼ŒèŒåŠ¡æè¿°ï¼Œéƒ¨é—¨åç§°ï¼Œéƒ¨é—¨ä½ç½®</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ----å†™æ³•ä¸€ï¼šéšå¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>jname<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>loc
<span class="token keyword">from</span> 
   emp<span class="token punctuation">,</span>job<span class="token punctuation">,</span>dept
<span class="token keyword">where</span>
   emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id <span class="token operator">and</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token comment">-- ----å†™æ³•äºŒï¼šæ˜¾å¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>jname<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>loc
<span class="token keyword">from</span> 
   emp
<span class="token keyword">inner</span> <span class="token keyword">join</span> job <span class="token keyword">on</span> emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id
<span class="token keyword">inner</span> <span class="token keyword">join</span> dept <span class="token keyword">on</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»“æœ</strong></p><table><thead><tr><th>id</th><th>ename</th><th>salary</th><th>jname</th><th>description</th><th>dname</th><th>loc</th></tr></thead><tbody><tr><td>1009</td><td>ç½—è´¯ï¼Ÿ</td><td>50000</td><td>è‘£äº‹ï¼Ÿ</td><td>ç®¡ç†æ•´ä¸ªå…¬å¸ï¼Œæ¥ï¼Ÿ</td><td>æ•™ç ”ï¼Ÿ</td><td>åŒ—äº¬</td></tr><tr><td>1007</td><td>åˆ˜å¤‡</td><td>24500</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td><td>æ•™ç ”ï¼Ÿ</td><td>åŒ—äº¬</td></tr><tr><td>1014</td><td>å…³ç¾½</td><td>13000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>æ•™ç ”ï¼Ÿ</td><td>åŒ—äº¬</td></tr><tr><td>1004</td><td>å”åƒ§</td><td>29750</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td><td>å­¦å·¥ï¼Ÿ</td><td>ä¸Šæµ·</td></tr><tr><td>1001</td><td>å­™æ‚Ÿï¼Ÿ</td><td>8000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥ï¼Ÿ</td><td>ä¸Šæµ·</td></tr><tr><td>1008</td><td>çŒªå…«ï¼Ÿ</td><td>30000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥ï¼Ÿ</td><td>ä¸Šæµ·</td></tr><tr><td>1011</td><td>æ²™åƒ§</td><td>11000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥ï¼Ÿ</td><td>ä¸Šæµ·</td></tr><tr><td>1013</td><td>å°ç™½ï¼Ÿ</td><td>30000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥ï¼Ÿ</td><td>ä¸Šæµ·</td></tr><tr><td>1006</td><td>å®‹æ±Ÿ</td><td>28500</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td></tr><tr><td>1002</td><td>å¢ä¿Šï¼Ÿ</td><td>16000</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td></tr><tr><td>1003</td><td>æ—å†²</td><td>12500</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td></tr><tr><td>1010</td><td>å´ç”¨</td><td>15000</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td></tr><tr><td>1005</td><td>æï¼Ÿ</td><td>12500</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td></tr><tr><td>1012</td><td>æï¼Ÿ</td><td>9500</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td></tr></tbody></table><p><strong>é¢˜ç›® 3.æŸ¥è¯¢å‘˜å·¥å§“åï¼Œå·¥èµ„ï¼Œå·¥èµ„ç­‰çº§</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- å†™æ³•1ï¼šå­æŸ¥è¯¢</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> grade <span class="token keyword">from</span> salarygrade <span class="token keyword">where</span> emp<span class="token punctuation">.</span>salary <span class="token operator">between</span> salarygrade<span class="token punctuation">.</span>losalary <span class="token operator">and</span> salarygrade<span class="token punctuation">.</span>hisalary <span class="token punctuation">)</span> <span class="token keyword">as</span> salarygrade
<span class="token keyword">from</span>
   emp<span class="token punctuation">;</span>

<span class="token comment">-- å†™æ³•2ï¼šéšå¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   salarygrade<span class="token punctuation">.</span>grade
<span class="token keyword">from</span> 
   emp<span class="token punctuation">,</span>
   salarygrade
<span class="token keyword">where</span>
   emp<span class="token punctuation">.</span>salary <span class="token operator">between</span>  salarygrade<span class="token punctuation">.</span>losalary <span class="token operator">and</span> salarygrade<span class="token punctuation">.</span>hisalary 
<span class="token punctuation">;</span>
<span class="token comment">-- å†™æ³•3ï¼šæ˜¾å¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   salarygrade<span class="token punctuation">.</span>grade
<span class="token keyword">from</span> 
   emp
<span class="token keyword">inner</span> <span class="token keyword">join</span>
   salarygrade
<span class="token keyword">on</span>
   emp<span class="token punctuation">.</span>salary <span class="token operator">between</span>  salarygrade<span class="token punctuation">.</span>losalary <span class="token operator">and</span> salarygrade<span class="token punctuation">.</span>hisalary 
<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>ename</th><th>salary</th><th>grade</th></tr></thead><tbody><tr><td>å­™æ‚Ÿï¼Ÿ</td><td>8000</td><td>1</td></tr><tr><td>å¢ä¿Šï¼Ÿ</td><td>16000</td><td>3</td></tr><tr><td>æ—å†²</td><td>12500</td><td>2</td></tr><tr><td>å”åƒ§</td><td>29750</td><td>4</td></tr><tr><td>æï¼Ÿ</td><td>12500</td><td>2</td></tr><tr><td>å®‹æ±Ÿ</td><td>28500</td><td>4</td></tr><tr><td>åˆ˜å¤‡</td><td>24500</td><td>4</td></tr><tr><td>çŒªå…«ï¼Ÿ</td><td>30000</td><td>4</td></tr><tr><td>ç½—è´¯ï¼Ÿ</td><td>50000</td><td>5</td></tr><tr><td>å´ç”¨</td><td>15000</td><td>3</td></tr><tr><td>æ²™åƒ§</td><td>11000</td><td>1</td></tr><tr><td>æï¼Ÿ</td><td>9500</td><td>1</td></tr><tr><td>å°ç™½ï¼Ÿ</td><td>30000</td><td>4</td></tr><tr><td>å…³ç¾½</td><td>13000</td><td>2</td></tr></tbody></table><p><strong>é¢˜ç›® 4.æŸ¥è¯¢å‘˜å·¥å§“åï¼Œå·¥èµ„ï¼ŒèŒåŠ¡åç§°ï¼ŒèŒåŠ¡æè¿°ï¼Œéƒ¨é—¨åç§°ï¼Œéƒ¨é—¨ä½ç½®ï¼Œå·¥èµ„ç­‰çº§</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- å†™æ³•1ï¼šæ˜¾å¼å†…è¿æ¥</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>jname<span class="token punctuation">,</span>
   job<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>loc<span class="token punctuation">,</span>
   salarygrade<span class="token punctuation">.</span>grade
<span class="token keyword">from</span> 
   emp
<span class="token keyword">inner</span> <span class="token keyword">join</span> job <span class="token keyword">on</span> emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id
<span class="token keyword">inner</span> <span class="token keyword">join</span> dept <span class="token keyword">on</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id
<span class="token keyword">inner</span> <span class="token keyword">join</span> salarygrade <span class="token keyword">on</span> emp<span class="token punctuation">.</span>salary <span class="token operator">between</span> salarygrade<span class="token punctuation">.</span>losalary <span class="token operator">and</span> salarygrade<span class="token punctuation">.</span>hisalary
<span class="token punctuation">;</span>

<span class="token comment">-- å†™æ³•2ï¼šå­æŸ¥è¯¢</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span> 
   emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>
   emp<span class="token punctuation">.</span>dept_id<span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> grade <span class="token keyword">from</span> salarygrade <span class="token keyword">where</span> emp<span class="token punctuation">.</span>salary <span class="token operator">between</span> salarygrade<span class="token punctuation">.</span>losalary <span class="token operator">and</span> salarygrade<span class="token punctuation">.</span>hisalary <span class="token punctuation">)</span> <span class="token keyword">as</span> salarygrade <span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> job<span class="token punctuation">.</span>jname <span class="token keyword">from</span> job <span class="token keyword">where</span> emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> jname<span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> job<span class="token punctuation">.</span>description <span class="token keyword">from</span> job <span class="token keyword">where</span> emp<span class="token punctuation">.</span>job_id <span class="token operator">=</span> job<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> jdescription<span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> dept<span class="token punctuation">.</span>dname <span class="token keyword">from</span> dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> dname<span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> dept<span class="token punctuation">.</span>loc <span class="token keyword">from</span> dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> dloc
<span class="token keyword">from</span> 
   emp
<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥è¯¢ç»“æœ</strong></p><table><thead><tr><th>ename</th><th>salary</th><th>jname</th><th>description</th><th>dname</th><th>loc</th><th>grade</th></tr></thead><tbody><tr><td>å­™æ‚Ÿ?</td><td>8000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥?</td><td>ä¸Šæµ·</td><td>1</td></tr><tr><td>å¢ä¿Š?</td><td>16000</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>3</td></tr><tr><td>æ—å†²</td><td>12500</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>2</td></tr><tr><td>å”åƒ§</td><td>29750</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td><td>å­¦å·¥?</td><td>ä¸Šæµ·</td><td>4</td></tr><tr><td>æ?</td><td>12500</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>2</td></tr><tr><td>å®‹æ±Ÿ</td><td>28500</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>4</td></tr><tr><td>åˆ˜å¤‡</td><td>24500</td><td>ç»ç†</td><td>ç®¡ç†éƒ¨é—¨å‘˜å·¥</td><td>æ•™ç ”?</td><td>åŒ—äº¬</td><td>4</td></tr><tr><td>çŒªå…«?</td><td>30000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥?</td><td>ä¸Šæµ·</td><td>4</td></tr><tr><td>ç½—è´¯?</td><td>50000</td><td>è‘£äº‹?</td><td>ç®¡ç†æ•´ä¸ªå…¬å¸ï¼Œæ¥?</td><td>æ•™ç ”?</td><td>åŒ—äº¬</td><td>5</td></tr><tr><td>å´ç”¨</td><td>15000</td><td>é”€å”®å‘˜</td><td>å‘å®¢äººæ¨é”€äº§å“</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>3</td></tr><tr><td>æ²™åƒ§</td><td>11000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥?</td><td>ä¸Šæµ·</td><td>1</td></tr><tr><td>æ?</td><td>9500</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>1</td></tr><tr><td>å°ç™½?</td><td>30000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>å­¦å·¥?</td><td>ä¸Šæµ·</td><td>4</td></tr><tr><td>å…³ç¾½</td><td>13000</td><td>æ–‡å‘˜</td><td>ä½¿ç”¨åŠå…¬è½¯ä»¶</td><td>æ•™ç ”?</td><td>åŒ—äº¬</td><td>2</td></tr></tbody></table><p><strong>é¢˜ç›® 5.æŸ¥è¯¢å‡ºéƒ¨é—¨ç¼–å·ã€éƒ¨é—¨åç§°ã€éƒ¨é—¨ä½ç½®ã€éƒ¨é—¨äººæ•°</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- æ–¹æ³•1ï¼š å­æŸ¥è¯¢</span>
<span class="token keyword">use</span> db2<span class="token punctuation">;</span>
<span class="token keyword">select</span>
   dept<span class="token punctuation">.</span>id <span class="token keyword">as</span> éƒ¨é—¨ç¼–å· <span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>dname <span class="token keyword">as</span> éƒ¨é—¨åç§° <span class="token punctuation">,</span>
   dept<span class="token punctuation">.</span>loc <span class="token keyword">as</span> éƒ¨é—¨ä½ç½® <span class="token punctuation">,</span>
   <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept<span class="token punctuation">.</span>id <span class="token operator">=</span> emp<span class="token punctuation">.</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">as</span> éƒ¨é—¨äººæ•°
<span class="token keyword">from</span>
   dept
<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>éƒ¨é—¨ç¼–å·</th><th>éƒ¨é—¨åç§°</th><th>éƒ¨é—¨ä½ç½®</th><th>éƒ¨é—¨äººæ•°</th></tr></thead><tbody><tr><td>10</td><td>æ•™ç ”?</td><td>åŒ—äº¬</td><td>3</td></tr><tr><td>20</td><td>å­¦å·¥?</td><td>ä¸Šæµ·</td><td>5</td></tr><tr><td>30</td><td>é”€å”®éƒ¨</td><td>å¹¿å·</td><td>6</td></tr><tr><td>40</td><td>è´¢åŠ¡?</td><td>æ·±åœ³</td><td>0</td></tr></tbody></table><h3 id="äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡" aria-hidden="true">#</a> äº‹åŠ¡</h3><p><strong>æ¦‚å¿µ</strong></p><ul><li>ç®€å•ç†è§£ï¼Œäº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œå‘½ä»¤ï¼Œå½“ä¸€ç»„ä¸­çš„ä¸€æ¡æ“ä½œæ‰§è¡Œå‡ºé”™ï¼Œåˆ™è¿™ä¸€ç»„çš„æ“ä½œå°†å…¨éƒ¨è¢«æ’¤é”€ï¼ˆå›æ»šï¼‰ã€‚</li><li>äº‹åŠ¡ï¼ˆTransactionï¼‰æ˜¯ä¸€ç§æœºåˆ¶ä¸€ä¸ªæ“ä½œåºåˆ—ï¼ŒåŒ…å«äº†ä¸€ç»„æ•°æ®åº“æ“ä½œå‘½ä»¤</li><li>äº‹åŠ¡æŠŠæ‰€æœ‰å‘½ä»¤ä½œä¸ºæ•´ä½“ä¸€èµ·æäº¤æ“ä½œè¯·æ±‚ï¼Œè¿™ä¸€ç»„æ•°æ®åº“å‘½ä»¤è¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚</li><li>äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œé€»è¾‘å•å…ƒã€‚</li></ul><p><strong>ç‰¹æ€§ACID</strong></p><ul><li><strong>åŸå­æ€§</strong>(Atomicity):äº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•ä½ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥</li><li><strong>ä¸€è‡´æ€§</strong>(Consistency):äº‹åŠ¡å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€</li><li><strong>éš”ç¦»æ€§</strong>(lsolation) :å¤šä¸ªäº‹åŠ¡ä¹‹é—´ï¼Œæ“ä½œçš„å¯è§æ€§</li><li><strong>æŒä¹…æ€§</strong>(Durability):äº‹åŠ¡ä¸€æ—¦æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„</li></ul><p><strong>è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- å¼€å¯äº‹åŠ¡</span>
<span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>
<span class="token comment">-- å¼€å¯äº‹åŠ¡</span>
<span class="token keyword">begin</span><span class="token punctuation">;</span>
æ™®é€š<span class="token keyword">sql</span>è¯­å¥<span class="token number">1</span>
æ™®é€š<span class="token keyword">sql</span>è¯­å¥<span class="token number">2</span>
æ™®é€š<span class="token keyword">sql</span>è¯­å¥<span class="token number">3</span>
æ™®é€š<span class="token keyword">sql</span>è¯­å¥<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">-- æäº¤äº‹åŠ¡</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token comment">--å›æ»šäº‹åŠ¡</span>
<span class="token keyword">rollback</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mysqlé»˜è®¤æäº¤äº‹åŠ¡è§„åˆ™</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> @<span class="token variable">@autocommit</span><span class="token punctuation">;</span> <span class="token comment">-- è¾“å‡º1è¡¨ç¤ºäº‹åŠ¡é»˜è®¤è‡ªåŠ¨æäº¤</span>
<span class="token keyword">sql</span>è¯­å¥<span class="token punctuation">;</span> <span class="token comment">-- è¯¥è¯­å¥å°†è‡ªåŠ¨æäº¤</span>

<span class="token keyword">set</span> @<span class="token variable">@autocommit</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">-- ä¿®æ”¹äº‹åŠ¡é»˜è®¤æäº¤æ–¹å¼</span>
<span class="token keyword">select</span> @<span class="token variable">@autocommit</span><span class="token punctuation">;</span> <span class="token comment">-- è¾“å‡º0è¡¨ç¤ºéœ€è¦æ‰‹åŠ¨æäº¤</span>

<span class="token keyword">sql</span>è¯­å¥<span class="token punctuation">;</span> <span class="token comment">-- è¯¥è¯­å¥å°†ä¸ä¼šè‡ªåŠ¨æäº¤</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span> <span class="token comment">-- æ‰‹åŠ¨æäº¤</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jdbc" tabindex="-1"><a class="header-anchor" href="#jdbc" aria-hidden="true">#</a> JDBC</h2><p><strong>æ¦‚å¿µ</strong></p><ul><li>å…¨ç§°ï¼šJDBC(Java DataBase Connectivity)Javaæ•°æ®åº“è¿æ¥</li><li>æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—APIï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ¥å£ç±»</li><li>å„ä¸ªæ•°æ®åº“å‚å•†ä¼šå»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ…</li><li>é€šè¿‡JDBCæ¥å£å¯ä»¥ä¸æ”¹å˜sqlè¯­å¥ï¼Œæ“ä½œä¸åŒçš„æ•°æ®åº“ï¼šmysql oracle DB2</li><li><img src="/assets/2022-11-08-13-47-24--Py-CGyz.png" alt=""></li></ul><p><strong>æµ‹è¯•JDBCï¼šåŸºæœ¬å†™æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> db1<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db1<span class="token punctuation">;</span>
<span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
   id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
   age <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>id<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> student <span class="token keyword">set</span> age<span class="token operator">=</span><span class="token number">15</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test_jdbc</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// 0. å¼•å…¥mysql-connector-j-8.0.31.jaråŒ…</span>
        <span class="token comment">// 1. æ³¨å†Œé©±åŠ¨</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–°ç‰ˆæœ¬å°†è‡ªåŠ¨æ³¨å†Œï¼Œå…¶å®ä¸ç”¨å†™</span>
        <span class="token comment">// 2. è·å–è¿æ¥</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/db1&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3.å®šä¹‰sqlè¯­å¥</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update student set age=15 where id = 0;&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.è·å–sqlæ‰§è¡Œå™¨å¯¹è±¡Statement</span>
        <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 5.æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token keyword">int</span> updataCount <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 6.å¤„ç†ç»“æœ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>updataCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 7.é‡Šæ”¾èµ„æº</span>
        statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAAAgCAIAAADYCPcPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAApPSURBVHhe7Z17UFPZHccvLzFCDCngJWRFhQioLBpYBBPNKBIeoigYcKEog287/avtdKbTdsYZp9PpzDptZ9rNbkdt3dXpuJlBF18ovtCCsFpcWVhrNiy7BNE4PGQjRgJIzzn3JCS554rKU/Z8/tBzf/f3O7/v79x7f/cQjXpFREQwFAokeWDDQq+aYz6d+Hga8GLl9n4pHjPdTf7/qcPjCWEoodgun4GGnf6nP0eDKQptBBQKhfHGv1MolB8xtBFQKBTaCCgUCsP4SCQSPHQjfHmGZllsdKS0t/mBFdsoFMo0hbgjWLwqOy9ndULOth3FGQuwjUKhTF+IjUAcHGa7fepKmx0fUyiU6Q2xEdSdOnz41IT+gSuFQplM6IeFFAqFNgIKhUIbAYVCARD/+FD2XtqqpTGL4hMiZw/Zer1CWD+TuQOfo1Ao0w/ijkAUKn/nnXfsjZfPX260gxFL/KsGFAplukC/dEShUOhnBBQKhe4IKJSpSWZmJh65UFFRgUdjDW0EFMpUpKysDI9cyMvLw6Oxhv5oQKFQaCOgUCiT3QjCElMzVsTgg5GB7hmpiWH4cFwZy1wvLXMiixoNb4tOQWJWvNXyxxliI4hZkT5MaoJj8cISUrHN1cpDIJpEQFh6Uel6wiPiOsfwIxS1rnTPntJ1UfgQAjW5P2Ovkf5lEHK9InxJgmVC3jzRxDKWCzIpqHRvIn+U4qdI7SNDbAQq3d6dOlUkRKUrLclFlcSsyC3K44yAebIA5ErAJToy6/2S3Jc8jM1ny28xUfnuDnDtCnVZ3AQAeTA+wTyqv3Lx4pX6R/gQEpVdulenwgcIovjXh5DrFeFLIpbp4M0TTSxjuSBvEaMUTwifmr3BF//uSZ+58qOPqkEhO+L+mL1VW3bziXarln148FfQOCKOaEaV/+c9u4o6muoNFmiPSdFGiK2tlbX34RGk5nxd0f6iVSx2AMSklezSvij7eL+hBlsQKNTe1txsbW3mLGzCmvjg2BBfRjRPq9UCw0Bnw9V6OA1P/H0LCJd2tzIREWIY6pCApuCWwBHsNLnlwvnRyJkGMGxFcz4RksQvUyCRiyIcDC2SHmdKkDHc7rC7e3JjHuTSJ3lBeAiV6bYiDpkAj0QC4gFOx3ng1yfIJCTeAzQfUTwpnKdTKDxANj8rVTM0s1ww8WQw0mcET394PjjwwhbIBLa0dTAh8aCklNfoZjWGG+0+8vhEfKjK37dvX7772/La+fbZK7XOOVmtaq7daABdAKw2Yk0CC+zBcxUKhTp/13B4oGyBQsGKfBh/CTgFWCALxKcwTvEo8/bC7LXIb13xdh2YE1yovKLNamRSrCssyUOFoVk5U7EzF3DVbcSe6s1FG5AiKLBwWz42K+aCjYuwJM8yBRK5WKEk6B8oyyzeXaRBGUHO7O27NivhpHxPAVDpWD4u3WGdxAXxRKjMGG1J4ToulpsSneYlEhAPHfNxuMQfxQqJ5yMgXqB2nk6h2pvPHjHUWkBk3ms9SuMMbmE8fIPf1WpngZdq8kzjhYqqZqa5+bPyMC14GrMVKkZc09/RcO3Oq/Qzy7M+/yDHShtrKytNHUZ8xAH2za0FJTpl5R/QfAqpmOloh5uBEJAsBFzJYNNB0DprDPoaRv17VXwQigKABdVzlga9/p/YiOCJRwTJ+4/u14ONgrpjX2y4mAnL3Z0yePyA/owJnFT/7ugvt2nLau+jWRGlCm0cN2I1RbvjfKuOmOBMQzGatbmJh+rPRYObVf7dJ3/iJuAQlORZJpaPGE4ErN98bbJzL5s5Sq1Kyx7729ny25v2JmtYA9hNRGfH+reUo4r4nvfBxNEpWvjmg7hcoiD5UDnSqQ4++vPcRKb+HGedvAXh6QTrQyxzyRIZ8+SM6c73lbXO+4aUKJEkfgg6fvVXVCSUnwo9yeKJkkjiBcL5OoXvT/B+1D+27dBm57/PiC+4VjZ5CO0IfAJkqIt53av49DC33qYzh/UAQ+1jxcqCHSVp0chxJCQzfAfsPfig2gAngFfFleqrt71if4pfBpZeGyMKgGPkfPdNvvVIEA/oa63nMoOJoZWd5d/xP8fZ6gcdjFiq4A48UcSyPk97vNCcCq/71683wILU8pC+1irn9CPiVqYA0SmF24uzuURSf6yo+nxtDwseEXB6faz/N+UoJdGTYULhxokjSo5va1g61gnK9J/lUDCZC0LQSSyTaai+cOexQpG2XgtYrUTaSYmI4pEjLtIJWbzQ0vEQCCfpfBnWB82mbkYKdg+h2DK5CO0I+lov6lEf5QHumureA5qdCWrm+EidjFWuTmLtLeUN+Dg6OQ1+RnCpzj2w+vznOb9OS4s2gAlNda3WJMUGJXvo1TYcoG/IYN9wdRYW70qPfUAcDq4YzMMqw8UDPV8LZARJBnvNtWXukozd1vSQ+dFMtccqECVBXMskw6ZvWxrUfkyvLwOKfqvU4p2wqaqiPXm1hr07V+F1+zgqTMATXR08JADLtHYLZZ/IBSHpJJSJXj/w6VYX/GxpdvIq64lrd84RExHFA6OvJBxmBnci/KkefkZAFi+0dDzxAuEknQBS7eg5SM3fJPv2ukH/2Usu10RC/PcIlBlbFjy/efK6GR9DgHblIvRZPCBlsbyx7satJlcHJyB6YcDTnoGgyEh1Xt7se5fOHb+BHXN+8UFxutx24uKX3LGDLqNtaeHGxd9/ceNRr3lwBrtk1dpQG5wg8t2EJNHDU6dv+ilXr4hTLFr2XlRgf6fNLzLU99sH8L/o6/Ken6ZWSKzQOULS+92jXpJ4Ykn9otnK5HQuj7pALak5a7hs7MInASBkzmMktctbFL88PZnLAuCSA6HxyzVxtj4/FyOALwlNB3AtE5sgw4lkczQpcTO74dqps5LCfzKzpw5JhoG6zHnzAmdd/fcRpFHIk4Db9Uhirp3+BF63KbEgHvDLBM80vO6RkX62zs5QubzpywognpSIKN4iWrg8eRHMrM7KmC2WSOEq3SWKF4In3kwMJ+okhfdC19LCHNu9iyf/cfIuykFky5YteOTCiRMn8GisITaCgKCQ3ra79a43AROrzoqLCME8M175ULCVgWj7c2/k522pL/vYpVpwymYxNhE6iHlwbk7mGu/Giq+6zE23rKKocC7ZM0tL438vNJllSWnJUax3V2uL5Rm0+1nxJOYuJlgqZaFNMmQGmkniiSV1Ge8483h3NV5xFQpgV25cL23nepa5qc2ZBYCTQ6ssPApbnYr4kpAV4VImtrglAk/CjLAZgTDSu6X+i7aOR0043DwIpHoZqxw9VdiTB3h+o8XPng6IuOvx6SXkNkUWxAPPMhnuuqP54F33rwpkJyQiiu8yPsSZvVuqypp+8EKrRBYvBE88MZyskxQOXcMtVR8euyy8DJAJbgRT50tHig07M0T3/j5Vtkqs7oO/FPQbCn5D+OrHaOCVOV6JnJQeLEt9cnDrgVEu7LjrpLjxo/3Sken0oSnQBdhlmrWITSsljytrHB9ujB2OMsc90RjxtuikjAaG+T+TrCu9U0T3aQAAAABJRU5ErkJggg==" alt=""></p><h3 id="drivermanagerå·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#drivermanagerå·¥å…·ç±»" aria-hidden="true">#</a> DriverManagerå·¥å…·ç±»</h3><p>DriverManager(é©±åŠ¨ç®¡ç†ç±»)<strong>ä½œç”¨</strong>:</p><ol><li><strong>æ³¨å†Œé©±åŠ¨</strong> (mysql5ä¹‹åçš„é©±åŠ¨åŒ…å°†è‡ªåŠ¨æ³¨å†Œ) <ol><li>æ³¨å†Œé©±åŠ¨çš„è¿‡ç¨‹: <ol><li><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</code>å°†<code>Driverç±»</code>çš„å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œ</li><li><code>Driver()</code>ç±»ä¸­çš„<strong>é™æ€ä»£ç å—</strong>è¢«æ‰§è¡Œï¼š</li><li><img src="/assets/2022-11-14-22-14-18-tdT6YMcD.png" alt=""></li><li>DriverManagerå¯¹è±¡é€šè¿‡å…¶è‡ªèº«çš„é™æ€æ–¹æ³•<code>DriverManager.registerDriver()</code>æ¥æ”¶åˆ°<code>new Driver()</code>çš„å®ä¾‹å¯¹è±¡</li></ol></li></ol></li><li><strong>è·å–æ•°æ®åº“è¿æ¥</strong><ul><li><code>DriverManager.getConnection(url,user,password);</code></li><li><code>url</code>æ ¼å¼ï¼š<code>jdbc:mysql://ipæˆ–åŸŸå:ç«¯å£/æ•°æ®åº“åç§°ï¼Ÿå‚æ•°å1=å‚æ•°å€¼1&amp;å‚æ•°å2=å‚æ•°å€¼2</code><ul><li>ç®€å†™ï¼š <ul><li><code>localhost:3306</code> å¯ç®€å†™ä¸º</li><li><code>jdbc:mysql:///æ•°æ®åº“åç§°ï¼Ÿå‚æ•°å1=å‚æ•°å€¼1&amp;å‚æ•°å2=å‚æ•°å€¼2</code></li><li><strong>åœ¨xmlä¸­çš„è½¬ä¹‰å­—ç¬¦ï¼š</strong><code>&amp;</code> --&gt; <code>&amp;amp;</code></li></ul></li><li>å‚æ•°é…ç½®ï¼š <ul><li><code>useSSL=false</code> å…³é—­ä¸ä½¿ç”¨SSLå®‰å…¨è¿æ¥æ—¶çš„æç¤º</li><li><code>useServerPrepStemts=true</code> å¼€å¯sqlè¯­å¥é¢„ç¼–è¯‘åŠŸèƒ½ï¼Œé˜²æ­¢sqlæ³¨å…¥</li></ul></li></ul></li></ul></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/db1&quot;</span><span class="token punctuation">;</span><span class="token comment">//å®Œæ•´å†™æ³•</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql:///db1&quot;</span><span class="token punctuation">;</span><span class="token comment">//ç®€å†™</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql:///db1?useSSL=false&quot;</span><span class="token punctuation">;</span><span class="token comment">//å…³é—­ä¸ä½¿ç”¨SSLå®‰å…¨è¿æ¥æ—¶çš„æç¤º</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="connectionæ•°æ®åº“è¿æ¥å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#connectionæ•°æ®åº“è¿æ¥å¯¹è±¡" aria-hidden="true">#</a> Connectionæ•°æ®åº“è¿æ¥å¯¹è±¡</h3><p><strong>ä½œç”¨</strong></p><ol><li><p><strong>è·å–sqlæ‰§è¡Œå™¨<code>Statement</code>ã€<code>PreparedStatement</code>ã€<code>CallableStatement</code>å¯¹è±¡</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//è·å–æ™®é€šsqlæ‰§è¡Œå™¨å¯¹è±¡</span>
<span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//è·å–é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡:é˜²æ­¢sqlæ³¨å…¥</span>
<span class="token class-name">PreparedStatement</span> pstatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹çš„å¯¹è±¡</span>
<span class="token class-name">CallableStatement</span> cstatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareCall</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>äº‹åŠ¡å¤„ç†</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//å¼€å¯äº‹åŠ¡ï¼šmysqlä¸ºè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œè®¾ç½®ä¸ºè‡ªåŠ¨æäº¤ä¸ºfalseä¾¿æ˜¯å¼€å¯äº‹åŠ¡ç®¡ç†</span>
connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> autoCommit<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æäº¤äº‹åŠ¡</span>
connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//å›æ»šäº‹åŠ¡</span>
connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>äº‹åŠ¡å¤„ç†ç¤ºä¾‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
   connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¼€å¯äº‹åŠ¡</span>

   <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sqlè¯­å¥<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sqlè¯­å¥<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sqlè¯­å¥<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æäº¤äº‹åŠ¡</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
   connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ•è·åˆ°ä»»ä½•å¼‚å¸¸ä¾¿å›æ»šæ•°æ®</span>
   connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…³é—­äº‹åŠ¡ï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="statement-sqlæ‰§è¡Œå™¨å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#statement-sqlæ‰§è¡Œå™¨å¯¹è±¡" aria-hidden="true">#</a> <code>Statement</code> sqlæ‰§è¡Œå™¨å¯¹è±¡</h3><p><strong>ä½œç”¨</strong></p><ol><li><p>æ‰§è¡Œsqlè¯­å¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ‰§è¡Œ DML DDLè¯­å¥</span>
<span class="token comment">//    * è¿”å›å€¼ï¼š</span>
<span class="token comment">//       * DMLè¯­å¥æ‰§è¡ŒæˆåŠŸåå½±å“çš„è¡Œæ•°</span>
<span class="token comment">//       * DDLè¯­å¥æ‰§è¡ŒæˆåŠŸä¹Ÿå¯èƒ½è¿”å›0</span>
<span class="token keyword">int</span> <span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ‰§è¡ŒDQLè¯­å¥</span>
<span class="token comment">//    * è¿”å›å€¼ï¼šResultSet ç±»å‹çš„ç»“æœé›†åˆå¯¹è±¡ï¼Œè¡¨ç¤ºæŸ¥è¯¢ç»“æœ</span>
<span class="token class-name">ResultSet</span> <span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="preparedstatement-é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡-é˜²æ­¢sqlæ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#preparedstatement-é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡-é˜²æ­¢sqlæ³¨å…¥" aria-hidden="true">#</a> <code>PreparedStatement</code> é¢„ç¼–è¯‘sqlæ‰§è¡Œå™¨å¯¹è±¡:é˜²æ­¢sqlæ³¨å…¥</h3><p><strong>æ¦‚å¿µ</strong></p><ul><li><code>PreparedStatement</code> ç»§æ‰¿è‡ª <code>Statement</code> å¯¹è±¡</li></ul><p><strong>ä½œç”¨</strong></p><ul><li>é¢„ç¼–è¯‘SQLè¯­å¥å¹¶æ‰§è¡Œ:é¢„é˜²sqlæ³¨å…¥</li></ul><p><strong>ä¼˜ç‚¹</strong></p><ul><li>é˜²sqlæ³¨å…¥</li><li>é«˜æ€§èƒ½</li></ul><p><strong>é˜²sqlæ³¨å…¥åŸç†</strong>ï¼š</p><ul><li>å¯¹æ•æ„Ÿå­—ç¬¦å’Œå…³é”®å­—è¿›è¡Œäº†è½¬ä¹‰</li></ul><p><strong>é«˜æ€§èƒ½æ‰§è¡ŒåŸç†</strong></p><ul><li>sqlè¯­å¥æäº¤ç»™mysqlæœåŠ¡å™¨è¦å®Œæˆä¸€ç³»åˆ—æ“ä½œï¼š <ul><li><strong>sqlè¯­å¥çš„è¯­æ³•æ£€æŸ¥</strong></li><li><strong>å°†sqlè¯­å¥ç¼–è¯‘æˆå¯æ‰§è¡Œå‡½æ•°</strong></li><li><img src="/assets/2022-11-15-01-41-47-A9cKDRlS.png" alt=""></li></ul></li><li><code>PreparedStatement(sqlæ¨¡æ¿å­—ç¬¦ä¸²)</code> è°ƒç”¨æ—¶ï¼Œä¼šæŠŠsqlæ¨¡æ¿è¯­å¥å‘é€ç»™sqlæœåŠ¡å™¨è¿›è¡Œé¢„ç¼–è¯‘ï¼Œä¸”å¤šæ¬¡è°ƒç”¨åªä¼šé¢„ç¼–è¯‘ä¸€æ¬¡ã€‚</li><li>ç¨‹åºåœ¨åç»­ä¼ å…¥å‚æ•°å€¼æ—¶ï¼Œä¸éœ€è¦åœ¨è¿›è¡Œé¢„ç¼–è¯‘æ“ä½œã€‚ç›´æ¥æ‰§è¡Œsqlçš„<strong>å¯æ‰§è¡Œå‡½æ•°</strong></li></ul><p><strong>sqlæ³¨å…¥</strong></p><ul><li>é€šè¿‡ä¸€å®šçš„æ‰‹æ®µï¼Œå‘ç¨‹åºè¾“å…¥é¢„å…ˆç¼–è¾‘å¥½çš„sqlè¯­å¥ï¼Œä»¥è¾¾åˆ°æ‰§è¡Œsqlä»£ç ï¼Œå®Œæˆä¸€å®šçš„æ“ä½œï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œæ”»å‡»çš„ç›®çš„ã€‚</li><li>å¦‚ï¼š <ul><li>è‹¥åç«¯åˆ¤æ–­éªŒè¯ç”¨æˆ·åˆæ³•çš„sqlæ˜¯ <code>select * from users where username = &#39;è¾“å…¥çš„ç”¨æˆ·å&#39; and password = &#39;è¾“å…¥çš„å¯†ç &#39;</code>;</li><li>åˆ™åœ¨å¯†ç æ¡†è¾“å…¥<code>&#39;or &#39;1&#39;=&#39;1</code></li><li>sqlçš„è¯­å¥å°±å˜ä¸ºäº† <code>select * from users where username = &#39;è¾“å…¥çš„ç”¨æˆ·å&#39; and password = &#39;&#39; or &#39;1&#39;=&#39;1&#39;</code>;</li><li><img src="/assets/2022-11-15-00-43-02-ezW5h_44.png" alt=""></li></ul></li></ul><p><strong>ä½¿ç”¨</strong></p><ul><li>ä½¿ç”¨ï¼Ÿä½œä¸ºå ä½ç¬¦ï¼Œé¢„ç¼–è¯‘sqlè¯­å¥</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/db1?useServerPrepStemts=true&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å¯ç”¨é¢„ç¼–è¯‘åŠŸèƒ½ï¼Œä¸å¯ç”¨ä¹Ÿè¡Œï¼Œä½†ä½¿ç”¨prepareStatement() ä¸ä¼šå¯¼è‡´æ‰§è¡Œæ•ˆç‡å˜é«˜</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ä½¿ç”¨ï¼Ÿä½œä¸ºå ä½ç¬¦ï¼Œä¼ å…¥prepareStatement() å‡½æ•°</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from user where username = ? and password = ? &quot;</span><span class="token punctuation">;</span>
<span class="token class-name">PreparedStatement</span> pstatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é¢„ç¼–è¯‘sqlè¯­å¥ï¼Œå¤šæ¬¡æ‰§è¡Œä¸ä¼šå¯¼è‡´mysqlæœåŠ¡å™¨å¤šæ¬¡é¢„ç¼–è¯‘ï¼Œåªä¼šç¼–è¯‘ä¸€æ¬¡</span>
pstatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»™ç¬¬1ä¸ªï¼Ÿè®¾ç½®å€¼</span>
pstatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»™ç¬¬2ä¸ªï¼Ÿè®¾ç½®å€¼</span>
<span class="token class-name">ResultSet</span> result <span class="token operator">=</span>  pstatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰§è¡Œsqlè¯­å¥ï¼ˆä¸è¦ä¼ é€’å‚æ•°ï¼‰</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token class-name">String</span> id <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> name <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


result<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾èµ„æº</span>
statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾èµ„æº</span>
connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾èµ„æº</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="resultset-ç»“æœé›†åˆå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#resultset-ç»“æœé›†åˆå¯¹è±¡" aria-hidden="true">#</a> ResultSet ç»“æœé›†åˆå¯¹è±¡</h3><p><strong>ä½œç”¨</strong><br> 0. è¯¥å®ä¾‹å¯¹è±¡çš„å†…å®¹æ˜¯sqlçš„æŸ¥è¯¢ç»“æœ</p><ol><li><p>è·å–æŸ¥è¯¢ç»“æœ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// éå†è¡Œ</span>
<span class="token comment">//    * æ¸¸æ ‡æŒ‡é’ˆï¼šæŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ªäºŒç»´è¡¨ï¼Œæ¸¸æ ‡æŒ‡é’ˆåˆå§‹æŒ‡å‘è¡¨å¤´æ‰€åœ¨è¡Œï¼ˆæ•°æ®è¡Œçš„ä¸Šä¸€è¡Œï¼‰</span>
<span class="token comment">//    * next()å‡½æ•°:è¯¥å‡½æ•°ä¼šä½¿å¾—æ¸¸æ ‡æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€è¡Œ</span>
<span class="token comment">//    * è¿”å›å€¼: å¸ƒå°”å€¼ï¼Œå½“å‰è¡Œæ˜¯å¦æ˜¯æœ‰æ•ˆè¡Œï¼ˆæ˜¯å¦æœ‰æ•°æ®ï¼‰</span>
<span class="token keyword">boolean</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è·å–æŸåˆ—çš„æ•°æ®</span>
<span class="token comment">//    * å‚æ•°</span>
<span class="token comment">//       * int åˆ—ç¼–å· ä»1å¼€å§‹ç¼–å·</span>
<span class="token comment">//       * String åˆ—å</span>
<span class="token comment">//    * è¿”å›å€¼</span>
<span class="token comment">//       * xxxæ•°æ®ç±»å‹çš„æ•°æ®</span>
xxx <span class="token function">getXxx</span><span class="token punctuation">(</span>å‚æ•°<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;UserName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ResultSet</span> result <span class="token operator">=</span>  statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token class-name">String</span> id <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> name <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
result<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾èµ„æº</span>
statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾èµ„æº</span>
connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾èµ„æº</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°æ®åº“è¿æ¥æ± " tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“è¿æ¥æ± " aria-hidden="true">#</a> æ•°æ®åº“è¿æ¥æ± </h3><p><strong>æ•°æ®åº“è¿æ¥æ± ç®€ä»‹</strong></p><ul><li>æ¦‚å¿µç±»ä¼¼äºçº¿ç¨‹æ± ï¼Œæ•°æ®è¿æ¥çš„å»ºç«‹è¦è€—è´¹æ—¶é—´å’Œè®¡ç®—èµ„æºï¼Œé¢„å…ˆå»ºç«‹ä¸€å®šæ•°é‡çš„æ•°æ®åº“è¿æ¥ï¼ŒæŒ‰éœ€åˆ†é…ï¼Œ</li><li>æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨ï¼Œè´Ÿè´£åˆ†é…ã€ç®¡ç†æ•°æ®åº“è¿æ¥(Connection)</li></ul><p>æ•°æ®åº“è¿æ¥æ± çš„æ ‡å‡†æ¥å£åŠå¸¸ç”¨å®ç°ç±»</p><ul><li><p><strong>æ¥å£</strong>ï¼š <code>DataSource</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æ¥å£æ–¹æ³•ï¼š</span>
<span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–æ± å†…çš„è¿æ¥</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>å®ç°ç±»</strong>ï¼š <code>DBCP</code> <code>C3P0</code> <code>Druid</code></p></li></ul><h4 id="druidå¾·é²ä¼Šæ•°æ®åº“è¿æ¥æ± " tabindex="-1"><a class="header-anchor" href="#druidå¾·é²ä¼Šæ•°æ®åº“è¿æ¥æ± " aria-hidden="true">#</a> Druidå¾·é²ä¼Šæ•°æ®åº“è¿æ¥æ± </h4><p>Druidå¾·é²ä¼Š</p><ul><li>é˜¿é‡Œå·´å·´å¼€æºæ•°æ®åº“è¿æ¥æ± </li><li>åŠŸèƒ½å¼ºå¤§ã€æ€§èƒ½ä¼˜ç§€</li></ul><p><strong>DruidåŸºæœ¬ä½¿ç”¨</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test_for_druid</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token comment">//1.å¯¼å…¥jaråŒ…</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>
<span class="token comment">//2.ç¼–å†™é…ç½®æ–‡ä»¶</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//3.åŠ è½½é…ç½®æ–‡ä»¶</span>
        <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//</span>
        <span class="token comment">// System.out.println(System.getProperty(&quot;user.dir&quot;));//æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</span>
        config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./src/test_for_druid/druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.è·å–è¿æ¥æ± å¯¹è±¡</span>
        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span>  <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//5.ä»è¿æ¥æ± ä¸­è·å–è¿æ¥å¯¹è±¡</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Druidé…ç½®æ–‡ä»¶</strong></p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># jdbcé©±åŠ¨ç±»å</span>
<span class="token key attr-name">driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql:///db5?useSSL=false&amp;useServerPrepStmts=true</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token comment"># åˆå§‹è¿æ¥æ•°</span>
<span class="token key attr-name">initialSize</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token comment"># æœ€å¤§è¿æ¥æ•°</span>
<span class="token key attr-name">maxActive</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token comment"># æœ€å¤§ç­‰å¾…æ—¶é—´</span>
<span class="token key attr-name">maxWait</span><span class="token punctuation">=</span><span class="token value attr-value">3000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jdbcç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#jdbcç»ƒä¹ " aria-hidden="true">#</a> JDBCç»ƒä¹ </h3><h4 id="æŸ¥è¯¢æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ•°æ®" aria-hidden="true">#</a> æŸ¥è¯¢æ•°æ®</h4><p><strong>æ•°æ®å‡†å¤‡</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> db5<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db5<span class="token punctuation">;</span>
<span class="token keyword">use</span> db5<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> tb_brand<span class="token punctuation">(</span>
   <span class="token comment">-- id</span>
   id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
   <span class="token comment">-- å“ç‰Œå</span>
   brand_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">-- å…¬å¸å</span>
   company_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">-- æ’åºä¼˜å…ˆçº§</span>
   ordered <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token comment">-- æè¿°</span>
   description <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">-- çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
   <span class="token keyword">status</span> <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 
    tb_brand<span class="token punctuation">(</span>brand_name<span class="token punctuation">,</span>company_name<span class="token punctuation">,</span>ordered<span class="token punctuation">,</span>description<span class="token punctuation">,</span><span class="token keyword">status</span><span class="token punctuation">)</span> 
    <span class="token keyword">values</span>
        <span class="token punctuation">(</span><span class="token string">&quot;ä¸‰åªæ¾é¼ &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ä¸‰åªæ¾é¼ è‚¡ä»½æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;å¥½åƒä¸ä¸Šç«&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;åä¸ºè‡´åŠ›äºæŠŠæ•°å­—æŠ€æœ¯å¸¦å…¥æ¯ä¸ªäººã€æ¯ä¸ªå®¶åº­ã€æ¯ä¸ªç»„ç»‡ï¼Œæ„å»ºä¸‡ç‰©äº’è”çš„æ™ºèƒ½ä¸–ç•Œ&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;å°ç±³&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å°ç±³ç§‘æŠ€æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&#39;Are you ok?&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_brand<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰æ•°æ®æ¡ˆä¾‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test_for_druid</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token comment">//1.å¯¼å…¥jaråŒ…</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>
<span class="token comment">//2.ç¼–å†™é…ç½®æ–‡ä»¶</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//3.åŠ è½½é…ç½®æ–‡ä»¶</span>
        <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//</span>
        <span class="token comment">// System.out.println(System.getProperty(&quot;user.dir&quot;));//æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</span>
        config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./src/test_for_druid/druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.è·å–è¿æ¥æ± å¯¹è±¡</span>
        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span>  <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//5.ä»è¿æ¥æ± ä¸­è·å–è¿æ¥å¯¹è±¡</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å®šä¹‰sqlè¯­å¥</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from tb_brand&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–sqlé¢„ç¼–è¯‘å¯¹è±¡</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span>  connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢</span>
        <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Banner</span><span class="token punctuation">&gt;</span></span> banners <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//éå†ç»“æœå¹¶å­˜å…¥æ•°ç»„</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            banners<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span>
                resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;brand_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;company_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;ordered&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>banners<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é‡Šæ”¾èµ„æº</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Banner</span><span class="token punctuation">{</span>
    <span class="token comment">// id</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token comment">// å“ç‰Œå</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">;</span>
    <span class="token comment">// å…¬å¸å</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> company_name<span class="token punctuation">;</span>
    <span class="token comment">// æ’åºä¼˜å…ˆçº§</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">;</span>
    <span class="token comment">// æè¿°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token comment">// çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;\nBanner [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, brand_name=&quot;</span> <span class="token operator">+</span> brand_name <span class="token operator">+</span> <span class="token string">&quot;, company_name=&quot;</span> <span class="token operator">+</span> company_name <span class="token operator">+</span> <span class="token string">&quot;, ordered=&quot;</span>
                <span class="token operator">+</span> ordered <span class="token operator">+</span> <span class="token string">&quot;, description=&quot;</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">&quot;, status=&quot;</span> <span class="token operator">+</span> status <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ’å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ’å…¥æ•°æ®" aria-hidden="true">#</a> æ’å…¥æ•°æ®</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test_for_druid</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token comment">//1.å¯¼å…¥jaråŒ…</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>
<span class="token comment">//2.ç¼–å†™é…ç½®æ–‡ä»¶</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//3.åŠ è½½é…ç½®æ–‡ä»¶</span>
        <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//</span>
        <span class="token comment">// System.out.println(System.getProperty(&quot;user.dir&quot;));//æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</span>
        config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./src/test_for_druid/druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.è·å–è¿æ¥æ± å¯¹è±¡</span>
        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span>  <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//5.ä»è¿æ¥æ± ä¸­è·å–è¿æ¥å¯¹è±¡</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Banner è·å–æ•°æ®</span>
        <span class="token class-name">Banner</span> banner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token string">&quot;ç”Ÿå‘½æœ‰é™&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”Ÿå‘½æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;å½“äº†ç¨‹åºå‘˜ï¼Œå¯¿å‘½å‡åå¹´&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å®šä¹‰sqlè¯­å¥</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert tb_brand(brand_name,company_name,ordered,description,status) values(?,?,?,?,?)&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–sqlé¢„ç¼–è¯‘å¯¹è±¡</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span>  connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®å€¼</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getBrand_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getCompany_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getOrdered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°å¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é‡Šæ”¾èµ„æº</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Banner</span><span class="token punctuation">{</span>
    <span class="token comment">// id</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token comment">// å“ç‰Œå</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">;</span>
    <span class="token comment">// å…¬å¸å</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> company_name<span class="token punctuation">;</span>
    <span class="token comment">// æ’åºä¼˜å…ˆçº§</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">;</span>
    <span class="token comment">// æè¿°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token comment">// çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;\nBanner [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, brand_name=&quot;</span> <span class="token operator">+</span> brand_name <span class="token operator">+</span> <span class="token string">&quot;, company_name=&quot;</span> <span class="token operator">+</span> company_name <span class="token operator">+</span> <span class="token string">&quot;, ordered=&quot;</span>
                <span class="token operator">+</span> ordered <span class="token operator">+</span> <span class="token string">&quot;, description=&quot;</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">&quot;, status=&quot;</span> <span class="token operator">+</span> status <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrand_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> brand_name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCompany_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> company_name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getOrdered</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ordered<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ›´æ–°æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°æ•°æ®" aria-hidden="true">#</a> æ›´æ–°æ•°æ®</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test_for_druid</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token comment">//1.å¯¼å…¥jaråŒ…</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>
<span class="token comment">//2.ç¼–å†™é…ç½®æ–‡ä»¶</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//3.åŠ è½½é…ç½®æ–‡ä»¶</span>
        <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//</span>
        <span class="token comment">// System.out.println(System.getProperty(&quot;user.dir&quot;));//æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</span>
        config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./src/test_for_druid/druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.è·å–è¿æ¥æ± å¯¹è±¡</span>
        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span>  <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//5.ä»è¿æ¥æ± ä¸­è·å–è¿æ¥å¯¹è±¡</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Banner è·å–æ•°æ®</span>
        <span class="token class-name">Banner</span> banner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;ç”Ÿå‘½æœ‰é™&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”Ÿå‘½æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span> <span class="token number">9999</span><span class="token punctuation">,</span> <span class="token string">&quot;å½“äº†ç¨‹åºå‘˜ï¼Œå¯¿å‘½å‡åå¹´......&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å®šä¹‰sqlè¯­å¥</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update tb_brand set brand_name=?, company_name=?, ordered=?, description=?, status=? where id =?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–sqlé¢„ç¼–è¯‘å¯¹è±¡</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span>  connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®å€¼</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getBrand_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getCompany_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getOrdered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> banner<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°å¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//é‡Šæ”¾èµ„æº</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Banner</span><span class="token punctuation">{</span>
    <span class="token comment">// id</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token comment">// å“ç‰Œå</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">;</span>
    <span class="token comment">// å…¬å¸å</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> company_name<span class="token punctuation">;</span>
    <span class="token comment">// æ’åºä¼˜å…ˆçº§</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">;</span>
    <span class="token comment">// æè¿°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token comment">// çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;\nBanner [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, brand_name=&quot;</span> <span class="token operator">+</span> brand_name <span class="token operator">+</span> <span class="token string">&quot;, company_name=&quot;</span> <span class="token operator">+</span> company_name <span class="token operator">+</span> <span class="token string">&quot;, ordered=&quot;</span>
                <span class="token operator">+</span> ordered <span class="token operator">+</span> <span class="token string">&quot;, description=&quot;</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">&quot;, status=&quot;</span> <span class="token operator">+</span> status <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrand_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> brand_name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCompany_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> company_name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getOrdered</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ordered<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤æ•°æ®" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤æ•°æ®" aria-hidden="true">#</a> åˆ é™¤æ•°æ®</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test_for_druid</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

<span class="token comment">//1.å¯¼å…¥jaråŒ…</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>
<span class="token comment">//2.ç¼–å†™é…ç½®æ–‡ä»¶</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//3.åŠ è½½é…ç½®æ–‡ä»¶</span>
        <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//</span>
        <span class="token comment">// System.out.println(System.getProperty(&quot;user.dir&quot;));//æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</span>
        config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./src/test_for_druid/druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.è·å–è¿æ¥æ± å¯¹è±¡</span>
        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span>  <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//5.ä»è¿æ¥æ± ä¸­è·å–è¿æ¥å¯¹è±¡</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Banner è·å–æ•°æ®</span>
        <span class="token keyword">int</span> id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
        <span class="token comment">// å®šä¹‰sqlè¯­å¥</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;delete from tb_brand where id = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–sqlé¢„ç¼–è¯‘å¯¹è±¡</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span>  connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®å€¼</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°å¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é‡Šæ”¾èµ„æº</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Banner</span><span class="token punctuation">{</span>
    <span class="token comment">// id</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token comment">// å“ç‰Œå</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">;</span>
    <span class="token comment">// å…¬å¸å</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> company_name<span class="token punctuation">;</span>
    <span class="token comment">// æ’åºä¼˜å…ˆçº§</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">;</span>
    <span class="token comment">// æè¿°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token comment">// çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Banner</span><span class="token punctuation">(</span><span class="token class-name">String</span> brand_name<span class="token punctuation">,</span> <span class="token class-name">String</span> company_name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> ordered<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span>
            <span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand_name <span class="token operator">=</span> brand_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>company_name <span class="token operator">=</span> company_name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;\nBanner [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, brand_name=&quot;</span> <span class="token operator">+</span> brand_name <span class="token operator">+</span> <span class="token string">&quot;, company_name=&quot;</span> <span class="token operator">+</span> company_name <span class="token operator">+</span> <span class="token string">&quot;, ordered=&quot;</span>
                <span class="token operator">+</span> ordered <span class="token operator">+</span> <span class="token string">&quot;, description=&quot;</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">&quot;, status=&quot;</span> <span class="token operator">+</span> status <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrand_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> brand_name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCompany_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> company_name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getOrdered</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ordered<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="maven" tabindex="-1"><a class="header-anchor" href="#maven" aria-hidden="true">#</a> Maven</h2><p>Mavenæ˜¯ä¸“é—¨ç”¨äºç®¡ç†å’Œæ„å»ºJavaé¡¹ç›®çš„å·¥å…·ï¼ŒåŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰çš„æ¦‚å¿µï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æœ‰:</p><ul><li>æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„ï¼Œé€šè¿‡Mavenä½¿å¾—ä¸åŒIDEåˆ›å»ºçš„é¡¹ç›®ç»“æ„ä¸€è‡´</li><li>æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„æ„å»ºæµç¨‹(ç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œå‘å¸ƒ......)</li><li>æä¾›äº†ä¸€å¥—ä¾èµ–ç®¡ç†æœºåˆ¶</li></ul><p><strong>æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„</strong><br><img src="/assets/2022-11-16-00-15-30-zLexav6u.png" alt=""></p><p><strong>æ ‡å‡†åŒ–çš„æ„å»ºæµç¨‹</strong><br><img src="/assets/2022-11-16-00-21-33-e0RP75yi.png" alt=""></p><p><strong>ä¾èµ–ç®¡ç†æœºåˆ¶</strong><br><img src="/assets/2022-11-16-00-20-55-j34_ZIKl.png" alt=""></p><p><strong>mavenæ¨¡å‹</strong></p><ul><li>POM</li><li>dependency</li><li>Plugin<br><img src="/assets/2022-11-16-00-30-15--Ywlk4Vl.png" alt=""></li></ul><p><strong>Mavenä»“åº“</strong></p><ul><li>æœ¬åœ°ä»“åº“:è‡ªå·±è®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç›®å½•</li><li>ä¸­å¤®ä»“åº“:ç”±Mavenå›¢é˜Ÿç»´æŠ¤çš„å…¨çƒå”¯â”€çš„ä»“åº“ <ul><li>åœ°å€: <a href="https://repo1.maven.org/maven2/" target="_blank" rel="noopener noreferrer">https://repo1.maven.org/maven2/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>è¿œç¨‹ä»“åº“(ç§æœ):ç”±å…¬å¸å›¢é˜Ÿæ­å»ºçš„ç§æœ‰ä»“åº“</li><li>jaråŒ…çš„æŸ¥æ‰¾é¡ºåº <ul><li>ä¸€èˆ¬å¼•å…¥é¡ºåº <ul><li>é¡¹ç›®ä¸­ä½¿ç”¨åæ ‡å¼•å…¥å¯¹åº”ä¾èµ–jaråŒ…ï¼Œ</li><li>é¦–å…ˆä¼šæŸ¥æ‰¾æœ¬åœ°ä»“åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„jaråŒ…:</li><li>å¦‚æœæœ‰ï¼Œåˆ™åœ¨é¡¹ç›®ç›´æ¥å¼•ç”¨;</li><li>å¦‚æœæ²¡æœ‰ï¼Œåˆ™å»ä¸­å¤®ä»“åº“ä¸­ä¸‹è½½å¯¹åº”çš„jaråŒ…åˆ°æœ¬åœ°ä»“åº“ç„¶åå¼•ç”¨ã€‚</li></ul></li><li>æ­å»ºè¿œç¨‹ä»“åº“(ç§æœ)åï¼ŒjaråŒ…çš„æŸ¥æ‰¾é¡ºåº <ul><li>æœ¬åœ°ä»“åº“â†’è¿œç¨‹ä»“åº“â†’ä¸­å¤®ä»“åº“</li></ul></li></ul></li></ul><p><img src="/assets/2022-11-16-00-32-01-Z4HhgaOc.png" alt=""></p><p><strong>å®‰è£…é…ç½®</strong><br><img src="/assets/2022-11-16-02-06-18-UEfVihdg.png" alt=""></p><p><strong>é…ç½®æœ¬åœ°ä»“åº“æ‰€åœ¨è·¯å¾„</strong><code>apache-maven-3.6.3\conf\settings.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>D:\Program Files\maven\repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>é…ç½®é•œåƒ</strong><code>apache-maven-3.6.3\conf\settings.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åæ ‡</strong></p><ul><li>Maven ä¸­çš„åæ ‡æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†</li><li>ä½¿ç”¨åæ ‡æ¥å®šä¹‰é¡¹ç›®æˆ–å¼•å…¥é¡¹ç›®ä¸­éœ€è¦çš„ä¾èµ–</li><li>Maven åæ ‡ä¸»è¦ç»„æˆ <ul><li><code>groupld</code>: å®šä¹‰å½“å‰Mavené¡¹ç›®éš¶å±ç»„ç»‡åç§°ï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ï¼Œä¾‹å¦‚: com.itheima)</li><li><code>artifactld</code>: å®šä¹‰å½“å‰Mavené¡¹ç›®åç§°(é€šå¸¸æ˜¯æ¨¡å—åç§°ï¼Œä¾‹å¦‚order-serviceã€goods-service)</li><li><code>version</code>: å®šä¹‰å½“å‰é¡¹ç›®ç‰ˆæœ¬å·</li></ul></li></ul><p><strong>å®šä¹‰é¡¹ç›®</strong><br><img src="/assets/2022-11-16-22-32-44-khGKRau4.png" alt=""></p><p><strong>å®šä¹‰å¼•å…¥é¡¹ç›®ä¸­éœ€è¦çš„ä¾èµ–é¡¹ç›®</strong><br><img src="/assets/2022-11-16-22-33-02-ZhbCOLuP.png" alt=""></p><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Mavenå¸¸ç”¨å‘½ä»¤</span>
<span class="token builtin class-name">cd</span> project_root
mvn compile <span class="token comment"># ç¼–è¯‘</span>
mvn clean <span class="token comment"># æ¸…ç†</span>
mvn <span class="token builtin class-name">test</span> <span class="token comment"># æµ‹è¯•</span>
mvn package <span class="token comment"># æ‰“åŒ…</span>
mvn <span class="token function">install</span> <span class="token comment"># å®‰è£…</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong><br><img src="/assets/2022-11-16-21-57-43-9j19iQnJ.png" alt=""><br><img src="/assets/2022-11-16-21-58-56-rKXsVx42.png" alt=""></p><p><strong>ä¾èµ–ç®¡ç†</strong></p><ul><li><code>scope</code>å¯ä»¥è®¾ç½®å¯¹åº”jaråŒ…çš„ä½œç”¨èŒƒå›´</li><li>ä½œç”¨èŒƒå›´ <ul><li>ç¼–è¯‘ç¯å¢ƒ</li><li>æµ‹è¯•ç¯å¢ƒ</li><li>è¿è¡Œç¯å¢ƒ</li></ul></li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- scopeæŒ‡å®šä¾èµ–çš„ä½œç”¨èŒƒå›´ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-17-08-31-04-MMKBPof7.png" alt=""></p><h2 id="mybatis" tabindex="-1"><a class="header-anchor" href="#mybatis" aria-hidden="true">#</a> myBatis</h2><ul><li><p>MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„<code>æŒä¹…å±‚</code><strong>æ¡†æ¶</strong>ï¼Œç”¨äºç®€åŒ–<code>JDBC</code>å¼€å‘</p></li><li><p>MyBatis æœ¬æ˜¯ Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®<code>iBatis</code>, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundationè¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatisã€‚2013å¹´11æœˆè¿ç§»åˆ°Github</p></li><li><p>å®˜ç½‘: <a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer">https://mybatis.org/mybatis-3/zh/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul><p><strong>æŒä¹…å±‚</strong></p><ul><li>è´Ÿè´£å°†æ•°æ®åˆ°ä¿å­˜åˆ°æ•°æ®åº“çš„é‚£ä¸€å±‚ä»£ç </li><li>JavaEEä¸‰å±‚æ¶æ„: <ul><li>è¡¨ç°å±‚ é¡µé¢å±•ç¤º</li><li>ä¸šåŠ¡å±‚ é€»è¾‘å¤„ç†</li><li>æŒä¹…å±‚</li></ul></li></ul><p><strong>JDBCç¼ºç‚¹</strong><br><img src="/assets/2022-11-17-09-25-52-6n8sfYZi.png" alt=""></p><p><strong>maBatiså¯¹JDBCçš„ç®€åŒ–</strong><br><img src="/assets/2022-11-17-09-32-01-tWLffAf4.png" alt=""></p><p><strong>ç®€å•ç¤ºä¾‹ï¼šåŸºæœ¬æ­¥éª¤</strong><br><img src="/assets/2022-11-26-20-50-57-xEZ4JqqC.png" alt=""></p><h3 id="mybatisç®€å•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#mybatisç®€å•ç¤ºä¾‹" aria-hidden="true">#</a> myBatisç®€å•ç¤ºä¾‹</h3><h4 id="ä½¿ç”¨ç¤ºä¾‹1-mybatisç®€å•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹1-mybatisç®€å•ç¤ºä¾‹" aria-hidden="true">#</a> ä½¿ç”¨ç¤ºä¾‹1:myBatisç®€å•ç¤ºä¾‹</h4><p><strong>å‡†å¤‡æ•°æ®</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db5<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> tb_user<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    addr <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 
tb_user<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>password<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>addr<span class="token punctuation">)</span> 
<span class="token keyword">values</span>
    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;åŒ—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;åŒ—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;ç‹äº”&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;åŒ—äº¬&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–è¾‘mavené¡¹ç›®é…ç½®æ–‡ä»¶<code>pom.xml</code>,é…ç½®ç›¸å…³ä¾èµ–</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- mybatis --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- mysqlçš„JDBCé©±åŠ¨ --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.46<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–è¾‘mybatisé…ç½®æ–‡ä»¶ <code>src/main/resources/mybatis-config.xml</code></strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- å¡«mysqlçš„é©±åŠ¨çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql:///db5?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«mysqlæ•°æ®åº“çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„username --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„password --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./UserMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«sqlè¯­å¥çš„æ˜ å°„æ–‡ä»¶è·¯å¾„ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–è¾‘sqlè¯­å¥æ˜ å°„æ–‡ä»¶<code>src/main/resources/UserMapper.xml</code></strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>namespaceTest1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- åœ¨ç¨‹åºä¸­éœ€è¦é€šè¿‡ `å‘½åç©ºé—´.sqlè¯­å¥id` æ‰§è¡Œè¯¥å‘½ä»¤  --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAllUsers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- resultTypeæ˜¯Userç±»çš„ç±»å‹  --&gt;</span>
      select * from tb_user
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®šä¹‰Userç±»<code>src/main/java/com/example/pojo/User.java</code></strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> addr<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gender<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setGender</span><span class="token punctuation">(</span><span class="token class-name">String</span> gender<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> addr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAddr</span><span class="token punctuation">(</span><span class="token class-name">String</span> addr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>addr <span class="token operator">=</span> addr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;User [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, name=&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, password=&quot;</span> <span class="token operator">+</span> password <span class="token operator">+</span> <span class="token string">&quot;, gender=&quot;</span> <span class="token operator">+</span> gender <span class="token operator">+</span> <span class="token string">&quot;, addr=&quot;</span> <span class="token operator">+</span> addr
                <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ‰§è¡Œsqlè¯­å¥</strong><br><code>src/main/java/com/example/testSelectAll.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> testSelectAll <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         
        <span class="token comment">//é€šè¿‡ `å‘½åç©ºé—´.sqlè¯­å¥ID` æ‰§è¡Œsqlè¯­å¥ï¼Œç»“æœä¼šè‡ªåŠ¨å°è£…åˆ°`List&lt;User&gt;`ä¸­</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token string">&quot;namespaceTest1.selectAllUsers&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œä¾ç„¶å­˜åœ¨æŠŠå­—ç¬¦ä¸²å†™åˆ°ç¨‹åºä¸­çš„ç¡¬ç¼–ç é—®é¢˜ï¼Œéœ€è¦åç»­è¿›ä¸€æ­¥è§£å†³</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é‡Šæ”¾èµ„æº</span>
        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºï¼š<br><img src="/assets/2022-11-17-19-33-14-ULabbiTR.png" alt=""></p><h4 id="ä½¿ç”¨ç¤ºä¾‹2-ä½¿ç”¨mapperä»£ç†æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹2-ä½¿ç”¨mapperä»£ç†æ–¹å¼" aria-hidden="true">#</a> ä½¿ç”¨ç¤ºä¾‹2:ä½¿ç”¨Mapperä»£ç†æ–¹å¼</h4><p><strong>ç›®çš„</strong>ï¼šè§£å†³å‰ä¸€ç§æ–¹æ³•ä¸­å­˜åœ¨çš„ç¡¬ç¼–ç é—®é¢˜<br><img src="/assets/2022-11-26-21-45-33-r7IC5S0Y.png" alt=""></p><p>é…ç½®è¿‡ç¨‹<br><img src="/assets/2022-11-17-19-24-17-11WeAVH6.png" alt=""></p><p>0.ä¿®æ”¹é…ç½®</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 
            use db5;
            create table tb_user(
                id int primary key auto_increment,
                name varchar(20),
                password varchar(20),
                gender char(1),
                addr varchar(30)
            );
            insert into 
            tb_user(id,name,password,gender,addr) 
            values
                (1,&quot;å¼ ä¸‰&quot;,&quot;123&quot;,&quot;ç”·&quot;,&quot;åŒ—äº¬&quot;),
                (2,&quot;æå››&quot;,&quot;123&quot;,&quot;ç”·&quot;,&quot;åŒ—äº¬&quot;),
                (3,&quot;ç‹äº”&quot;,&quot;123&quot;,&quot;ç”·&quot;,&quot;åŒ—äº¬&quot;)
            ;
         --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- å¡«mysqlçš„é©±åŠ¨çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql:///db5?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«mysqlæ•°æ®åº“çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„username --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„password --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;mapper resource=&quot;com/example/mapper/UserMapper.xml&quot;/&gt;   --&gt;</span> <span class="token comment">&lt;!-- å¡«sqlè¯­å¥çš„æ˜ å°„æ–‡ä»¶è·¯å¾„ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- ä½¿ç”¨è¿™ç§Mapperä»£ç†çš„æ–¹å¼ä¾¿å¯ä»¥ç”¨è¿™ç§åŒ…æ‰«æçš„å†™æ³• --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.å®šä¹‰æ¥å£ï¼š<code>src/main/java/com/example/mapper/UserMapper.java</code></p><ul><li>æ³¨æ„å­˜æ”¾è·¯å¾„</li><li>æ³¨æ„æ¥å£çš„å‡½æ•°åã€å½¢å‚åˆ—è¡¨ã€è¿”å›å€¼éƒ½å’Œ<code>UserMapper.xml</code>ä¸­çš„sqlè¯­å¥æœ‰å…³</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‡½æ•°åè¦å’ŒUserMapper.xmlä¸­çš„idåä¸€è‡´</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.ä¿®æ”¹ï¼š<code>src/resources/com/example/mapper/UserMapper.xml</code></p><ul><li>æ³¨æ„å­˜æ”¾è·¯å¾„ï¼Œ<code>UserMapper.xml</code>åŸæœ¬åº”å½“å­˜æ”¾åœ¨å’Œ<code>UserMapper.java</code>ç›¸åŒçš„ä½ç½®ï¼Œä½†xmlæ–‡ä»¶åº”å½“ç»Ÿä¸€æ”¾åœ¨resourcesç›®å½•ä¸‹ï¼Œä¸”resourcesç›®å½•ä¸‹çš„æ–‡ä»¶æ‰“åŒ…åå°†ä¼šæ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰€ä»¥å­˜æ”¾åœ¨<code>/resources/com/example/mapper/</code>ç›®å½•ä¸‹ï¼Œæ‰“åŒ…åä¹Ÿä¼šå­˜æ”¾åœ¨<code>UserMapper.java</code>æ‰€åœ¨ç›®å½•</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- namespaceæ”¹ä¸ºæ¥å£ç±» --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token comment">&lt;!-- idä¸ºæ¥å£çš„å‡½æ•°å --&gt;</span>
    select * from tb_user
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</p><ul><li><code>session.getMapper(UserMapper.class)</code>çš„ä½œç”¨å°±æ˜¯å®ç°ä¸€ä¸ªæ¥å£ä»£ç†ç„¶åæä¾›ä»£ç†ã€‚</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> testSelectAll <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ–¹æ³•ä¸€ï¼šé€šè¿‡ `å‘½åç©ºé—´.sqlè¯­å¥ID` æ‰§è¡Œsql</span>
        <span class="token comment">// List&lt;User&gt; users = session.selectList(&quot;namespaceTest1.selectAllUsers&quot;);</span>

        <span class="token comment">// æ–¹æ³•äºŒï¼šé€šè¿‡mapper</span>
        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºï¼š</p><p><img src="/assets/2022-11-17-19-33-14-ULabbiTR.png" alt=""></p><h3 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3><p><a href="https://mybatis.net.cn/" target="_blank" rel="noopener noreferrer">æ–‡æ¡£:https://mybatis.net.cn/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br><img src="/assets/2022-11-27-20-50-29-_5i_ZAfJ.png" alt=""></p><p><strong>åŒ…åˆ«å</strong></p><ul><li>å½“è¿™æ ·é…ç½®æ—¶ï¼Œ <code>Blog</code> å¯ä»¥ç”¨åœ¨ä»»ä½•ä½¿ç”¨ å…¨é™å <code>domain.blog.Blog</code> çš„åœ°æ–¹ã€‚</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog.Author<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å•ç‹¬é…ç½® --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- åŒ…æ‰«ææ–¹å¼é…ç½® --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŸ¥è¯¢æ•°æ®-1" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ•°æ®-1" aria-hidden="true">#</a> æŸ¥è¯¢æ•°æ®</h3><h4 id="å¤šæŸ¥è¯¢selectall" tabindex="-1"><a class="header-anchor" href="#å¤šæŸ¥è¯¢selectall" aria-hidden="true">#</a> å¤šæŸ¥è¯¢selectAll</h4><p><strong>æ•°æ®å‡†å¤‡</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> db5<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db5<span class="token punctuation">;</span>
<span class="token keyword">use</span> db5<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> tb_brand<span class="token punctuation">(</span>
   <span class="token comment">-- id</span>
   id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
   <span class="token comment">-- å“ç‰Œå</span>
   brand_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">-- å…¬å¸å</span>
   company_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">-- æ’åºä¼˜å…ˆçº§</span>
   ordered <span class="token keyword">int</span><span class="token punctuation">,</span>
   <span class="token comment">-- æè¿°</span>
   description <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">-- çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
   <span class="token keyword">status</span> <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 
    tb_brand<span class="token punctuation">(</span>brand_name<span class="token punctuation">,</span>company_name<span class="token punctuation">,</span>ordered<span class="token punctuation">,</span>description<span class="token punctuation">,</span><span class="token keyword">status</span><span class="token punctuation">)</span> 
    <span class="token keyword">values</span>
        <span class="token punctuation">(</span><span class="token string">&quot;ä¸‰åªæ¾é¼ &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ä¸‰åªæ¾é¼ è‚¡ä»½æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;å¥½åƒä¸ä¸Šç«&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;åä¸ºè‡´åŠ›äºæŠŠæ•°å­—æŠ€æœ¯å¸¦å…¥æ¯ä¸ªäººã€æ¯ä¸ªå®¶åº­ã€æ¯ä¸ªç»„ç»‡ï¼Œæ„å»ºä¸‡ç‰©äº’è”çš„æ™ºèƒ½ä¸–ç•Œ&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;å°ç±³&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å°ç±³ç§‘æŠ€æœ‰é™å…¬å¸&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&#39;Are you ok?&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_brand<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>mybatisé…ç½®æ–‡ä»¶ä¿®æ”¹</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- å¡«mysqlçš„é©±åŠ¨çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql:///db5?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«mysqlæ•°æ®åº“çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„username --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„password --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- åŒ…æ‰«ææ–¹å¼ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–å†™<code>pojo.Brand</code>ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Brand</span> <span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>             <span class="token comment">// -- id</span>
    <span class="token class-name">String</span> brandName<span class="token punctuation">;</span>      <span class="token comment">// -- å“ç‰Œå</span>
    <span class="token class-name">String</span> companyName<span class="token punctuation">;</span>    <span class="token comment">// -- å…¬å¸å</span>
    <span class="token class-name">Integer</span> ordered<span class="token punctuation">;</span>        <span class="token comment">// -- æ’åºä¼˜å…ˆçº§</span>
    <span class="token class-name">String</span> description<span class="token punctuation">;</span>     <span class="token comment">// -- æè¿°</span>
    <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>         <span class="token comment">// -- çŠ¶æ€ï¼š1 å¯ç”¨ 0 ç¦ç”¨</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrandName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> brandName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBrandName</span><span class="token punctuation">(</span><span class="token class-name">String</span> brandName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brandName <span class="token operator">=</span> brandName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCompanyName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> companyName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCompanyName</span><span class="token punctuation">(</span><span class="token class-name">String</span> companyName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>companyName <span class="token operator">=</span> companyName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getOrdered</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ordered<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setOrdered</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> ordered<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Brand [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, brandName=&quot;</span> <span class="token operator">+</span> brandName <span class="token operator">+</span> <span class="token string">&quot;, companyName=&quot;</span> <span class="token operator">+</span> companyName <span class="token operator">+</span> <span class="token string">&quot;, ordered=&quot;</span> <span class="token operator">+</span> ordered
                <span class="token operator">+</span> <span class="token string">&quot;, description=&quot;</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">&quot;, status=&quot;</span> <span class="token operator">+</span> status <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–å†™<code>BrandMapper.java</code>æ¥å£ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–å†™<code>BrandMapper.xml</code></strong></p><ul><li><p>æ–¹æ³•ä¸€ï¼šåŸå§‹å†™æ³•ï¼Œç”±äºæ•°æ®åº“ä¸­å­—æ®µåç§°ä¸º <code>brand_name</code> ç±»ä¸­ç›¸åº”å­—æ®µåç§°ä¸º <code>brandName</code> ä¸¤è€…ä¸ä¸€è‡´ï¼Œåœ¨å°è£…æ•°æ®é˜¶æ®µä¼šå‡ºç°é—®é¢˜ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ–¹æ³•äºŒï¼šä¿®æ”¹sqlè¯­å¥ï¼Œä¿®æ”¹å­—æ®µåˆ«åä½¿å…¶ä¸ç±»ä¸­å­—æ®µåç§°ä¸€è‡´</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select 
       id,
       brand_name as brandName,
       company_name as companyName,
       ordered,
       description,
       status,
    from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ–¹æ³•ä¸‰ï¼šå®šä¹‰sqlç‰‡æ®µ</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_colums<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- å®šä¹‰sqlç‰‡æ®µ --&gt;</span> 
       id,
       brand_name as brandName,
       company_name as companyName,
       ordered,
       description,
       status,
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select 
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_colums<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- å¼•ç”¨sqlç‰‡æ®µ --&gt;</span> 
    from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ–¹æ³•å››ï¼šä½¿ç”¨resultMap</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_resultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- å®šä¹‰resultMap --&gt;</span> 
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_resultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- resultMap = brand_resultMap --&gt;</span> 
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>ç¼–å†™<code>testBrand.java</code>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">BrandMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> testBrand <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectAllBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ–¹æ³•ä¸€ï¼šé€šè¿‡ `å‘½åç©ºé—´.sqlè¯­å¥ID` æ‰§è¡Œsql</span>
        <span class="token comment">// List&lt;User&gt; users = session.selectList(&quot;namespaceTest1.selectAllUsers&quot;);</span>

        <span class="token comment">// æ–¹æ³•äºŒï¼šé€šè¿‡mapper</span>
        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å•æŸ¥è¯¢selectbyid" tabindex="-1"><a class="header-anchor" href="#å•æŸ¥è¯¢selectbyid" aria-hidden="true">#</a> å•æŸ¥è¯¢selectById</h4><p>ä¿®æ”¹<code>BrandMapper.xml</code></p><p><strong>æ³¨æ„ç‚¹</strong></p><ul><li>sqlè¯­å¥<code>å‚æ•°å ä½ç¬¦</code><ul><li><code>#{}</code>å ä½ç¬¦ ç­‰æ•ˆäº <code>?</code> ä¹Ÿæ˜¯å°±æ˜¯<code>jdbc</code>é‡Œçš„<code>PreparedStatement</code>,æœ‰é˜²sqlæ³¨å…¥çš„ä½œç”¨</li><li><code>${}</code>å ä½ç¬¦ 1ä»¥å­—ç¬¦ä¸²æ–¹å¼æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œ<code>å­˜åœ¨sqlæ³¨å…¥é—®é¢˜</code><ul><li>å¯ç”¨äºåŠ¨æ€ç¡®å®šåˆ—åæˆ–è¡¨å <ul><li><code>select ${columName1}</code></li><li><code>from ${tableName}</code></li></ul></li></ul></li></ul></li><li>è¿”å›å€¼ <ul><li><code>parameterType=&quot;int&quot;</code> å¯çœç•¥</li></ul></li><li><strong>ç‰¹æ®Šå­—ç¬¦çš„å¤„ç†</strong>ï¼šåœ¨xmlä¸­ç¼–å†™sqlè¯­å¥çš„<code>&lt;</code>ç­‰çš„ç‰¹æ®Šå­—ç¬¦ <ul><li><code>è½¬ä¹‰å­—ç¬¦</code> <code>&lt;</code> =&gt; <code>&amp;lt;</code></li><li><code>CDATAåŒº</code> <code>&lt;![CDATA[ è¿™é‡Œå¯ä»¥å¡«ç‰¹æ®Šå­—ç¬¦ ]]&gt;</code></li></ul></li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- selectById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand where id=#{id};
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹<code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Brand</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–å†™æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">BrandMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> testBrand <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectBrandById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ–¹æ³•ä¸€ï¼šé€šè¿‡ `å‘½åç©ºé—´.sqlè¯­å¥ID` æ‰§è¡Œsql</span>
        <span class="token comment">// List&lt;User&gt; users = session.selectList(&quot;namespaceTest1.selectAllUsers&quot;);</span>

        <span class="token comment">// æ–¹æ³•äºŒï¼šé€šè¿‡mapper</span>
        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Brand</span> brands <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Brand [id=1, brandName=ä¸‰åªæ¾é¼ , companyName=ä¸‰åªæ¾é¼ è‚¡ä»½æœ‰é™å…¬å¸, ordered=5, description=å¥½åƒä¸ä¸Šç«, status=0]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="å¤šæ¡ä»¶æŸ¥è¯¢-æ•£è£…å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å¤šæ¡ä»¶æŸ¥è¯¢-æ•£è£…å‚æ•°" aria-hidden="true">#</a> å¤šæ¡ä»¶æŸ¥è¯¢ï¼šæ•£è£…å‚æ•°</h4><p><strong>å¤šæ¡ä»¶æŸ¥è¯¢å‚æ•°çš„æ¥æ”¶</strong></p><ol><li><code>æ•£è£…å‚æ•°</code> è¦ä½¿ç”¨æ³¨è§£<code>@Param(&quot;å­—æ®µå&quot;)</code>å’Œsqlçš„<code>${å­—æ®µå}</code>è¦ä¸€è‡´</li><li><code>å¯¹è±¡å‚æ•°</code> è¦ä¿è¯<code>å¯¹è±¡å±æ€§å</code>å’Œsqlçš„<code>${}</code>è¦ä¸€è‡´</li><li><code>mapé›†åˆå‚æ•°</code> è¦ä¿è¯<code>mapé”®</code>å’Œsqlçš„<code>${}</code>è¦ä¸€è‡´</li></ol><p><code>BrandMapper.xml</code>æ ¸å¿ƒä»£ç </p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
    where status = #{status}
      and company_name like #{companyName} <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span> 
      and brand_name like #{brandName}
      ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code>æ ¸å¿ƒä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Brand</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span>        <span class="token keyword">int</span>     status<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">)</span>   <span class="token class-name">String</span>  companyName<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;brandName&quot;</span><span class="token punctuation">)</span>     <span class="token class-name">String</span>  brandName
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>testBrand.java</code>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectByCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>
    <span class="token keyword">int</span> status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> companyName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> brandName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// å¯¹æ•°æ®å¤„ç†</span>
    companyName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>companyName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
    brandName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>brandName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>


    <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
    <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
    <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
    <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">selectByCondition</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span>companyName<span class="token punctuation">,</span>brandName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¤šæ¡ä»¶æŸ¥è¯¢-å¯¹è±¡å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å¤šæ¡ä»¶æŸ¥è¯¢-å¯¹è±¡å‚æ•°" aria-hidden="true">#</a> å¤šæ¡ä»¶æŸ¥è¯¢ï¼šå¯¹è±¡å‚æ•°</h4><p><code>BrandMapper.xml</code>æ ¸å¿ƒä»£ç </p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
    where status = #{status}
      and company_name like #{companyName} <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span> 
      and brand_name like #{brandName}
      ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code>æ ¸å¿ƒä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Brand</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span>        <span class="token keyword">int</span>     status<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">)</span>   <span class="token class-name">String</span>  companyName<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;brandName&quot;</span><span class="token punctuation">)</span>     <span class="token class-name">String</span>  brandName
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//-----------------------------------------------------------------------------</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-----------------------------------------------------------------------------</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>testBrand.java</code>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectByCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>
        <span class="token keyword">int</span> status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> companyName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> brandName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// å¯¹æ•°æ®å¤„ç†</span>
        companyName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>companyName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
        brandName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>brandName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>


<span class="token comment">//-----------------------------------------------------------------------------</span>
        <span class="token class-name">Brand</span> searchBrand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">setCompanyName</span><span class="token punctuation">(</span>companyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">setBrandName</span><span class="token punctuation">(</span>brandName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-----------------------------------------------------------------------------</span>


        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//-----------------------------------------------------------------------------</span>
        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">selectByCondition</span><span class="token punctuation">(</span>searchBrand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-----------------------------------------------------------------------------</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¤šæ¡ä»¶æŸ¥è¯¢-é›†åˆå‚æ•°" tabindex="-1"><a class="header-anchor" href="#å¤šæ¡ä»¶æŸ¥è¯¢-é›†åˆå‚æ•°" aria-hidden="true">#</a> å¤šæ¡ä»¶æŸ¥è¯¢ï¼šé›†åˆå‚æ•°</h4><p><code>testBrand.java</code>æµ‹è¯•ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectByCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>
        <span class="token keyword">int</span> status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> companyName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> brandName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// å¯¹æ•°æ®å¤„ç†</span>
        companyName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>companyName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
        brandName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>brandName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> searchBrand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">,</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">,</span>companyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;brandName&quot;</span><span class="token punctuation">,</span>brandName<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">selectByCondition</span><span class="token punctuation">(</span>searchBrand<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¤šæ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢whereæ ‡ç­¾æˆ–1-1æ’ç­‰å¼" tabindex="-1"><a class="header-anchor" href="#å¤šæ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢whereæ ‡ç­¾æˆ–1-1æ’ç­‰å¼" aria-hidden="true">#</a> å¤šæ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢<code>whereæ ‡ç­¾æˆ–1=1æ’ç­‰å¼</code></h4><ul><li><p>if æ¡ä»¶åˆ¤æ–­ï¼šç”¨äºåˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦æœ‰å€¼</p><ul><li>test é€»è¾‘è¡¨è¾¾å¼</li></ul></li><li><p>å­˜åœ¨é—®é¢˜ï¼š<code>status==null</code>æ—¶ï¼Œç¬¬äºŒä¸ª<code>if</code>ä¸­çš„<code>and</code>å°†å¯¼è‡´<code>sqlè¯­æ³•é”™è¯¯</code></p><ul><li><strong><code>1=1</code>æ’ç­‰å¼</strong>è§£å†³</li><li><code>where</code>æ ‡ç­¾è§£å†³</li></ul></li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- selectById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token cdata">&lt;![CDATA[ 
      select * from tb_brand where id=#{id};
    ]]&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectByCondition --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
    where
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      status = #{status}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> company_name!=null and company_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and company_name like #{companyName} <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> brand_name!=null and brand_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and brand_name like #{brandName}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
      ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>1=1</code>æ’ç­‰å¼è§£å†³é—®é¢˜</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- selectById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token cdata">&lt;![CDATA[ 
      select * from tb_brand where id=#{id};
    ]]&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectByCondition --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
    where
    1=1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and status = #{status}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> company_name!=null and company_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and company_name like #{companyName} <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> brand_name!=null and brand_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and brand_name like #{brandName}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
      ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>1=1</code>æ’ç­‰å¼è§£å†³é—®é¢˜</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- selectById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token cdata">&lt;![CDATA[ 
      select * from tb_brand where id=#{id};
    ]]&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectByCondition --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
    where
    1=1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and status = #{status}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> company_name!=null and company_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and company_name like #{companyName} <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> brand_name!=null and brand_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and brand_name like #{brandName}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
      ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>where</code>æ ‡ç­¾è§£å†³</strong><br> whereæ ‡ç­¾èƒ½è‡ªåŠ¨å»æ‰å¤šä½™çš„and or</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectAll --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- selectById --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token cdata">&lt;![CDATA[ 
      select * from tb_brand where id=#{id};
    ]]&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- whereæ ‡ç­¾ä¼šå¸®ä½ è‡ªåŠ¨å»æ‰å¤šä½™çš„and or å¦‚æœæ²¡æœ‰ä»»ä½•æ¡ä»¶ä¼šå»æ‰è‡ªèº« --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        and status = #{status}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> company_name!=null and company_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        and company_name like #{companyName} <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> brand_name!=null and brand_name!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        and brand_name like #{brandName}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
      ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å•æ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢-when-choose-otherwise" tabindex="-1"><a class="header-anchor" href="#å•æ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢-when-choose-otherwise" aria-hidden="true">#</a> å•æ¡ä»¶-åŠ¨æ€æ¡ä»¶æŸ¥è¯¢<code>:when:choose:otherwise</code></h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brand_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectBySingleCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BrandColumMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_brand
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- whereæ ‡ç­¾ä¼šå¸®ä½ è‡ªåŠ¨å»æ‰å¤šä½™çš„and or å¦‚æœæ²¡æœ‰ä»»ä½•æ¡ä»¶ä¼šå»æ‰è‡ªèº« --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        status = #{status}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName!=null and companyName!=&#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          company_name like #{companyName}
          <span class="token comment">&lt;!-- æ­¤å¤„çš„companyNameçš„å‘½åè§„åˆ™æœ€å¥½æ˜¯å’Œå¯¹è±¡çš„å±æ€§åä¿æŒä¸€è‡´ï¼Œä»¥é¿å…åç»­äº§ç”Ÿçš„é—®é¢˜ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> brandName!=null and brandName!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          brand_name like #{brandName}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
          1=1
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
    ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Brand</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span>        <span class="token keyword">int</span>     status<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">)</span>   <span class="token class-name">String</span>  companyName<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;brandName&quot;</span><span class="token punctuation">)</span>     <span class="token class-name">String</span>  brandName
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-------------------------------------------------------------</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectBySingleCondition</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-------------------------------------------------------------</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">BrandMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> testBrand <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectByCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>
        <span class="token keyword">int</span> status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> companyName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> brandName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// å¯¹æ•°æ®å¤„ç†</span>
        companyName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>companyName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
        brandName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span><span class="token operator">+</span>brandName<span class="token operator">+</span><span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> searchBrand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// searchBrand.put(&quot;status&quot;,status);</span>
        searchBrand<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">,</span>companyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// searchBrand.put(&quot;brandName&quot;,brandName);</span>


        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">selectBySingleCondition</span><span class="token punctuation">(</span>searchBrand<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¢æ·»æ•°æ®" tabindex="-1"><a class="header-anchor" href="#å¢æ·»æ•°æ®" aria-hidden="true">#</a> å¢æ·»æ•°æ®</h3><h4 id="æ’å…¥å•æ¡æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ’å…¥å•æ¡æ•°æ®" aria-hidden="true">#</a> æ’å…¥å•æ¡æ•°æ®</h4><p><code>BrandMapper.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    insert into tb_brand(brand_name,company_name,ordered,description,status) 
    values(#{brandName},#{companyName},#{ordered},#{description},#{status});
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>

        <span class="token comment">// å°è£…æ•°æ®</span>
        <span class="token class-name">Brand</span> brand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setBrandName</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰æ˜Ÿ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setCompanyName</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰æ˜Ÿå…¬å¸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘ä»¬æœ‰å…¨ä¸–ç•Œæœ€å¥½ç”¨çš„ç”µæ± &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setOrdered</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºautoCommit é»˜è®¤ä¸ºfalse ä¹Ÿå°±æ˜¯é»˜è®¤å¼€å¯äº‹åŠ¡</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// jdbcé»˜è®¤ä¸ºæ‰‹åŠ¨æäº¤äº‹åŠ¡</span>
            brandMapper<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
            session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰‹åŠ¨æäº¤</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ·»åŠ æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            session<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æ»š</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ’å…¥å•æ¡æ•°æ®-è¿”å›ä¸»é”®" tabindex="-1"><a class="header-anchor" href="#æ’å…¥å•æ¡æ•°æ®-è¿”å›ä¸»é”®" aria-hidden="true">#</a> æ’å…¥å•æ¡æ•°æ®ï¼šè¿”å›ä¸»é”®</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- 
      useGeneratedKeys=&quot;true&quot;  keyProperty=&quot;id&quot; 
      useGeneratedKeys è¡¨ç¤ºè¿”å›ç”Ÿæˆçš„ä¸»é”®ï¼Œ
      keyProperty æŒ‡å®šè¦å°è£…åˆ°å¯¹è±¡çš„ä»€ä¹ˆå­—æ®µä¸­
   --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    insert into tb_brand(brand_name,company_name,ordered,description,status) 
    values(#{brandName},#{companyName},#{ordered},#{description},#{status});
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>

        <span class="token comment">// å°è£…æ•°æ®</span>
        <span class="token class-name">Brand</span> brand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setBrandName</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰æ˜Ÿ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setCompanyName</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰æ˜Ÿå…¬å¸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘ä»¬æœ‰å…¨ä¸–ç•Œæœ€å¥½ç”¨çš„ç”µæ± &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setOrdered</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºautoCommit é»˜è®¤ä¸ºfalse ä¹Ÿå°±æ˜¯é»˜è®¤å¼€å¯äº‹åŠ¡</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// jdbcé»˜è®¤ä¸ºæ‰‹åŠ¨æäº¤äº‹åŠ¡</span>
            brandMapper<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
            session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰‹åŠ¨æäº¤</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brand<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºid</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ·»åŠ æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            session<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æ»š</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¿®æ”¹æ•°æ®" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹æ•°æ®" aria-hidden="true">#</a> ä¿®æ”¹æ•°æ®</h3><h4 id="ä¿®æ”¹å…¨éƒ¨å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹å…¨éƒ¨å­—æ®µ" aria-hidden="true">#</a> ä¿®æ”¹å…¨éƒ¨å­—æ®µ</h4><p><code>BrandMapper.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    update 
      tb_brand
    set
      brand_name=#{brandName},
      company_name=#{companyName},
      ordered=#{ordered},
      description=#{description},
      status=#{status}
    where
      id = #{id}
    ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BrandMapper.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›å€¼å¯ä¸ºvoid ä¹Ÿå¯ä¸ºintï¼Œä¸ºintæ—¶ï¼Œè¿”å›å½±å“çš„è¡Œæ•°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>æµ‹è¯•ç±»</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿè·å–åˆ°æŸ¥è¯¢æ•°æ®</span>

        <span class="token comment">// å°è£…æ•°æ®</span>
        <span class="token class-name">Brand</span> brand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setBrandName</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰æ˜Ÿ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setCompanyName</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‰æ˜Ÿå…¬å¸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘ä»¬ä¸ç”Ÿäº§ç”µæ± ï¼Œæˆ‘ä»¬åªæ˜¯ç‚¸å¼¹çš„æ¬è¿å·¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setOrdered</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brand<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºautoCommit é»˜è®¤ä¸ºfalse ä¹Ÿå°±æ˜¯é»˜è®¤å¼€å¯äº‹åŠ¡</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span><span class="token comment">// jdbcé»˜è®¤ä¸ºæ‰‹åŠ¨æäº¤äº‹åŠ¡</span>
            <span class="token keyword">int</span> affectedRows <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
            session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰‹åŠ¨æäº¤</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›´æ–°æˆåŠŸ,å½±å“çš„è¡Œæ•°ï¼š&quot;</span><span class="token operator">+</span>affectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            session<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æ»š</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¿®æ”¹ä»»æ„å­—æ®µset-if" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹ä»»æ„å­—æ®µset-if" aria-hidden="true">#</a> ä¿®æ”¹ä»»æ„å­—æ®µ<code>set:if</code></h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    update 
      tb_brand
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- ç”¨setæ ‡ç­¾æ¥é¿å…ç”±ifäº§ç”Ÿçš„é€—å·é—®é¢˜ --&gt;</span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> brandName!=null and brandName!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        brand_name=#{brandName},
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> companyName!=null and companyName!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        company_name=#{companyName},
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> ordered!=null <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ordered=#{ordered},
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> description!=null and description!=&#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        description=#{description},
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> status!=null <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        status=#{status}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    where
      id = #{id}
    ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ é™¤æ•°æ®-1" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤æ•°æ®-1" aria-hidden="true">#</a> åˆ é™¤æ•°æ®</h3><h4 id="åˆ é™¤å•ä¸ªdeletebyid" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤å•ä¸ªdeletebyid" aria-hidden="true">#</a> åˆ é™¤å•ä¸ªdeleteById</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- deleteById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteById<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    delete 
      from 
        tb_brand
      where 
        id = #{id}
    ;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">int</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testdeleteById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> affectedRows <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ é™¤æˆåŠŸ,å½±å“çš„è¡Œæ•°ï¼š&quot;</span><span class="token operator">+</span>affectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤å¤šä¸ªdeletebyid-ä¸ä½¿ç”¨æ³¨è§£ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤å¤šä¸ªdeletebyid-ä¸ä½¿ç”¨æ³¨è§£ç‰ˆ" aria-hidden="true">#</a> åˆ é™¤å¤šä¸ª<code>deleteById</code>:<code>ä¸ä½¿ç”¨æ³¨è§£ç‰ˆ</code></h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">int</span> <span class="token function">deleteByIds</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆ é™¤å¤šä¸ª</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- deleteByIds --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteByIds<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  delete 
    from 
      tb_brand
    where 
      id in 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>array<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- mybatiesä¼šå°†æ•°ç»„çš„å‚æ•°å°è£…ä¸ºmapé›†åˆï¼Œå…¶keyä¸ºarrayï¼Œvalueä¸ºæ•°ç»„ --&gt;</span> 
          ${id}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
  ;    
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testdeleteByIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ids <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºautoCommit é»˜è®¤ä¸ºfalse ä¹Ÿå°±æ˜¯é»˜è®¤å¼€å¯äº‹åŠ¡</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> affectedRows <span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">deleteByIds</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ é™¤æˆåŠŸ,å½±å“çš„è¡Œæ•°ï¼š&quot;</span><span class="token operator">+</span>affectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤å¤šä¸ªdeletebyid-ä½¿ç”¨æ³¨è§£ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤å¤šä¸ªdeletebyid-ä½¿ç”¨æ³¨è§£ç‰ˆ" aria-hidden="true">#</a> åˆ é™¤å¤šä¸ª<code>deleteById</code>:<code>ä½¿ç”¨æ³¨è§£ç‰ˆ</code></h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/* 
   mybatiesä¼šå°†æ•°ç»„çš„å‚æ•°å°è£…ä¸ºmapé›†åˆï¼Œ
      é»˜è®¤å…¶keyä¸ºarrayï¼Œvalueä¸ºæ•°ç»„
      ä½¿ç”¨@Param(&quot;ids&quot;)ï¼Œå¯å°†keyæ”¹ä¸ºids
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">int</span> <span class="token function">deleteByIds</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;ids&quot;</span><span class="token punctuation">)</span>  <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆ é™¤å¤šä¸ª</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- deleteByIds --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteByIds<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  delete 
    from 
      tb_brand
    where 
      id in 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ids<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- collectionæŒ‡å®šé”®å --&gt;</span> 
          ${id}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
  ;    
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mybatiså¯¹å‚æ•°çš„å°è£…" tabindex="-1"><a class="header-anchor" href="#mybatiså¯¹å‚æ•°çš„å°è£…" aria-hidden="true">#</a> myBatiså¯¹å‚æ•°çš„å°è£…</h3><p>MyBatis æ¥å£æ–¹æ³•ä¸­å¯ä»¥æ¥æ”¶å„ç§å„æ ·çš„å‚æ•°ï¼ŒMyBatisåº•å±‚å¯¹äºè¿™äº›å‚æ•°è¿›è¡Œä¸åŒçš„å°è£…å¤„ç†æ–¹å¼</p><p><strong>å¯¹äºå•ä¸ªå‚æ•°</strong></p><ul><li>åŸºæœ¬ç±»å‹ï¼š <ul><li>ç›´æ¥ä½¿ç”¨ï¼Œ<code>å½¢å‚å</code> å’Œ <code>sqlå‚æ•°å ä½ç¬¦</code> å¯ä»»æ„ï¼Œ</li></ul></li><li>POJOç±»å‹ï¼šç›´æ¥ä½¿ç”¨ï¼Œ<code>å¯¹è±¡çš„å±æ€§å</code>éœ€å’Œ<code>sqlå‚æ•°å ä½ç¬¦</code>åç§° ä¸€è‡´</li><li>Mapé›†åˆï¼šç›´æ¥ä½¿ç”¨ï¼Œ<code>é”®å</code>éœ€å’Œ<code>sqlå‚æ•°å ä½ç¬¦</code>åç§° ä¸€è‡´</li><li>Collectionï¼š å†…éƒ¨è‡ªåŠ¨å°è£…ä¸ºmapé›†åˆ <ul><li><code>map.put(&quot;arg0&quot;,connection)</code> ä½¿ç”¨æ³¨è§£<code>@Param(&quot;ä¿®æ”¹é»˜è®¤çš„argé”®å&quot;)</code></li><li><code>map.put(&quot;connection&quot;,connection)</code></li></ul></li><li>list: å†…éƒ¨è‡ªåŠ¨å°è£…ä¸ºmapé›†åˆ <ul><li><code>map.put(&quot;arg0&quot;,åŸlsité›†åˆ)</code> ä½¿ç”¨æ³¨è§£<code>@Param(&quot;ä¿®æ”¹é»˜è®¤çš„argé”®å&quot;)</code></li><li><code>map.put(&quot;connection&quot;,åŸlsité›†åˆ)</code></li><li><code>map.put(&quot;list&quot;,åŸlsité›†åˆ)</code></li></ul></li><li>arrayï¼šå†…éƒ¨è‡ªåŠ¨å°è£…ä¸ºmapé›†åˆ <ul><li><code>map.put(&quot;arg0&quot;,åŸarrayæ•°ç»„)</code> ä½¿ç”¨æ³¨è§£<code>@Param(&quot;ä¿®æ”¹é»˜è®¤çš„argé”®å&quot;)</code></li><li><code>map.put(&quot;array&quot;,åŸarrayæ•°ç»„)</code><br><strong>å¯¹äºå¤šä¸ªå‚æ•°</strong></li></ul></li><li>å¤šä¸ªå‚æ•°ä¼šå°è£…ä¸ºmapé›†åˆ <ul><li><code>map.put(&quot;arg0&quot;,å½¢å¼å‚æ•°0)</code> ä½¿ç”¨æ³¨è§£<code>@Param(&quot;ä¿®æ”¹é»˜è®¤çš„argé”®å&quot;)</code></li><li><code>map.put(&quot;param0&quot;,å½¢å¼å‚æ•°0)</code></li><li><code>map.put(&quot;arg1&quot;,å½¢å¼å‚æ•°1)</code></li><li><code>map.put(&quot;param1&quot;,å½¢å¼å‚æ•°1)</code></li></ul></li></ul><p><strong>é¢˜ç›®</strong><br><img src="/assets/2022-11-28-12-48-27-OOIIJbsQ.png" alt=""></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>åº”è¯¥ä¸ºï¼š
user.userName
user.password
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ" aria-hidden="true">#</a> ä½¿ç”¨æ³¨è§£å®Œæˆç®€å•sqlæ“ä½œ</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Brand</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select *,brand_name as brandName,company_name as companyName from tb_brand;&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select *,brand_name as brandName,company_name as companyName from tb_brand where id = #{id};&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Brand</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat" aria-hidden="true">#</a> Tomcat</h2><ul><li><p>Tomcat æ˜¯ä¸€ä¸ªè½»é‡çº§çš„WebæœåŠ¡å™¨ï¼Œ</p></li><li><p>æ”¯æŒServlet/JSPå°‘é‡JavaEEè§„èŒƒï¼Œ</p></li><li><p>ä¹Ÿç§°ä¸ºWebå®¹å™¨ï¼ŒServletå®¹å™¨</p></li></ul><p><strong>è§£å‹åç›®å½•ç»“æ„</strong></p><p><img src="/assets/2022-11-28-15-56-00-p_n8acOH.png" alt=""></p><p><strong>å¯åŠ¨ä¸å…³é—­</strong><br><img src="/assets/2022-11-28-15-59-22-gInST0bC.png" alt=""></p><p><strong>é…ç½®</strong><br><img src="/assets/2022-11-28-18-10-33-pV9ZW8RK.png" alt=""></p><p><strong>éƒ¨ç½²</strong><br><img src="/assets/2022-11-28-18-17-24-BOIGJjre.png" alt=""></p><p><code>xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>javaWebé¡¹ç›®ç›®å½•ç»“æ„</strong><br><img src="/assets/2022-11-28-18-22-06-h-ZUzoxQ.png" alt=""></p><p><strong>åœ¨ideaä¸­é€šè¿‡æœ¬åœ°tomCatå¯åŠ¨javaWebé¡¹ç›®</strong><br><img src="/assets/2022-11-28-18-47-30-hwi0GCir.png" alt=""></p><p><strong>åœ¨javaWebé¡¹ç›®ä¸­é›†æˆtomCat</strong><br><img src="/assets/2022-11-28-18-48-08-Tv3H0Hdp.png" alt=""></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat7-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>8088<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat6-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-28-18-49-56-Aez1JC2_.png" alt=""></p><h2 id="servlet" tabindex="-1"><a class="header-anchor" href="#servlet" aria-hidden="true">#</a> Servlet</h2><ul><li><p>Servletå·²ç»æ˜¯ä¸€ä¸ªéå¸¸éå¸¸å¤è€çš„æŠ€æœ¯äº†ï¼Œ</p></li><li><p>è€Œä¸”åœ¨å®é™…å¼€å‘ä¸­å‡ ä¹ä¸ä¼šç”¨åˆ°ï¼Œ</p></li><li><p>åœ¨é¢è¯•ä¸­ä¹Ÿå‡ ä¹ä¸ä¼šé—®åˆ°Servletç›¸å…³çš„çŸ¥è¯†ã€‚</p></li><li><p><code>ä½†Struts2å’ŒSpringMVCæ¡†æ¶ï¼Œåº•å±‚éƒ½æ˜¯è·ŸServletæœ‰å…³</code></p></li></ul><h3 id="ä»€ä¹ˆæ˜¯servlet" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯servlet" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯Servlet</h3><blockquote><p>servletç¨‹åºæ˜¯ç”±servletå®¹å™¨ï¼ˆå³tomcatæœåŠ¡å™¨ï¼‰è¿›è¡Œç®¡ç†çš„<br> å³ï¼šç”±servletå®¹å™¨ï¼ˆtomcatï¼‰å®Œæˆservletçš„å®ä¾‹åŒ–ã€åˆå§‹åŒ–ã€æœåŠ¡ã€é”€æ¯</p></blockquote><p>Servletï¼ˆServer Appletï¼‰æ˜¯Java Servletçš„ç®€ç§°ï¼Œ<br> æ˜¯ç”¨Javaç¼–å†™çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œ<br> ä¸»è¦åŠŸèƒ½åœ¨äºäº¤äº’å¼åœ°æµè§ˆå’Œä¿®æ”¹æ•°æ®ï¼Œç”Ÿæˆ<strong>åŠ¨æ€Webå†…å®¹</strong>ã€‚<br> ç®€å•æ¥è¯´ <code>Servletæœ¬è´¨å°±æ˜¯å¤„ç†è¯·æ±‚åšå‡ºå“åº”çš„å®ç°ç±»</code></p><ul><li>å®¢æˆ·ç«¯å‘é€è¯·æ±‚è‡³WebæœåŠ¡å™¨ç«¯ã€‚</li><li>æœåŠ¡å™¨å°†è¯·æ±‚ä¿¡æ¯å‘é€è‡³Servlet</li><li>Servlet æ ¹æ®è¯·æ±‚å†…å®¹ç”Ÿæˆå“åº”å†…å®¹å¹¶å°†å…¶ä¼ ç»™æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li><img src="/assets/2022-11-29-22-30-28-Au8zBKMM.png" alt=""></li></ul><blockquote><p><strong>æœåŠ¡å™¨çš„ä¸‰å¤§ç»„ä»¶ï¼š</strong></p><ul><li>servletï¼šç”¨äºå¤„ç†è¯·æ±‚å’Œå“åº”</li><li>filterï¼šç”¨äºè¿‡æ»¤è¯·æ±‚å’Œå“åº”</li><li>listenerï¼šç”¨äºç›‘å¬æœåŠ¡å™¨çš„çŠ¶æ€</li></ul></blockquote><h3 id="å®ç°æœ€ç®€servletç¨‹åº" tabindex="-1"><a class="header-anchor" href="#å®ç°æœ€ç®€servletç¨‹åº" aria-hidden="true">#</a> å®ç°æœ€ç®€Servletç¨‹åº</h3><p><strong>æµç¨‹</strong></p><ul><li><p>ç”¨<code>maven</code>åˆ›å»º<code>javaWeb</code>é¡¹ç›®ï¼Œåœ¨<code>pom.xml</code>é…ç½®æ–‡ä»¶ä¸­å¯¼å…¥<code>Servlet</code>ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- providedè¡¨ç¤ºè¯¥ä¾èµ–ä»…åœ¨ç¼–è¯‘å’Œæµ‹è¯•ç¯å¢ƒæœ‰æ•ˆï¼Œå› ä¸ºè¯¥åŒ…åœ¨å…¶è¿è¡Œç¯å¢ƒï¼ˆtomcatï¼‰ä¸­æœ‰,å¦‚æœä¸è¿™ä¹ˆå†™ä¼šå¯¼è‡´å†²çª --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°<code>HttpServlet</code>ç±» æˆ– ç»§æ‰¿<code>GenericServlet</code>ç±» æˆ– å®ç°<code>Servlet</code>æ¥å£ç±»</p></li><li><p><code>é‡å†™</code> æˆ– <code>å®ç°</code> ç›¸åº”çš„æ–¹æ³•</p></li><li><p>åœ¨ç±»ä¸Šä½¿ç”¨æ³¨è§£<code>@WebServlet(&quot;/demo1&quot;)</code>,é…ç½®å…¶è®¿é—®è·¯å¾„</p></li><li><p>è®¿é—®<code>http://localhost:8080/demo1</code></p></li></ul><p><strong>å®ç°Servletæ¥å£ç‰ˆ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/demo1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO Auto-generated method stub</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO Auto-generated method stub</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// è·å–ServletConfigå¯¹è±¡</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO Auto-generated method stub</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// è·å–Servletä¿¡æ¯</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO Auto-generated method stub</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»§æ‰¿HttpServletç‰ˆ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªgetè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªpostè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»§æ‰¿GenericServletç‰ˆ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="servletç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#servletç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> servletç”Ÿå‘½å‘¨æœŸ</h3><p><img src="/assets/2022-11-30-17-04-42-42qWylRt.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterens<span class="token operator">=</span><span class="token string">&quot;/demo1&quot;</span><span class="token punctuation">,</span>loadOnStartUp<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * è°ƒç”¨æ—¶æœºï¼šé»˜è®¤æƒ…å†µä¸‹åœ¨è¯¥servletè¢«ç¬¬ä¸€æ¬¡è®¿é—®æ—¶,ç”±å®¹å™¨æ¥è°ƒç”¨init()æ–¹æ³•ï¼Œåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡
     *  * ä¿®æ”¹è°ƒç”¨æ—¶æœºï¼š loadOnStartUp 
     *      * é»˜è®¤å€¼ä¸º-1 è¡¨ç¤ºåœ¨è¯¥urlè¢«è®¿é—®åå†åˆå§‹åŒ–
     *      * å¯ä¿®æ”¹ä¸º1 è¡¨ç¤ºåœ¨æœåŠ¡å™¨å¯åŠ¨åä¾¿åˆå§‹åŒ–
     * è°ƒç”¨æ¬¡æ•°ï¼š1æ¬¡
     */</span>
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;urlè¢«ç¬¬ä¸€æ¬¡è®¿é—®...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterens<span class="token operator">=</span><span class="token string">&quot;/demo1&quot;</span><span class="token punctuation">,</span>loadOnStartUp<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * è°ƒç”¨æ—¶æœºï¼šurlæ¯æ¬¡è¢«è®¿é—®æ—¶è°ƒç”¨ä¸€æ¬¡
     * è°ƒç”¨æ¬¡æ•°ï¼šæ¯å½“è¢«è®¿é—®å°±è°ƒç”¨
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterens<span class="token operator">=</span><span class="token string">&quot;/demo1&quot;</span><span class="token punctuation">,</span>loadOnStartUp<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * è°ƒç”¨æ—¶æœºï¼šServletè¢«é”€æ¯æ—¶ï¼ˆå†…å­˜é‡Šæ”¾æ—¶ï¼ŒæœåŠ¡è¿›ç¨‹è¢«æ­£å¸¸å…³é—­æ—¶ï¼‰ï¼Œç”±å®¹å™¨æ¥é”€æ¯
     * è°ƒç”¨æ¬¡æ•°ï¼š1æ¬¡
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO Auto-generated method stub</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="httpservlet" tabindex="-1"><a class="header-anchor" href="#httpservlet" aria-hidden="true">#</a> HTTPServlet</h3><p><strong>ä¸€èˆ¬ç›´æ¥ç»§æ‰¿HTTPServlet</strong></p><ul><li>HttpServletæ˜¯æŒ‡èƒ½å¤Ÿå¤„ç†HTTPåè®®è¯·æ±‚çš„Servletï¼Œ</li><li>å®ƒåœ¨åŸæœ‰Servletæ¥å£ä¸Šæ·»åŠ äº†ä¸€äº›ä¸HTTPåè®®å¤„ç†æ–¹æ³•ï¼Œ</li><li>å®ƒæ¯”Servletæ¥å£çš„åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ã€‚</li><li>HttpServletåœ¨å®ç°Servletæ¥å£æ—¶ï¼Œè¦†å†™äº†serviceæ–¹æ³•ï¼Œ <ul><li>è¯¥æ–¹æ³•ä½“å†…çš„ä»£ç ä¼šè‡ªåŠ¨åˆ¤æ–­ç”¨æˆ·çš„è¯·æ±‚æ–¹å¼ï¼Œ</li><li>å¦‚ä¸ºGETè¯·æ±‚ï¼Œåˆ™è°ƒç”¨HttpServletçš„doGetæ–¹æ³•ï¼Œ</li><li>å¦‚ä¸ºPostè¯·æ±‚ï¼Œåˆ™è°ƒç”¨doPostæ–¹æ³•ã€‚</li></ul></li></ul><p><img src="/assets/2022-12-01-13-46-59-jB4apSTe.png" alt=""><br><img src="/assets/2022-12-01-13-48-03-QcelCzTZ.png" alt=""><br><img src="/assets/2022-12-01-14-22-54-Yq2zTEZm.png" alt=""></p><p><strong>ç»§æ‰¿HttpServletç‰ˆ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token string">&quot;/api/1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHttpServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªgetè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªpostè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="urlpatterné…ç½®" tabindex="-1"><a class="header-anchor" href="#urlpatterné…ç½®" aria-hidden="true">#</a> urlPatterné…ç½®</h3><p><strong>ä¸€ä¸ªurlPatternå¯ä»¥é…ç½®å¤šä¸ªè®¿é—®è·¯å¾„é…ç½®</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;/api/1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/api/2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHttpServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>urlPatterné…ç½®è§„åˆ™</strong></p><ul><li><p>ç²¾ç¡®åŒ¹é…</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;/api/1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/api/2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// è‹¥ä¸€ä¸ªurlåŒæ—¶æ»¡è¶³ç²¾ç¡®åŒ¹é…å’Œç›®å½•åŒ¹é…ï¼Œåˆ™ç²¾ç¡®åŒ¹é…ä¼˜å…ˆçº§æ›´é«˜</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç›®å½•åŒ¹é…</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;/api/1/*&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/api/2/*&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ‰©å±•ååŒ¹é…</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;*.do1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;*.do2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// ä¸èƒ½å†™ &quot;/*.do1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ä»»æ„åŒ¹é…</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p><strong><code>/</code>å’Œ<code>/*</code>åŒºåˆ«:</strong></p><ul><li>å½“é¡¹ç›®ä¸­çš„Servleté…ç½®äº†<code>/</code>åˆ™ä¼šè¦†ç›–æ‰tomcatä¸­DefaultServletï¼ˆä»–ä¼šå¤„ç†é¡¹ç›®ä¸­é™æ€é¡µé¢çš„è®¿é—®ï¼Œå¦‚index.htmlï¼‰ï¼Œå½“å…¶ä»–çš„url-patternéƒ½åŒ¹é…ä¸ä¸Šæ—¶éƒ½ä¼šèµ°è¿™ä¸ªServlet</li><li>å½“é¡¹ç›®ä¸­é…ç½®äº†<code>/*</code>ï¼Œæ„å‘³ç€åŒ¹é…ä»»æ„è®¿é—®è·¯å¾„</li></ul><p><strong>ä¼˜å…ˆçº§</strong></p><p><img src="/assets/2022-12-01-15-03-09-fnh3MoDA.png" alt=""></p><h3 id="xmlæ–¹å¼é…ç½®servlet" tabindex="-1"><a class="header-anchor" href="#xmlæ–¹å¼é…ç½®servlet" aria-hidden="true">#</a> xmlæ–¹å¼é…ç½®Servlet</h3><p><img src="/assets/2022-12-01-15-05-38-Ng8k81Jl.png" alt=""></p><h3 id="requestå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#requestå¯¹è±¡" aria-hidden="true">#</a> Requestå¯¹è±¡</h3><h4 id="requestç»§æ‰¿ä½“ç³»" tabindex="-1"><a class="header-anchor" href="#requestç»§æ‰¿ä½“ç³»" aria-hidden="true">#</a> Requestç»§æ‰¿ä½“ç³»</h4><p><img src="/assets/2022-12-01-15-37-24-JgAW3STB.png" alt=""></p><h4 id="requestå¸¸ç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#requestå¸¸ç”¨æ–¹æ³•" aria-hidden="true">#</a> Requestå¸¸ç”¨æ–¹æ³•</h4><p><img src="/assets/2022-12-01-16-03-32-QEZiNTWG.png" alt=""><br><img src="/assets/2022-12-01-15-56-36-t7uo4Jvj.png" alt=""><br><img src="/assets/2022-12-01-15-58-24-mHpKODdw.png" alt=""></p><h4 id="é€šç”¨çš„è·å–å‚æ•°çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é€šç”¨çš„è·å–å‚æ•°çš„æ–¹æ³•" aria-hidden="true">#</a> é€šç”¨çš„è·å–å‚æ•°çš„æ–¹æ³•</h4><p><strong>ç”±äºä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼ˆget,postï¼‰éœ€è¦ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥è·å–å‚æ•°ï¼Œè¿™é€ æˆäº†ä¸€å®šçš„ä¸æ–¹ä¾¿</strong></p><p><img src="/assets/2022-12-01-16-09-00-v6c4MVKk.png" alt=""></p><p><strong><code>é€šç”¨çš„</code> è·å–è¯·æ±‚æ•°æ®çš„ æ–¹å¼</strong></p><p><img src="/assets/2022-12-01-16-25-19-1mJGgdJ9.png" alt=""></p><p><strong>æµ‹è¯•ä»£ç </strong></p><p><img src="/assets/2022-12-01-16-52-38-kFhwjINH.png" alt=""></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>æ”¶åˆ°ä¸€ä¸ªgetè¯·æ±‚
userName:<span class="token punctuation">[</span><span class="token number">2449695354</span>@qq.com<span class="token punctuation">]</span>
password:<span class="token punctuation">[</span><span class="token number">123123</span><span class="token punctuation">]</span>
readMe:<span class="token punctuation">[</span>true<span class="token punctuation">]</span>
autoLogin:<span class="token punctuation">[</span>true<span class="token punctuation">]</span>
hobby:<span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    userName:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>readMe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>readMe <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>autoLogin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>autoLogin <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç†¬å¤œ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ•²ä»£ç  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ‰å¤´å‘ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¶åˆ°ä¸€ä¸ªgetè¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> paramMap <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> paramMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>paramMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// ï¼ˆå¦‚æœè¦å®ç°ä¸€ä¸ªæ¥å£æ”¯æŒä¸¤ç§è¯·æ±‚æ–¹å¼ï¼‰</span>
        <span class="token comment">// ç”±äºç»Ÿä¸€äº†è·å–è¯·æ±‚å‚æ•°çš„æ ¼å¼ï¼Œæ•…å¯å°†postè¯·æ±‚è½¬äº¤ç»™dogetå‡½æ•°</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è§£å†³requestè¾“å…¥æµä¸­æ–‡ä¹±ç çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è§£å†³requestè¾“å…¥æµä¸­æ–‡ä¹±ç çš„é—®é¢˜" aria-hidden="true">#</a> è§£å†³Requestè¾“å…¥æµä¸­æ–‡ä¹±ç çš„é—®é¢˜</h4><blockquote><p>æ³¨ï¼šæ–°ç‰ˆtomcat8.0ä¹‹åå·²å°†getè¯·æ±‚ä¹±ç é—®é¢˜è§£å†³ï¼Œè§£ç æ–¹å¼ä¸ºUTF-8</p></blockquote><p><strong>POSTæ–¹å¼ä¹±ç çš„è§£å†³</strong></p><p>ç”±äºPOSTæ–¹å¼çš„æ•°æ®æ˜¯ä»¥åŸå§‹æ ¼å¼æ”¾åœ¨è¯·æ±‚ä½“ä¸­çš„ï¼Œåˆ°è¾¾æœåŠ¡ç«¯åï¼Œåº•å±‚æ˜¯é€šè¿‡getReader()æ–¹å¼è·å–åˆ°çš„,é»˜è®¤ä¼šä»¥<code>ISO-8859-1</code>è§£ç ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è®¾ç½®è·å–æµçš„ç¼–ç æ–¹å¼æ¥è§£å†³è¯¥é—®é¢˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è®¾ç½®è¾“å…¥æµç¼–ç </span>
<span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> paramMap <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç„¶åå°±èƒ½è·å¾—æ­£å¸¸çš„æ•°æ®äº†</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>GETæ–¹å¼ä¹±ç çš„è§£å†³ï¼šåŸç†è§£é‡Šèµ·æ¥æ¯”è¾ƒå›°éš¾</strong></p><blockquote><p>è¿™ç§æ–¹å¼ä¹Ÿèƒ½è§£å†³postçš„ä¹±ç </p></blockquote><ul><li>GETæ–¹å¼çš„è¯·æ±‚æ•°æ®æ˜¯æ”¾åœ¨URLä¸­çš„ï¼Œä½†URLæ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œ</li><li>æµè§ˆå™¨ä¼šå°†ä¸­æ–‡ä»¥<code>UTF-8</code>æ ¼å¼è¿›è¡Œ<code>URLç¼–ç </code><ul><li><img src="/assets/2022-12-01-17-26-05-hJV1EOl6.png" alt=""></li></ul></li><li>TomCatæ”¶åˆ°åä¼šä»¥<code>ISO-8859-1</code>æ ¼å¼è¿›è¡Œ<code>URLè§£ç </code><ul><li><img src="/assets/2022-12-01-17-22-07-OcYkllXr.png" alt=""></li></ul></li><li>é—®é¢˜åœ¨äºæ— æ³•ä¿®æ”¹è¿™ä¸ª<code>ISO-8859-1</code>æ ¼å¼ä¸º<code>UTF-8</code></li><li>æ‰€ä»¥éœ€è¦å°†å¾—åˆ°çš„æ•°æ®é‡æ–°ä»¥<code>ISO-8859-1</code>æ ¼å¼<code>è§£ç </code>è·å–å­—èŠ‚ç </li><li>ç„¶åå†å°†å¾—åˆ°çš„å­—èŠ‚ç ä»¥ä»¥<code>UTF-8</code>æ ¼å¼è§£æä¸ºå­—ç¬¦ä¸²</li></ul><p><strong>URLç¼–ç </strong></p><ol><li>å°†å­—ç¬¦ä¸²æŒ‰ç…§ç¼–ç æ–¹å¼è½¬ä¸ºäºŒè¿›åˆ¶</li><li>æ¯ä¸ªå­—èŠ‚è½¬ä¸º2ä¸ª16è¿›åˆ¶æ•°å¹¶åœ¨å‰è¾¹åŠ ä¸Š%</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLDecoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLEncoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> userName <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// æµè§ˆå™¨åšçš„äº‹</span>
        <span class="token comment">// ä»¥ ISO_8859_1 ç¼–ç  URL</span>
        <span class="token class-name">String</span> userName_Browser <span class="token operator">=</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userName_Browser<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼š %E5%BC%A0%E4%B8%89</span>

        <span class="token comment">// TomCatåšçš„äº‹ï¼Œ</span>
        <span class="token comment">// ä»¥ ISO_8859_1 è§£ç  URL</span>
        <span class="token class-name">String</span> userName_TomCat <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>userName_Browser<span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">ISO_8859_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userName_TomCat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼š ??????</span>

        <span class="token comment">// ä½œä¸ºServletå¼€å‘äººå‘˜è¦åšçš„äº‹ï¼Œ</span>
        <span class="token comment">// ä»¥ ISO_8859_1 è§£ç  `ä¹±ç å­—ç¬¦ä¸²` è·å– `å­—èŠ‚æ•°ç»„` ï¼Œ ç„¶åä»¥UTF_8å­—ç¬¦é›†ç¼–ç è§£æ `å­—èŠ‚æ•°ç»„` è·å– `å­—ç¬¦ä¸²` </span>
        <span class="token class-name">String</span> userName_Servlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>userName_TomCat<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">ISO_8859_1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userName_Servlet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼š å¼ ä¸‰</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢forward" tabindex="-1"><a class="header-anchor" href="#requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢forward" aria-hidden="true">#</a> Requestå†…éƒ¨è¯·æ±‚è½¬å‘è½¬å‘æµè½¬ç»™jspé¡µé¢Forward</h3><p><img src="/assets/2022-12-01-19-57-28-Zjn0FBHM.png" alt=""></p><blockquote></blockquote><p><strong>æ–¹æ³•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/api/2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¼ é€’æ•°æ®çš„ä¸€äº›æ–¹æ³•</strong><br><img src="/assets/2022-12-01-20-46-36-E5P9X3ka.png" alt=""></p><p><strong>ç»ˆç«¯è¾“å‡º</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/api1 è¢«è®¿é—®
/api/2 è¢«è®¿é—®
testçš„æ•°æ®ä¸º: testçš„æ•°æ®
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span> <span class="token comment">// è¯¥ç±»éœ€ä¸ºpublic</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;/api/1 è¢«è®¿é—®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;testçš„æ•°æ®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è½¬å‘ç»™ &quot;/api/2&quot; çš„å¤„ç†å‡½æ•°</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/api/2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span> <span class="token comment">// æ³¨æ„ è¯¥ç±»éœ€ä¸ºpublic</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;/api/2 è¢«è®¿é—®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token string">&quot;testçš„æ•°æ®ä¸º: &quot;</span><span class="token operator">+</span>req<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="responseå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#responseå¯¹è±¡" aria-hidden="true">#</a> Responseå¯¹è±¡</h3><p><strong>å®ç°å…³ç³»</strong></p><p><img src="/assets/2022-12-01-21-33-06-gXjtFNd-.png" alt=""></p><h4 id="responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»" aria-hidden="true">#</a> Responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»</h4><p><img src="/assets/2022-12-01-21-39-13-rfbbp481.png" alt=""></p><h4 id="responseå®Œæˆé‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#responseå®Œæˆé‡å®šå‘" aria-hidden="true">#</a> Responseå®Œæˆé‡å®šå‘</h4><p><img src="/assets/2022-12-01-21-41-02-oUuJJE9a.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;/api/1 è¢«è®¿é—®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è®¾ç½®å“åº”è¡Œ</span>
        resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®ç›¸åº”å¤´</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/api/2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ç­‰æ•ˆçš„ç®€åŒ–å†™æ³•</span>
        <span class="token comment">// resp.sendRedirect(&quot;api/2&quot;);</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="responseå“åº”å­—ç¬¦æ•°æ®" tabindex="-1"><a class="header-anchor" href="#responseå“åº”å­—ç¬¦æ•°æ®" aria-hidden="true">#</a> Responseå“åº”å­—ç¬¦æ•°æ®</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PrintWriter</span> wr <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
wr<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;æµ‹è¯•&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/a&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet0</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿å…¶æ”¯æŒä¸­æ–‡ ï¼Œå› ä¸ºï¼Œresponseè·å–åˆ°çš„è¾“å‡ºæµé»˜è®¤ä¸ºIOS-8859-1</span>
        <span class="token class-name">PrintWriter</span> wr <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨æ„PrintWriterä¼šéšç€respçš„å…³é—­è€Œè‡ªåŠ¨é”€æ¯</span>
        wr<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;æµ‹è¯•&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="responseå“åº”å­—èŠ‚æ•°æ®" tabindex="-1"><a class="header-anchor" href="#responseå“åº”å­—èŠ‚æ•°æ®" aria-hidden="true">#</a> Responseå“åº”å­—èŠ‚æ•°æ®</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">OutputStream</span> os <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">OutputStream</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOUtils</span></span><span class="token punctuation">;</span> <span class="token comment">//commons-io IOUtilsæ˜¯æµçš„å·¥å…·åº“</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/a&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet0</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;./123.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>is<span class="token punctuation">,</span> os<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ‹·è´</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‹·è´å®Œæ¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ¡ˆä¾‹-å®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹-å®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹" aria-hidden="true">#</a> æ¡ˆä¾‹ï¼šå®ç°ç™»å½•æ³¨å†Œæ¡ˆä¾‹</h3><p><strong>æ³¨å†Œ</strong><br><img src="/assets/2022-12-02-21-44-16-pH6Z0iq1.png" alt=""><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVsAAABrCAIAAABWoLajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATvSURBVHhe7d0/TyJpAMfx4V4FJFhMsq2NlZDYmPgCDuImO5RX2hk79QrFbmO35ZZgooF9AZdsCVY225pQSALvYvb5h79hZlDkaO7y/TTOMMNA83yZZ2YSK2maRgDg/BH+AgBFAJBFEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQDI+0WY37Urn/tzvzLtt1+Xt+jxplK5GfvPujZ/32O+htsfwHYtFWF8Xcm7HlcP2q2Hwc+pG647g/bpYdjbs4P5TesUpB63/MLBt1HU9HXY1Nh+oXWyAqBgqQiNy1ReemaUdo8aUT05uxp2diq1H+1ZOkj2q5PrSvtuMcz3z8P+pcbdsNt6qvWq+Q6zl8N4aldtg3L8UJ9OhvYPgG0LQ9cZXUXdsV+c9Y6jVn/mV1wdWr0Xu2j2MaEYuZffZ4pw3FscxVm7Ecuf7j/RfqsVXr/S8jcH8BHZc4R5fNR7atjf//F1rbM7Gnyphi31ZDDe65y2zU9285cZ4eeNsMFwZ+mrNC7CXlm5Rhga86JPl2py77bZrGT2/+CZCIBVskWoVveTQTraS2rNaJQe/Qyj2mtEvT+joRnM98nySG28NW1Yc6zW473oaeJmCus6juOw5ORWAWxk+V6DvUzYjMzE4bJRuEBwnnwZpKeTWqVy8xh239BDxxzklS5JBPP+5+KLS+aTp7AEYKtUBHsZ7zaepbP4NozVEo0LM0U//McstfvTN+cLnpk1LMa/OqJZg53z78XmnCOOj4f+HGF+d9J56J6VTBlk8jyMdu3bPAIBbIuKUDWnAIsZweL6Yp67rOhvSQySeul8YeTmCSWXHs/37YYVqvGumTbMo2n/JBl2x9nrFEXzyS93EwTAti3PGj5ONwj13EGr14++utP+sDXzSIL9PdfP+2TyEJbiT63hj5P2Tmd4NVrRDjubsHcfH7+bk4jDlX2xVx/LrkoCeF95ES4abpAXNP8OO8jBt3AOcJ+45xQm7sXzs2c7V6g9n9lNt3qoyZzwtz4tLgJOTR5acd0uuueghvbK5aX98bcpCR0Z35hMRBfNykl0m6aXcf/WzFz+yp8hZCYRADbnRnPerN8q3NI304GSuYATHhNwbzG7ZZ5cuMq9I2z1sw9rsUN4Jbt6NXIvhqN59pXCzUu/c1jx05b85wJYS3kRwgOLmasJbih2R5nB6firBtk9VQTDlCW71a4WH0YIBzEHtx/qsmITU7iW4btTrFLukSSKAGxuRRGM7OOGuSeCvKVqhDRYhdG4+Kk3Q3fpB99SBbzX4+Q+zuUgc2R3zFerTl4AfEzmf0M/3pQ/YljODMK37wgA+O/hv8UDkH979xHA/wlFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAYBQBABCEQAIRQAgFAGAUAQAQhEACEUAIBQBgFAEAEIRAAhFACAUAcBCFP0GkewR+DtJjw4AAAAASUVORK5CYII=" alt=""></p><p><strong>æ³¨å†Œ</strong><br><img src="/assets/2022-12-02-21-43-58-3AKxngAy.png" alt=""><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAc8AAABRCAIAAAA7Abr7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATASURBVHhe7du/TttaHMBxc58iSGGI1LULU4PUBakvkIhKhfGOrN0aGGjYqm4dr+5EkIrIfYBKHQkTS9dKGUAib5HrYxsc/gWQ4FeGz0dqsd3j4Onbk2N7YTqdZgA8s7+qnwA8J7UFiKC2ABHUFiCC2gJEUFuACGoLEEFtASKoLUCEebWd7HcXPo+qnUtng+5Cd3BW7T2L492Fhd38F99+ATelS0rjAV6suXPbt93+9koZvlpz/XC0vLF0e3BHnxdm7R7fcrC7PynG3q3Z6pQbb78dZTcu4HFGeblvS/Zk8L66PIAA82rbaK5/mp7vrfW+7I/yNtXavSwbbixVe8lMzjqD82mSn1gdyV0cnB7tVEceotFstLem56erraLsaap7Tfl7z8bD9OOhivovbhxUuwAB7l23bax/nx5+aOd/10b9bG2vymdpq10Nf6y0aHDD0sYw6+Vz2tLi0sriUpoRNz4cpt91utfJ+kdp63zvVzEq1b8eX7icDrdaa1nnVavaK6a6P9+VHwIQ5+7ahi2GXgt3ru5p7fBDoxpfS/8TJHn9Z8en3bu0P02nn95UOwBh5sxtVz8OTtKiafziZrO1nJ2MH3Ujbq11OX1Nru0C/Gl317bZaOff3Ef9XvthM9w0F15Y2c6G64vFd/m0MNprp62Zg/V2HfGDjerfCjfuoaXbWfNvrE3GJ9UWwEt137rtm/TNu33tDlW7dzWRRY6b64fFTbDZu2T9UdqaOVhv11/n65WEdMpyq1Estg7Lue1kf3PjoP/xlmWE2vj3MHudTiuJL/AC3Vfbi0dfqztUpet3yVKOn1Sj9To7GU/y+fLm+rA/mv/5k/GvrP/uqS8B4EndU9vRj162s/rgkqXwFZPTh0rz0HpaOh5fPJXVetUZ/rfZXdoY7hzdcVMrrTCkJ8CO/8knv6t33vgqn6l4xCUBPIf5tR393H7UtDHPZafVrHYupA+5K8Hj38P68ayzPL3V6Y233c7BcJjPoItny9I6xvtBsXY72q2eD9vMvk6nW63B115n8Pf1S5xZWAB4CebW9vhnL5szbbwhjV++Xtt5H5KHuNN926heNksz2Y/rxemjf/Ok1tEsV2bHadiX1mm5fHGYjxx9XtzI9r5dnbqmwbW73iUDCDWntpN82vioZYRbp5mjH7fNPQuT/S+9te5qM2tvlQEt35JIfVzZ7h+d7nW2V4qnEaqV2WJYimx59uB9Mez7+tVpbBo88zoDwMtQVu4WxdtW5UMF54N7X7zqH02P+tWts6OLtwuKg+V7BzPvbpWfWTyB0NmrJqoXimGXDzBc/ahZxWvBO/Wxqy8EXxsM8Oct5H+qRgHwbO57AgyAp6C2ABHUFiCC2gJEUFuACGoLEEFtASKoLUAEtQWIoLYAEdQWIILaAkRQW4AIagsQQW0BIqgtQAS1BYigtgAR1BYggtoCRFBbgAhqCxBBbQEiqC1ABLUFiKC2ABHUFiCC2gJEUFuACGoLEEFtASKoLUAEtQWIoLYAEdQWIILaAkRQW4AIagsQQW0BIqgtQAS1BYigtgAR1BYggtoCRFBbgAhqCxBBbQEiqC1ABLUFiKC2ABHUFiCC2gJEUFuACGoLEEFtASKoLcDzy7L/AWmq/ldUqp4YAAAAAElFTkSuQmCC" alt=""></p><p><strong>æ•°æ®å‡†å¤‡</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> db6<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> tb_user<span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    password <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 
    tb_user<span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
    <span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">&quot;ç‹äº”&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é¡¹ç›®ç›®å½•ç»“æ„</strong></p><p><img src="/assets/2022-12-02-21-37-23-dNTni2kq.png" alt=""></p><p><strong>pom.xml</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.webapptest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>webapptest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
  

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>web Maven Webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- FIXME change it to the project&#39;s website --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://www.example.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.31<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>10.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat7-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>8080<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-clean-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-resources-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.22.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-install-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-deploy-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>mybatis-config.xml</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- å¡«mysqlçš„é©±åŠ¨çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql:///db6?useSSL=false<span class="token entity named-entity" title="&amp;">&amp;amp;</span>useServerPrepStemts=true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«mysqlæ•°æ®åº“çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„username --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„password --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.mapper<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- ä½¿ç”¨è¿™ç§Mapperä»£ç†çš„æ–¹å¼ä¾¿å¯ä»¥ç”¨è¿™ç§åŒ…æ‰«æçš„å†™æ³• --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>UserMapper.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Insert</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>
<span class="token comment">// import org.apache.ibatis.annotations.Select;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">User</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from tb_user where username = #{username} and password = #{password};&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">selectUserByUsernameAndPassword</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO tb_user(id,username,password) values(null,#{username},#{password});&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">int</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>UserMapper.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.mapper.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- namespaceæ”¹ä¸ºæ¥å£ç±» --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token comment">&lt;!-- idä¸ºæ¥å£çš„å‡½æ•°å --&gt;</span>
    select * from tb_user;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectUserById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUserById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_user where id = #{id};
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>pojo/User.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> id<span class="token punctuation">;</span> 
    <span class="token class-name">String</span> username<span class="token punctuation">;</span> 
    <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;User [id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, username=&quot;</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token string">&quot;, password=&quot;</span> <span class="token operator">+</span> password <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Login.java</code></p><ul><li>è¸©å‘è®°å½•ï¼ŒWebServletçš„å®ç°ç±»éœ€æ”¾åˆ°<code>/src/main/java/</code>ç›®å½•ä¸‹</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectUserByUsernameAndPassword</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Register.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Register</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> affectedRows<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// å› ä¸ºç”¨æˆ·åæ˜¯unique æ’å…¥å‡ºé”™åˆ™ç›´æ¥æç¤ºæ³¨å†Œå¤±è´¥</span>
            affectedRows <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span><span class="token operator">+</span> affectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥!&quot;</span> <span class="token operator">+</span> affectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>login.html</code></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        userName:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç™»å½•<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>register.html</code></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ³¨å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/register<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        userName: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ³¨å†Œ<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¼˜åŒ–-æŠŠsqlsessionfactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#ä¼˜åŒ–-æŠŠsqlsessionfactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»" aria-hidden="true">#</a> ä¼˜åŒ–ï¼šæŠŠSqlSessionFactoryä¼˜åŒ–ä¸ºå·¥å…·ç±»</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>datebase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DBSessionPool</span> <span class="token punctuation">{</span><span class="token comment">// æ•°æ®åº“è¿æ¥æ± </span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SqlSession</span> <span class="token function">getSession</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> isAutoCommit<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span>sqlSessionFactory<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
            <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span>sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// è·å–SqlSessionï¼Œç”¨å…¶æ¥æ‰§è¡Œsqlè¯­å¥</span>
        <span class="token keyword">return</span> <span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span>sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span>isAutoCommit<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä»æ•°æ®åº“è¿æ¥æ±  è·å– sqlSession</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>datebase<span class="token punctuation">.</span></span><span class="token class-name">DBSessionPool</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>


         <span class="token comment">//ä»æ•°æ®åº“è¿æ¥æ±  è·å– sqlSession</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> <span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectUserByUsernameAndPassword</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jsp-java-server-pages-javaæœåŠ¡ç«¯é¡µé¢" tabindex="-1"><a class="header-anchor" href="#jsp-java-server-pages-javaæœåŠ¡ç«¯é¡µé¢" aria-hidden="true">#</a> JSP(Java Server Pages)JavaæœåŠ¡ç«¯é¡µé¢</h2><blockquote><p>ç®€å•äº†è§£å³å¯ï¼ŒJSPå·²ç»é€æ¸é€€å‡ºå†å²èˆå°äº†ã€‚<br> JSPæœ¬è´¨å’ŒPHPç±»ä¼¼<br> JSPå·²ç»é€æ¸è¢«AJAXæŠ€æœ¯å–ä»£äº†</p></blockquote><blockquote><p>JSP=HTML+JAVA</p></blockquote><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlAAAACuCAIAAAB2h6RSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA3ASURBVHhe7d1NaBtnHsfx8ZKCAinYsAcZXKhCCmuzActswBLkkAlZiMIeKuNCJFpIXQpZm4Wu08CuFR8cuYXEbg+N20MbChusQIKVQ4lzMJ4eDBpDFimQYBVqVoUELGihgg1EsAGtXp4ZjRQrkvySOvl/PwjyzOPx+NEE9PPzNu4oFAoaAACvut+pfwEAeKUReAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBE+O3/AGw+l8uroquz01UpbVr56nuazz1u630LvU8AsAXP7eEVP04t+aeqro7zFFXVHnO2y/JhPKsqs/EPVV1X16ypKneAo7Wbt9d5wiZvuRhItq293ef7d/VmjNyybsZzPIqPqNNrz3e287GqAwDhnhd42Vv2x2nX7L9VZa1N42rvSn+rq9Z2delfpVRtVWrumPpqUfhm/Rty3pDIUk7V7kGO4Oz6fAd/YQCAl5isOTyvb8itilrKTNcH2npy8Z4qFsVXknWZlrkfUyUt6Pd2quLe5t7HQCcAlAhbtNLvC6uSpt1MrtUOS2bvLhqqWHYrlValiszaqippJwK+HlXci3o8QVXS/G92qxIAyCYs8Fx9/ndVUdOM1A+qVJZLrsRVsSJrrK2rYkkunVpSRe/JAY8qAgBeDi8i8OwVFI1WvmxNdWFGG+sy3N6juipqqeSPjkHNfNL4qlLS9ROVgrF413HCempBldxDPq8q1tpSk8rf1eL59moUlqIAQJt2NfDy6VvT4cPd+9Xyia79rx08dT6W3uZqj1w6fjHc191hX7br9Y7uw+HZO5lWFk56jgTssIrdz6hS0T1zvlIYDgQOVUpaPFUd9cykk1b6DXn/oEpKy03KXh/qsEyvavl7c0Nvlb/r/Vj9hGKdp1nj8tDB16yf8Hr38b/HMzv6CwQAvNp2L/Byxj/1vmAk9sD5SZ5ZvBzuO/JB/Cd13K78D1fDvX1Dk7G6BSfZB7FzgYP63xYdCdZAv7+6cOW7hL1SM2UuVC7p9elBr9ULvGZaJ+TSpjXgOewfcCxY2XqTMvGRk2Nx56hpI49Ts0Hv8fNxx6WyxudDQ+cXNv/lYZ/LXqnS+4b9bgFAtFYD7+pHx4//+dnX+FX19XqZr8PHP60siHfrH31z21hejl8ZGSxXrF8dvbS4lW7eL4vnjn1gd4U8gyPjl2YmzgZ6rY9084tT4U9Tzfp5Xp89jXcvmVFXyyTvVKKtNFxZ7QVWp/EyqVuVgqaf8FUzZBtNWrgUbdatq8invhg99511qrs39PHMzIXRYjc0dTNes8rG5u7uUyVt/z5VAADpCo1txOy1fi0Ynt9Q31co/Hx71PrE900lnqjaQiE1Yw0nBr75sVKViKoa5xU25odVnaZFE6qykLxUnTkLfrlWveyviWglSktGFn5W1Y1s3AipczVtYqVc9XDeeqvjy6XrJibUoRa6UW5Uxj7BO5MqVVS026TaW+rWL9z+z69PCv97svGw+E+hYFZvRjBm3YyfF0ZUXfE7Rqvv7r/OH+E4v6R6V6OmqgIA4XZlSDNnLs6pDklw7IyvuhGs3z+kSotGqqXejUNq8TNrfLF/JnK2t3rZTt/oeTsUrhpmk96j26vbC1fMdGmYMJdKqPHKs/pA6bq9/rOVYy12tzSNl/8xqU5wD/n7K6Wi7TVpeHZ+KuDpdGn7XO6ehs8Fy5mG3Y0e+TIa/L0qawd8E59HGa8EgBa1GniBszMzl559jQbU12tkHljrGbXUlfc3HwJte8Xmo+qiEe0v/mrHqqzzsM/OsIUHzSbyDg0ErNAyVorBm0+uzFUOg77e8vRc58BRqyt2zUxrWvqBNXb4trdXlbbbpNCw3kpcOW5mUK/b7d7j8atSI26NIU0AKGs18PzvjY9//OwrvOkHbv6pnQMZc8kwqi+zWRa15jX1b5Vrvx0F2afNZvE0rz9oZc21ZOZpyrxWOfD6D6v9de4jARVXWSO5ns2kVE8ueNS5YMWh/Sb1tbacxHEztZbTy+VSie730AcEgLLdW6VZERit7xSqV8DTaAxvS37ZsKPUe6D5lb2D9hNXzLXv1oxKpjiHKw/1Wf0vw7hrJFUi6oEjLQdIm03aioa95N7w18vLRvEV0e0hUACQbVcCz+22B/Py3rfrOoXqNTK4eU+poR7PgJ01K2t1PcVcJm1Npmn6H6uDjo24DvuthStGaimlxivfde4nry7mNO7cVs8Y6w8MWFv0Sna0SY04bmY8ma7pKeZSRu2zYWwu9590/Vjx5XXvTtQCwEtnVwLPsbnbmPuX8cyCjVz2l6ajjs/y+s5Y8bIUiVxz5EvOnLtkTQ66JwJHW/iMd3utx6loC7fUJNno0fKCFcU1cHS0UsouGYlywR2sm6jb0SY14DlcneqbnZw17Wes5IyZqUa7QrTs93Nj7wyNXY6neSYLAJTtzpBmfzjyrvqUTl083qt/EPk2bnxvGHdic5Njp97qGt3K39Zx6X+dC6mrZmPvHTwYGItcnp09H+7r9UfUY53doc9G9JbCxTNwUoVXNlsZ0NS9lQUrls5ea/+5dcZQf11HbWeb1MBg4Jy9/WA14veeGpus/Ijj046/7eCU/z7i1cfmbsbnzg/pnxhb+OUCAF5BanvCZpybxhps59p0F11Z7S6xOo5NY23swyt6YkYbL21065849vw1Zdau6e+fSaov2JIz1R0IRcH5h+oLTm01qckt3XQfXvlH+FS1kzs0NWFfznl+zW6/uv8XAJBq1xatHPBNLK0tTIXsZ45YPL4z0ZEjbU7gWVyDE8up5StnA3V/rMBzcvSKkVr+h2PPX1POPxVUTI/64coix2LOogZ/Emgnm9RA8UcY6fnxY47GuPXxeGL+jP1AlRruE6Pj6rcNz8jpljY/AMArr6MYeqq4W/K5XP7Xn5JZV1+v2+XqbLjDuj1P87nHuY0fMtqbvd0HOjsPqOrf0u43qXgrN34qXt/T3fQ2lhqT1/btjTsDAHvACwg8AAB+e7u9Dw8AgD2BwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACLsYuCZFzs6OqbNysHqdOlgtXIAAMCL1jjwHsWGOjqGrmfVoSV7vVQde6QOX5Rs7J2OjosqPcvKNRZHO81StNawQhcAINjLOaRZCuPu8OFEwXJufbQmg6fsL23MD0f8ZB4AiPdSBl52ZSGuRRMXfOpY03wXFkI9qlzLHfpsPqhFZp7pqgIARNmJwCvPzyk1o47PUx4atbXXA8usx1WpFT2eAVUCAMi17cArpp0vEjUr44eJ6KS/lcwzL3Z0hwbsYcfEVMTfzryg51BQ0yL+FsP1USapaQMetzoEAIjUJPDioW7VB7N0h5y9K3PaF9GmEhODlUPfSCyoTRpNgmh12j+pRc0Je0TSdyER1eLhb1vt5rlPLySmNK0Yrs1XfprTb4Tjw/MjqoUAAKGaBF4wtqF6YZaNYqTZVo2IpkVPVOfS3KXhw2TmuX01c6n0TXpNAvn0YoDdz7Q+z+a7UCg8nC919HzF1Humd1jOwjJ/ZCpRuBGifwcAwu3AHF45cizFDp8Wf37glQx7PKrkcDOTUaXW9IQWiglcir14+I3arl51lWah4FjbAgAQa/uBF5x/qJLFZo1wNrZptm2agk2VYi8RLebuUlsLXwAAsmwv8Ab1qBZfWGlvxb/vRCmejJq5N9OY1IJv640HHjOZm1rwUKNA9HiGVQkAgE1ts4dXWqUSD3VXhxNXp5uv0hwcmR/WIr7qVgTzoj+iRc+dbph32eszzhPMi7WPgFm9Gr5ZM5VYr/zUGNUwR7myNYIHngGABNsd0nSfXtiIBavTeEt6C3Nm7tCNylYExX9/fqNQXbTpoJ4TVt7D4FzVWTi37lg+6tMSrYyjAgAE6ygUCqoIAMCrawdWaQIAsPcReAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAgAoEHABCBwAMAiEDgAQBEIPAAACIQeAAAEQg8AIAIBB4AQAQCDwAggKb9H9AnnsC2XwMsAAAAAElFTkSuQmCC" alt=""></p><p><code>{{ProjectRoot}}/src/main/webapp/index.jsp</code></p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
  &lt;body&gt;
  &lt;h2&gt;Hello World!&lt;/h2&gt;
  &lt;%
    &lt;!-- System.out.println(&quot;Hello JSP...&quot;); --&gt;
      out.println(&quot;Hello JSP...&quot;);
  %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¼–è¯‘åå¤§æ¦‚çš„æ ·å­</strong></p><p><img src="/assets/2022-12-02-23-43-04-AkizQOEm.png" alt=""></p><p><code>pom.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.1-b03<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>JSPæœ¬è´¨å°±æ˜¯ä¸€ä¸ªServlet</p><p>JSPåœ¨è¢«è®¿é—®æ—¶ï¼Œç”±JSPå®¹å™¨(Tomcat)å°†å…¶è½¬æ¢ä¸ºJavaæ–‡ä»¶(Servlet)ï¼Œåœ¨ç”±JSPå®¹å™¨(Tomcat)å°†å…¶ç¼–è¯‘ï¼Œæœ€ç»ˆå¯¹å¤–æä¾›æœåŠ¡çš„å…¶å®å°±æ˜¯è¿™ä¸ªå­—èŠ‚ç æ–‡ä»¶</p></blockquote><p><img src="/assets/2022-12-02-23-38-51-HlFE91DZ.png" alt=""></p><p>JSPè„šæœ¬æ ‡è®°åˆ†ç±»</p><p><img src="/assets/2022-12-02-23-43-37-t1fxuGJ2.png" alt=""></p><p><strong>ç¼ºç‚¹</strong></p><p><img src="/assets/2022-12-03-00-04-24-OPGzpZw9.png" alt=""></p><h3 id="servlet-jsp" tabindex="-1"><a class="header-anchor" href="#servlet-jsp" aria-hidden="true">#</a> servlet+jsp</h3><blockquote><p>è¿™ç§æ–¹å¼çš„ä¸»è¦è§£å†³javaä»£ç å’Œhtmlä»£ç æ··åœ¨ä¸€èµ·éš¾ä»¥é˜…è¯»çš„é—®é¢˜ï¼Œ<br> æ ¸å¿ƒåŸç†æ˜¯ï¼Œ</p><ul><li>å°†éœ€è¦çš„æ•°æ®åœ¨servletä¸­å°è£…å¥½ï¼Œ <ul><li><code>req.setAttribute(&quot;test&quot;, &quot;testçš„æ•°æ®&quot;);</code></li></ul></li><li>ç„¶åé€šè¿‡é€šè¿‡å†…éƒ¨è½¬å‘æµè½¬ç»™jspé¡µé¢ <ul><li><code>req.getRequestDispatcher(&quot;/api/2&quot;).forward(req, resp);</code></li></ul></li><li>jspé¡µé¢é€šè¿‡ <code>ELè¡¨è¾¾å¼è¯­è¨€</code> è¯»å–å°è£…å¥½çš„æ•°æ®</li></ul></blockquote><p><strong>ELè¡¨è¾¾å¼</strong><br><img src="/assets/2022-12-03-00-24-06-_JCHkgpE.png" alt=""><br><img src="/assets/2022-12-03-00-26-07-ubaI7ZmF.png" alt=""></p><p><strong>åŸºæœ¬çš„ä¹¦å†™æ ¼å¼</strong><br><img src="/assets/2022-12-03-00-19-35-EvR2hbM8.png" alt=""><br><img src="/assets/2022-12-03-00-23-15-pIPOr_mr.png" alt=""></p><h3 id="jstfæ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#jstfæ ‡ç­¾" aria-hidden="true">#</a> JSTFæ ‡ç­¾</h3><blockquote><p>è¯¥æŠ€æœ¯ä¸»è¦æ˜¯è§£å†³äº†è¿‡å»javaçš„ifå’Œforå¾ªç¯ä¸å¾—ä¸å†™åœ¨jspä»£ç ä¸­çš„é—®é¢˜<br> å…¶å®å°±æ˜¯ä»¥htmlæ ‡ç­¾çš„æ–¹å¼å†™javaçš„æŸäº›è¯­å¥</p></blockquote><p><img src="/assets/2022-12-03-00-37-11-5cm-tCAB.png" alt=""><br><img src="/assets/2022-12-03-00-39-22-l3qX-vCS.png" alt=""><br><img src="/assets/2022-12-03-00-41-02-aS7413ii.png" alt=""></p><p><strong>ä½¿ç”¨JSTFæ ‡ç­¾çš„é¢„å¤‡æ­¥éª¤</strong><br><img src="/assets/2022-12-03-00-36-54-r7K2jma8.png" alt=""></p><h2 id="mvcæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„" tabindex="-1"><a class="header-anchor" href="#mvcæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„" aria-hidden="true">#</a> MVCæ¨¡å¼ä¸ä¸‰å±‚æ¶æ„</h2><h3 id="mvcæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#mvcæ¨¡å¼" aria-hidden="true">#</a> MVCæ¨¡å¼</h3><p>MVCæ˜¯ä¸€ç§åˆ†å±‚å¼€å‘çš„æ¨¡å¼ï¼Œå…¶ä¸­:</p><ul><li>M: Modelï¼Œä¸šåŠ¡æ¨¡å‹ï¼Œå¤„ç†ä¸šåŠ¡</li><li>V: Viewï¼Œè§†å›¾ï¼Œç•Œé¢å±•ç¤º</li><li>C: Controllerï¼Œæ§åˆ¶å™¨ï¼Œå¤„ç†è¯·æ±‚ï¼Œè°ƒç”¨æ¨¡å‹å’Œè§†å›¾</li></ul><p><strong>MVCå¥½å¤„</strong></p><ul><li>èŒè´£å•ä¸€</li><li>äº’ä¸å½±å“æœ‰åˆ©äºåˆ†å·¥åä½œ</li><li>æœ‰åˆ©äºç»„ä»¶é‡ç”¨</li></ul><p><img src="/assets/2022-12-03-00-44-23-bcXxJJSH.png" alt=""></p><h3 id="ä¸‰å±‚æ¶æ„" tabindex="-1"><a class="header-anchor" href="#ä¸‰å±‚æ¶æ„" aria-hidden="true">#</a> ä¸‰å±‚æ¶æ„</h3><ul><li>æ•°æ®è®¿é—®å±‚:å¯¹æ•°æ®åº“çš„CRUDåŸºæœ¬æ“ä½œ</li><li>ä¸šåŠ¡é€»è¾‘å±‚:å¯¹ä¸šåŠ¡é€»è¾‘è¿›è¡Œå°è£…ï¼Œç»„åˆæ•°æ®è®¿é—®å±‚å±‚ä¸­åŸºæœ¬åŠŸèƒ½ï¼Œå½¢æˆå¤æ‚çš„ä¸šåŠ¡é€»è¾‘åŠŸèƒ½</li><li>è¡¨ç°å±‚:æ¥æ”¶è¯·æ±‚ï¼Œå°è£…æ•°æ®ï¼Œè°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå“åº”æ•°æ®</li></ul><p><img src="/assets/2022-12-03-00-51-27-VFp9E3nU.png" alt=""></p><p><strong>ä¸‰å±‚æ¶æ„é¡¹ç›®ç»“æ„</strong></p><p>ä¾æ¬¡åˆ†åˆ«ä¸ºï¼š</p><ul><li>æ•°æ®è®¿é—®å±‚</li><li>ä¸šåŠ¡é€»è¾‘å±‚</li><li>è¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰</li></ul><p><img src="/assets/2022-12-03-00-58-28-OJJkCv19.png" alt=""></p><h3 id="ssmä¸‰å¤§æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#ssmä¸‰å¤§æ¡†æ¶" aria-hidden="true">#</a> SSMä¸‰å¤§æ¡†æ¶</h3><p><img src="/assets/2022-12-03-00-50-12-UjX3wQ1d.png" alt=""></p><h3 id="mvcä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#mvcä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«" aria-hidden="true">#</a> MVCä¸‰å±‚æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«</h3><p><img src="/assets/2022-12-03-00-54-22-dqoTEPyh.png" alt=""></p><h3 id="æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘" aria-hidden="true">#</a> æ¡ˆä¾‹ä¸šåŠ¡é€»è¾‘</h3><p><img src="/assets/2022-12-03-01-04-10-BRMgbZDT.png" alt=""></p><h2 id="ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ä¸‰å±‚æ¶æ„é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹" aria-hidden="true">#</a> ä½¿ç”¨<code>ä¸‰å±‚æ¶æ„</code>é‡å†™ç™»å½•æ³¨å†Œæ¡ˆä¾‹</h2><h3 id="é¡¹ç›®ç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®ç›®å½•ç»“æ„" aria-hidden="true">#</a> é¡¹ç›®ç›®å½•ç»“æ„</h3><ul><li><p>database æ•°æ®è®¿é—®å±‚</p><ul><li><code>mybatis-config.xml</code></li><li><code>mapper</code></li><li><code>pojo</code></li><li><code>DBSessionPool.java</code> å•ä¾‹æ¨¡å¼çš„æ•°æ®åº“æ± </li></ul></li><li><p><code>service</code> ä¸šåŠ¡é€»è¾‘å±‚</p></li><li><p><code>web</code> è¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰</p></li></ul><p><img src="/assets/2022-12-03-01-47-23-ftxdI9ki.png" alt=""></p><h3 id="databaseæ•°æ®è®¿é—®å±‚" tabindex="-1"><a class="header-anchor" href="#databaseæ•°æ®è®¿é—®å±‚" aria-hidden="true">#</a> databaseæ•°æ®è®¿é—®å±‚</h3><p><code>database/DBSessionPool.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DBSessionPool</span> <span class="token punctuation">{</span><span class="token comment">// æ•°æ®åº“è¿æ¥æ± </span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SqlSessionFactory</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span>sqlSessionFactory<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// åŠ è½½mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
                <span class="token class-name">InputStream</span> inputStream<span class="token punctuation">;</span>
                inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span>sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span>sqlSessionFactory<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>database/mapper/UserMapper.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Insert</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">User</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from tb_user where username = #{username} and password = #{password};&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">selectUserByUsernameAndPassword</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO tb_user(id,username,password) values(null,#{username},#{password});&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">int</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>database/mapper/UserMapper.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.database.mapper.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- namespaceæ”¹ä¸ºæ¥å£ç±» --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.database.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token comment">&lt;!-- idä¸ºæ¥å£çš„å‡½æ•°å --&gt;</span>
    select * from tb_user;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- selectUserById --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUserById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.database.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tb_user where id = #{id};
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>../resources/mybatis-config.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- å¡«mysqlçš„é©±åŠ¨çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql:///db6?useSSL=false<span class="token entity named-entity" title="&amp;">&amp;amp;</span>useServerPrepStemts=true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«mysqlæ•°æ®åº“çš„è·¯å¾„ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„username --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   <span class="token comment">&lt;!-- å¡«æ•°æ®åº“çš„password --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.webapptest.database.mapper<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- ä½¿ç”¨è¿™ç§Mapperä»£ç†çš„æ–¹å¼ä¾¿å¯ä»¥ç”¨è¿™ç§åŒ…æ‰«æçš„å†™æ³• --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="serviceä¸šåŠ¡é€»è¾‘å±‚" tabindex="-1"><a class="header-anchor" href="#serviceä¸šåŠ¡é€»è¾‘å±‚" aria-hidden="true">#</a> serviceä¸šåŠ¡é€»è¾‘å±‚</h3><p><code>service/UserService.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span></span><span class="token class-name">DBSessionPool</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> <span class="token class-name">DBSessionPool</span><span class="token punctuation">.</span><span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–sqlSession</span>

    <span class="token comment">// æ·»åŠ ç”¨æˆ·</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> affectedRows<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            affectedRows <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>affectedRows <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æäº¤äº‹åŠ¡</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                session<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å›æ»šäº‹åŠ¡</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            session<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å›æ»šäº‹åŠ¡</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">checkUserExist</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userMapper<span class="token punctuation">.</span><span class="token function">selectUserByUsernameAndPassword</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webè¡¨ç°å±‚-æ§åˆ¶å™¨-è§†å›¾" tabindex="-1"><a class="header-anchor" href="#webè¡¨ç°å±‚-æ§åˆ¶å™¨-è§†å›¾" aria-hidden="true">#</a> webè¡¨ç°å±‚ï¼ˆæ§åˆ¶å™¨+è§†å›¾ï¼‰</h3><p><code>web/Login.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœåŠ¡å±‚</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
        <span class="token comment">// è°ƒç”¨æœåŠ¡å±‚ï¼Œæ£€æŸ¥ç”¨æˆ·å­˜åœ¨</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">checkUserExist</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>web/Register.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Register</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Boolean</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mavené…ç½®" tabindex="-1"><a class="header-anchor" href="#mavené…ç½®" aria-hidden="true">#</a> mavené…ç½®</h3><p><code>pom.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.webapptest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>webapptest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
  

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>web Maven Webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- FIXME change it to the project&#39;s website --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://www.example.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.1-b03<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.31<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>10.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat7-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>8080<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-clean-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-resources-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.22.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-install-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-deploy-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’Œjsonå“åº”" tabindex="-1"><a class="header-anchor" href="#ç»“åˆåå°„å¯¹webè¡¨ç°å±‚çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶å®ç°éªŒè¯ç å’Œjsonå“åº”" aria-hidden="true">#</a> <!----></h3><p><strong>å®Œæ•´ä»£ç ï¼š</strong><br><a href="./resource/webapp.zip">webapp_ä¸‰å±‚æ¶æ„æ¨¡æ¿å¹¶å®ç°ç™»å½•æ³¨å†ŒéªŒè¯ç </a></p><blockquote><p>å¦‚æœä»»ä½•ä¸€ä¸ªæ–¹æ³•éƒ½å†™ä¸€ä¸ªServeletå®ç°ç±»ï¼Œä»£ç ä¼šå˜çš„å¾ˆè‡ƒè‚¿</p><p>åœ¨Webè¡¨ç°å±‚æ ¹æ®è¯·æ±‚çš„URLç›´æ¥è°ƒç”¨serviceä¸šåŠ¡é€»è¾‘å±‚çš„æ–¹æ³•<br> è‡ªå®šä¹‰BaseServletï¼Œæ ¹æ®æµè§ˆå™¨è¯·æ±‚çš„URLè·¯å¾„å®Œæˆå¤„ç†å‡½æ•°çš„è°ƒç”¨</p></blockquote><p><strong>ä¼˜åŒ–åç›®å½•ç»“æ„</strong><br><img src="/assets/2022-12-03-23-54-42-rBrzr_tB.png" alt=""></p><p><strong>ä¼˜åŒ–åç™»å½•ç•Œé¢åŠå“åº”ç»“æœJSONç»“æœ</strong><br><img src="/assets/2022-12-04-00-12-03-hCwohdMa.png" alt=""><br><img src="/assets/2022-12-04-00-11-14-bTF1D24s.png" alt=""></p><p><strong>ä¼˜åŒ–åæ³¨å†Œç•Œé¢åŠå“åº”ç»“æœJSONç»“æœ</strong><br><img src="/assets/2022-12-04-00-13-49-zLzFZ6oU.png" alt=""><br><img src="/assets/2022-12-04-00-14-03-5eEBI0GC.png" alt=""></p><p><code>login.html</code></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/user/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        userName:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        remember:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>remember<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç™»å½•<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>register.html</code></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ³¨å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/user/register<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        userName: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        VarifyCode: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>VarifyCode<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/user/getVerifytImage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ³¨å†Œ<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BaseServlet.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> uriString <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–URI: /user/login</span>
        <span class="token keyword">int</span> supliceIndex <span class="token operator">=</span> uriString<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰¾åˆ°æœ€åä¸€ä¸ª/ç¬¦å·çš„ä½ç½®</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> uriString<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>supliceIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è·å–æ–¹æ³•å: login</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span><span class="token comment">// é€šè¿‡åå°„è·å–è¿™ä¸ªæ–¹æ³•,å¹¶æ‰§è¡Œè¿™ä¸ªæ–¹æ³•</span>
            <span class="token class-name">Method</span> method <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>methodName<span class="token punctuation">,</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;BaseServletçš„serviceè¢«è°ƒç”¨äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>UserServlet.java</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSON</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">CheckCodeUtil</span></span><span class="token punctuation">;</span>

<span class="token comment">// å½“æµè§ˆå™¨è®¿é—® /api/user/login æ—¶ï¼Œ</span>
<span class="token comment">// ä¼šç”± BaseServlet çš„ service å‡½æ•° æ‰¾åˆ°å­ç±»çš„ login è¿™ä¸ªå‡½æ•°,ç„¶åæ‰§è¡Œä»–</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/user/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">BaseServlet</span><span class="token punctuation">{</span>
    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœåŠ¡å±‚</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response <span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>

        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
        <span class="token comment">// è°ƒç”¨æœåŠ¡å±‚ï¼Œæ£€æŸ¥ç”¨æˆ·å­˜åœ¨</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">checkUserExist</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ResponseData</span> responseData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            responseData<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            responseData<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ¸…é™¤å¯†ç ä¿¡æ¯</span>
            responseData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æŠŠuserå¯¹è±¡ä¼ é€’è¿‡å»</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            responseData<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            responseData<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>responseData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å“åº”æ•°æ®</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServletçš„loginè¢«è°ƒç”¨äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// è·å–æ³¨å†Œç”¨æˆ·æ—¶éœ€è¦çš„éªŒè¯ç å›¾ç‰‡</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getVerifytImage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>
        <span class="token comment">// ç”Ÿæˆ5ä½çš„éšæœºéªŒè¯ç ï¼Œå¹¶ä¿å­˜åˆ°sessionä¸­</span>
        <span class="token class-name">String</span> <span class="token class-name">VarifyCode</span> <span class="token operator">=</span> <span class="token class-name">CheckCodeUtil</span><span class="token punctuation">.</span><span class="token function">generateVerifyCode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;VarifyCode&quot;</span><span class="token punctuation">,</span> <span class="token class-name">VarifyCode</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç”Ÿæˆå›¾ç‰‡è¿”å›ç»™æµè§ˆå™¨</span>
        <span class="token class-name">CheckCodeUtil</span><span class="token punctuation">.</span><span class="token function">outputImage</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">VarifyCode</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServletçš„getVerifytImageè¢«è°ƒç”¨äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ³¨å†Œç”¨æˆ·</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">VarifyCode</span> <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;VarifyCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»æµè§ˆå™¨å¾—åˆ°çš„VarifyCode</span>
        <span class="token class-name">String</span> <span class="token class-name">VarifyCode_inSession</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;VarifyCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä»sessionä¸­è·å¾—çš„VarifyCode</span>

        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ResponseData</span> responseData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token class-name">VarifyCode</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token class-name">VarifyCode_inSession</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// å¿½ç•¥å¤§å°å†™çš„æ¯”å¯¹</span>
        <span class="token punctuation">{</span>
            responseData<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            responseData<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥!,éªŒè¯ç é”™è¯¯ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>responseData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">Boolean</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">{</span>
            responseData<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            responseData<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            responseData<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            responseData<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>responseData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServletçš„registerè¢«è°ƒç”¨äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">ResponseData</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> status<span class="token punctuation">;</span>
        <span class="token class-name">String</span> msg<span class="token punctuation">;</span>
        <span class="token class-name">Object</span> data<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> status<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token keyword">int</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> msg<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> msg<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setData</span><span class="token punctuation">(</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="fastjson-json-æ•°æ®å’Œ-java-å¯¹è±¡è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#fastjson-json-æ•°æ®å’Œ-java-å¯¹è±¡è½¬æ¢" aria-hidden="true">#</a> Fastjsonï¼šJSON æ•°æ®å’Œ Java å¯¹è±¡è½¬æ¢</h2><p>Fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ä¸€ä¸ªJavaè¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½åŠŸèƒ½å®Œå–„çš„JSONåº“ï¼Œæ˜¯ç›®å‰Javaè¯­è¨€ä¸­æœ€å¿«çš„JSONåº“ï¼Œå¯ä»¥å®ç°Javaå¯¹è±¡å’ŒJSONå­—ç¬¦ä¸²çš„ç›¸äº’è½¬æ¢ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupld</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupld</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactld</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactld</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.62<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å°†javaå¯¹è±¡ è½¬ jsonå­—ç¬¦ä¸²</span>
<span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å°†jsonå­—ç¬¦ä¸² è½¬ javaå¯¹è±¡</span>
<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cookieã€sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#cookieã€sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯" aria-hidden="true">#</a> Cookieã€Sessionä¼šè¯è·Ÿè¸ªæŠ€æœ¯</h2><blockquote><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨æ¥è§£å†³httpåè®®æ— çŠ¶æ€æ€§çš„ï¼Œ<br> ç”¨æ¥è®©æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯èƒ½åœ¨å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®<br> å¯ä»¥è®©æœåŠ¡ç«¯èƒ½å¤Ÿè¯†åˆ«ä¸¤æ¬¡ä¸åŒçš„è¯·æ±‚æ˜¯å¦ä¸ºåŒä¸€èº«ä»½çš„ç”¨æˆ·<br> å¯ç”¨æ¥åšèº«ä»½éªŒè¯</p></blockquote><p><strong>å®ç°æ–¹å¼</strong>:</p><ol><li>å®¢æˆ·ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯:Cookie</li><li>æœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯:Session</li></ol><h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> Cookie</h3><h4 id="cookieåŸºæœ¬ä½¿ç”¨å’ŒåŸç†" tabindex="-1"><a class="header-anchor" href="#cookieåŸºæœ¬ä½¿ç”¨å’ŒåŸç†" aria-hidden="true">#</a> CookieåŸºæœ¬ä½¿ç”¨å’ŒåŸç†</h4><p><strong>åœ¨æœåŠ¡ç«¯<code>å‘é€</code>cookie</strong></p><blockquote><p>æœåŠ¡ç«¯å‘é€ cookie ç»™æµè§ˆå™¨ åŸºäºhttpåè®®ï¼Œ<br> ä¿å­˜åœ¨å“åº”å¤´çš„setCookieå­—æ®µä¸­<br> æµè§ˆå™¨ä¼šè‡ªåŠ¨ä¿å­˜cookie<br><img src="/assets/2022-12-03-02-48-28-H0oanqvu.png" alt=""><br><img src="/assets/2022-12-03-02-56-37-CVnG9RJe.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/getCookie&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetCookie</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// å‘é€cookie </span>
        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åœ¨å®¢æˆ·ç«¯<code>å‘é€</code>æ‰€æœ‰æ”¶åˆ°çš„cookie</strong></p><blockquote><p>æµè§ˆå™¨å‘é€ cookie ç»™æœåŠ¡å™¨ åŸºäºhttpåè®®ï¼Œ<br> ä¿å­˜åœ¨è¯·æ±‚å¤´çš„Cookieå­—æ®µä¸­<br> æµè§ˆå™¨ä¼šè‡ªåŠ¨å‘é€æ‰€æœ‰cookie<br><img src="/assets/2022-12-03-02-55-20-y3XwFc42.png" alt=""><br><img src="/assets/2022-12-03-02-52-19-xM4uW4JP.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/sendCookie&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendCookie</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="cookieå­˜æ´»æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#cookieå­˜æ´»æ—¶é—´" aria-hidden="true">#</a> Cookieå­˜æ´»æ—¶é—´</h4><p><strong><code>cookie</code>å­˜æ´»æ—¶é—´</strong></p><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯å‘æ¥çš„cookieï¼Œæµè§ˆå™¨ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæµè§ˆå™¨å…³é—­åcookieé”€æ¯</li><li>æœåŠ¡ç«¯å¯ä»¥é€šè¿‡<code>setMaxAge(int seconds)</code>è®¾ç½®å‘é€çš„cookieçš„å­˜æ´»æ—¶é—´ <ul><li>æ­£æ•°ï¼šå°†cookieå­˜å…¥æµè§ˆå™¨æ‰€åœ¨ç”µè„‘<code>ç¡¬ç›˜</code>ï¼ŒæŒä¹…åŒ–å­˜å‚¨ï¼Œ<code>è¿‡æœŸè‡ªåŠ¨é”€æ¯</code></li><li>0ï¼š<code>å³åˆ»åˆ é™¤</code>æµè§ˆå™¨æ‰€åœ¨ç”µè„‘ä¸­å¯¹åº”å­—æ®µçš„å€¼</li><li>è´Ÿæ•°ï¼šé»˜è®¤å€¼ï¼Œå­˜å…¥æµè§ˆå™¨æ‰€åœ¨ç”µè„‘çš„<code>å†…å­˜</code>ï¼Œ<code>å…³é—­æµè§ˆå™¨åè‡ªåŠ¨é”€æ¯</code></li></ul></li></ul><p><strong>Cookieé»˜è®¤ä¸æ”¯æŒå­˜å‚¨ä¸­æ–‡</strong></p><ul><li>ä½†å¯åœ¨å‘é€æ˜¯ä½¿ç”¨URLæ¥ç¼–ç ï¼Œæ”¶åˆ°åå†ç¼–ç ä¼šä¸­æ–‡</li></ul><h4 id="cookieå‘é€ä¸­æ–‡" tabindex="-1"><a class="header-anchor" href="#cookieå‘é€ä¸­æ–‡" aria-hidden="true">#</a> Cookieå‘é€ä¸­æ–‡</h4><p><strong>å‘é€ä¸­æ–‡</strong><br><img src="/assets/2022-12-03-03-17-31-jx5u9RZQ.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLEncoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/getCookie&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetCookie</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// å‘é€cookie </span>
        <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸­æ–‡&quot;</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è®¾ç½®è¿‡æœŸæ—¶é—´</span>
        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¥æ”¶ä¸­æ–‡</strong></p><p><img src="/assets/2022-12-03-03-21-56-_vokYx3J.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLDecoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/sendCookie&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendCookie</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span><span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="session" tabindex="-1"><a class="header-anchor" href="#session" aria-hidden="true">#</a> Session</h3><blockquote><p>Session æ˜¯åŸºäº Cookie å®ç°çš„</p><p>åŸç†ç†è§£ï¼šæµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨åï¼ŒæœåŠ¡å™¨ä¼šä¸ºè¿™ä¸ªä¼šè¯åˆ›å»ºä¸€ä¸ªSessionå¯¹è±¡ï¼Œå­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œåœ¨è¿™ä¸ªSessionå¯¹è±¡ä¸­èƒ½å¤Ÿå­˜å‚¨é”®å€¼å¯¹ä¿¡æ¯ï¼Œè€Œåï¼ŒæœåŠ¡å™¨å“åº”æµè§ˆå™¨ï¼Œå¹¶åœ¨å“åº”å¤´çš„Cookieä¸­é™„å¸¦è¿™ä¸ªSessionID,æµè§ˆå™¨ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œä¼šåœ¨å“åº”å¤´çš„Cookieå­—æ®µä¸­è‡ªåŠ¨æºå¸¦è¿™ä¸ªSessionIDï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªSessionIDå»å†…å­˜ä¸­å¯»æ‰¾è¿™ä¸ªSessionï¼Œå°±èƒ½è·å–åˆ°ä¸Šä¸€æ¬¡åœ¨Sessionä¸­å­˜å‚¨çš„ä¿¡æ¯<br><img src="/assets/2022-12-03-03-38-49-0dCGngST.png" alt=""></p></blockquote><blockquote><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨è‡ªåŠ¨åˆ›å»ºSessionå¯¹è±¡å¹¶åœ¨å“åº”å¤´ä¸­æºå¸¦è¯¥Sessionçš„ID<br><img src="/assets/2022-12-03-03-56-22-E5raxOPl.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLEncoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/GetSession&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetSession</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æµè§ˆå™¨ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œæµè§ˆå™¨è‡ªåŠ¨é€šè¿‡Cookieæºå¸¦Sessionçš„IDï¼ŒæœåŠ¡å™¨æ ¹æ®è¯¥SessionIDä»å†…å­˜ä¸­æ‰¾å‡ºè¯¥Session<br><img src="/assets/2022-12-03-03-57-03-kAGaoD3m.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/SendSession&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendSession</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sessionæµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sessionçš„é’åŒ–ä¸æ´»åŒ–" tabindex="-1"><a class="header-anchor" href="#sessionçš„é’åŒ–ä¸æ´»åŒ–" aria-hidden="true">#</a> Sessionçš„é’åŒ–ä¸æ´»åŒ–</h4><p>æœåŠ¡å™¨é‡å¯åï¼ŒSessionä¸­çš„æ•°æ®æ˜¯å¦è¿˜åœ¨?</p><ul><li>é’åŒ–:åœ¨æœåŠ¡å™¨<code>æ­£å¸¸å…³é—­</code>åï¼ŒTomcatä¼šè‡ªåŠ¨å°†Sessionæ•°æ®å†™å…¥ç¡¬ç›˜çš„æ–‡ä»¶ä¸­(å¯¹è±¡åºåˆ—åŒ–)</li><li>æ´»åŒ–:å†æ¬¡å¯åŠ¨æœåŠ¡å™¨åï¼Œä»æ–‡ä»¶ä¸­åŠ è½½æ•°æ®åˆ°Sessionä¸­,ç„¶åæ–‡ä»¶ä¼šè¢«åˆ é™¤</li></ul><h4 id="sessionåœ¨æµè§ˆå™¨çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#sessionåœ¨æµè§ˆå™¨çš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Sessionåœ¨æµè§ˆå™¨çš„ç”Ÿå‘½å‘¨æœŸ</h4><blockquote><ul><li>é»˜è®¤ä¸ºå…³é—­æµè§ˆå™¨çª—å£ä¾¿è‡ªåŠ¨é”€æ¯ã€‚</li><li>è‹¥ç”Ÿå‘½å‘¨æœŸæœ‰å»¶é•¿ï¼Œéœ€åœ¨æœåŠ¡ç«¯æŒ‡å®š</li></ul></blockquote><h4 id="sessionåœ¨æœåŠ¡ç«¯çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#sessionåœ¨æœåŠ¡ç«¯çš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Sessionåœ¨æœåŠ¡ç«¯çš„ç”Ÿå‘½å‘¨æœŸ</h4><blockquote><p>é»˜è®¤ä¸º30åˆ†é’Ÿï¼Œå¯åœ¨web.xml æˆ–tomcatçš„é»˜è®¤é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> web<span class="token operator">-</span>app <span class="token constant">PUBLIC</span> <span class="token string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span> 
<span class="token string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>web<span class="token operator">-</span>app<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>display<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token class-name">Archetype</span> <span class="token class-name">Created</span> <span class="token class-name">Web</span> <span class="token class-name">Application</span><span class="token operator">&lt;</span><span class="token operator">/</span>display<span class="token operator">-</span>name<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>session<span class="token operator">-</span>config<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>session<span class="token operator">-</span>timeout<span class="token operator">&gt;</span><span class="token number">30</span><span class="token operator">&lt;</span><span class="token operator">/</span>session<span class="token operator">-</span>timeout<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>session<span class="token operator">-</span>config<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>web<span class="token operator">-</span>app<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>æ‰‹åŠ¨é”€æ¯</strong></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLEncoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/GetSession&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetSession</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é”€æ¯è¯¥session</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡cookieå®ç°" tabindex="-1"><a class="header-anchor" href="#å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡cookieå®ç°" aria-hidden="true">#</a> å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Cookieå®ç°</h3><blockquote><p>åœ¨é¡µé¢ä¸­æä¾›è®°ä½æˆ‘rememberé€‰é¡¹</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        userName:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        remember:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>remember<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç™»å½•<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¤„ç†ç™»å½•ä¸šåŠ¡ï¼ŒåŒæ—¶å¤„ç†rememberä¸šåŠ¡é€»è¾‘ï¼Œæ‰“é’©åˆ™ç”Ÿæˆcookieï¼Œå‘é€ç»™å®¢æˆ·ç«¯</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLEncoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœåŠ¡å±‚</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> remember <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;remember&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
        <span class="token comment">// è°ƒç”¨æœåŠ¡å±‚ï¼Œæ£€æŸ¥ç”¨æˆ·å­˜åœ¨</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">checkUserExist</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//---------------------------------------------------------------------------------</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>remember<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¦‚æœéœ€è¦è®°ä½å®¢æˆ·ç«¯ï¼Œ</span>
                <span class="token class-name">Cookie</span> cusername <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ç”¨æˆ·åå¯†ç ï¼Œç»Ÿä¸€URLç¼–ç </span>
                <span class="token class-name">Cookie</span> cpassword <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ç”¨æˆ·åå¯†ç ï¼Œç»Ÿä¸€URLç¼–ç </span>
                cusername<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                cpassword<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                cusername<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½œç”¨åŸŸ</span>
                cpassword<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½œç”¨åŸŸ</span>
                response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cusername<span class="token punctuation">)</span><span class="token punctuation">;</span>
                response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cpassword<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token comment">//---------------------------------------------------------------------------------</span>
        <span class="token keyword">else</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åç»­çš„ç™»å½•é€»è¾‘ï¼Œç”¨æˆ·è®¿é—®<code>/login</code>å¦‚æœèƒ½ä»ç”¨æˆ·çš„cookieä¸­æ‰¾åˆ°ç”¨æˆ·åå¯†ç ï¼Œç›´æ¥ç™»å½•ï¼Œå¦åˆ™å†…éƒ¨è·³è½¬åˆ°<code>/login.html</code>é¡µé¢</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLDecoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login_Rdirector</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœåŠ¡å±‚</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">//---------------------------------------------------------------------------------</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»å®¢æˆ·ç«¯cookieä¸­æå–ç”¨æˆ·åå’Œå¯†ç ä¿¡æ¯</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                username <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è§£ç URLç”¨æˆ·å</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                password <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è§£ç URLå¯†ç </span>
        <span class="token punctuation">}</span>
<span class="token comment">//---------------------------------------------------------------------------------</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è°ƒç”¨æœåŠ¡å±‚ï¼Œæ£€æŸ¥ç”¨æˆ·å­˜åœ¨</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">checkUserExist</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœå­˜åœ¨ï¼Œç›´æ¥å›å¤ç™»é™†æˆåŠŸ</span>
        <span class="token keyword">else</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¦‚æœä¸å­˜åœ¨ï¼Œå†…éƒ¨æµè½¬åˆ°ç™»å½•é¡µé¢   </span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡sessionå®ç°" tabindex="-1"><a class="header-anchor" href="#å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½-é€šè¿‡sessionå®ç°" aria-hidden="true">#</a> å®ç°ç™»å½•è®°ä½æˆ‘åŠŸèƒ½:é€šè¿‡Sessionå®ç°</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLDecoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login_Rdirector</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœåŠ¡å±‚</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//---------------------------------------------------------------------------------</span>
        <span class="token class-name">HttpSession</span> httpSession <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token punctuation">(</span> <span class="token class-name">String</span> <span class="token punctuation">)</span> httpSession<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token punctuation">(</span> <span class="token class-name">String</span> <span class="token punctuation">)</span> httpSession<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//---------------------------------------------------------------------------------</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è°ƒç”¨æœåŠ¡å±‚ï¼Œæ£€æŸ¥ç”¨æˆ·å­˜åœ¨</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">checkUserExist</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœå­˜åœ¨ï¼Œç›´æ¥å›å¤ç™»é™†æˆåŠŸ</span>
        <span class="token keyword">else</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¦‚æœä¸å­˜åœ¨ï¼Œå†…éƒ¨æµè½¬åˆ°ç™»å½•é¡µé¢   </span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLDecoder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Login_Rdirector</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœåŠ¡å±‚</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//---------------------------------------------------------------------------------</span>
        <span class="token class-name">HttpSession</span> httpSession <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token punctuation">(</span> <span class="token class-name">String</span> <span class="token punctuation">)</span> httpSession<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token punctuation">(</span> <span class="token class-name">String</span> <span class="token punctuation">)</span> httpSession<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//---------------------------------------------------------------------------------</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è°ƒç”¨æœåŠ¡å±‚ï¼Œæ£€æŸ¥ç”¨æˆ·å­˜åœ¨</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">checkUserExist</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœå­˜åœ¨ï¼Œç›´æ¥å›å¤ç™»é™†æˆåŠŸ</span>
        <span class="token keyword">else</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¦‚æœä¸å­˜åœ¨ï¼Œå†…éƒ¨æµè½¬åˆ°ç™»å½•é¡µé¢   </span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹" aria-hidden="true">#</a> å®ç°æ³¨å†Œç”¨æˆ·éªŒè¯ç çš„æ¡ˆä¾‹</h3><p><img src="/assets/2022-12-03-14-46-47-xDGpKlCL.png" alt=""><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVsAAABSCAIAAAB11eDGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAnZSURBVHhe7d1/aBNZAgfw1+P+6IJ/VPCPBBQc8WBTLNhwQhPYPzrFBVM8aIoHJvSPbnoH3XQXdtsKbrL7h01cqInC2e4fu4nCLUnBJRE8Wv+QTP9QMoWVZKFLIiiNYCGBExLwIAMK3TczL32TZPpLd9nb9vsh6rw3ycxUfN95781M7NjY2CAAAJo/sT8BAJAIAGCERAAADokAABwSAQA4JAIAcEgEAOCQCADAIREAgEMiAACHRAAADokAABwSAQA4JAIAcEgEAOCQCADAIREAgEMiAAD3Vonwhv0JAPtMeyIo8u15+SUrtKvcnxo45gyvKKz8+5FnOjo6hpPrdFGRZwaHZ5ZKe4yqysIw3UR4hRUBoDURlJVo8KMJZ89g9HGNVTWznBFtRA4O+ZLPWY25lTBtbG3Csr52Pam2xVZ6834LStdRa/6rwRO24egj88N+F7UnkrQs5dd//xAE+K2ZfBdz7VF4+EJQqjj89xJz5wVWa6A8Cjo/COf75gqy38bq2tBEcARd4xGRbaCaS4aTP4WyGwEHLdFEOOYtjQS8PYfZ6tVE+Hsh8SLlOapX7Iz2EZxfuflHnqenPvJH6xO55UBvJyHPlqJ3i9qKNu+7J7Wfi/YRrJ50SN4I9OkrzGk7Iu5kOXXRwqoA9iuaCO3qxZhH/cdvC8n1jVfVNmuJz3yJ1TIrGdRfsy1syCH6edrYGsqJC2pFVi+9SLiJ2sb0ElVOqhWJF6yoq7Otmlu8TDfojq2yoqpcyLFiXT8Ac1fYUWg7NR6kuewV9UPGowXYr8xnFjvf9yXkROTOYqCvU75xuM0J7424t8fKSgbRx2wLv4ZK+p9ss6YGv6bvSY/1sKLK2m1nxaj810k9G2h0BOgbh2IFViyvjQg1TfV/6m7qVb3UDEMEOJB2/h9c6Cg6V2bLzJPkwMdx8o+5zMXWQYO1R7Qd0Za0UYOhQ15J/t3q/aFp1EAM/XCtA0+aRw36R3xzksd0bFJbDg/PkMCdgKjvsYnV3m/rYstyuMMZvJAo39H6PXpRW7EN4xgBowY4QPSuQkM9e9UzmV5jpa3oHfJG39vcrzBqaP5Im132+WmvXz0UmgisWC1ImYz2Sn0pEiIG7rAie33ja9ksRg1wcDSPGipS6l4y6j7h/DS91yt5fxxdtn5R1F7CewVa7Hawov7q7qqyNwIcPM2JYHFFHhRio4J8c9j5YVDa+q6E/wcWwU5/rxuSS1kOnujxhpcrrLwT5c1u30nZBQwZYP9rm1k8ZPPdymUuOyrLkvzsbabX9Nt+OhzqUD3o0O4zUFm9P6gVTr10zJsmJO2x6iXK6lErvMe0wgy7a0HT+IjB8AJvycUXm8u1pe/DpZ+LnYf31HQ7O//MlgDA9FpDl3hVWnu6FOjr1IoKm37fVK2r1e1z9HqAHBLEs6LYp17wF/pEdVl72dR2Kjj0Yr9aspzia8VTaoXan6fLXfp+dS7/bCSy+Rp30SrhiDZpeFRwE1KqNKY9n6Xitwm5MOU9zSp2Uimt0t+7rTsFiOW4OmEBcCCw+YRtaLOAu9E09/YbzSwaN1vPTNLCl/r6emaatuxe9QaKVi0zi5tyIfqJs7GWeVTtSHojeVakdj2FCfCHZ34/AnlZ5DftHhJcxrN040RNzvmbKmcjLsF4bn93dfWRqqGm4XvlRYEtUZ2HrbQ78HOpRLsxj6PBaxXLeMjP+jW7sF7M0QHHacHKykaC1eSKJsABwJKhmX5W9C+1n2817371MR/p3bmPYHJubz5d034BLU1mXuUi6l0P7kRJr2/Rth3txspqWr3K6L9X1ao47Vpj05GgjwAHh2kfoZZ9kKatwtnz9uf8ppN5O0XJ7zh7X6uqMwQ97W9yC+wups7uXtpWE+G/+adWiPvfEc9xvd7Mm2phOTl/aWygx2q/SXdeSn0XV3/G3sZ9TFuzXEzRv6ntn30A2B/MEqGWldQpumFx1w8dtavXaI98s+m20vKit3P7wHlezNJNHG8KhPJzWsdZzrhEUpGWZctIIjLSeCirMeRRKkX5bjx6KUKbPrk7MSB6J67FC6TbfqRLWUnO3ydk1Ot6h58RYP8xSQTlR2meENc5x7Zn8O3VinmJENtWiVBaTRLitG1zSqepUczmicVuMz58WSs9pUEjWBqDfOVlRbvs4YnOejbfV1kO2Y8JU8GB96zdTvfY1LV06aTDNz2XWMqtvdoor2ZiIyRxJZgnjsinbpMewmv6y248cuVJev5afJvvjADYN9oTQck+iBIiuj8wNsW9KubvEjJi32IT+ex/CDnbu/nggRl95OJ1nCLFu+Hotaj6+tzrp52XUadd61woT+K+oaB260JyboEOBJjyepEev9PhEkcn55KZwn/rG0+zsVm/51yvcIiuV+QZ79h9YpkO+U2uU1ZKT9hSQz7aPzxxacz5eZrfBQGwX+nTCVw9E6B9g9ORHCub2WlmsS6p23DdMl7X02YWLSF1s9q0Yu/1pj20ziw+janXM6Yzdbrqjkfdne6kL6VNH1YfhkS1D+MIPcxq04qu2FPtgxvVxfHGjkzUC99qzzv1hbKvWFWzXITGRNOPX06NaHu6mttiohVg/2hNBL0x987qLUK/QLAX6pR+NTVKl/QmWl78TPRNRwLjLrW/MJIq08i5rMZFowEzhW9EQyLUs1doaFgCktYGX29+T4LeJKuFWz51axZXJK/V5CPq85QWTyxfrhZj6oWB8cXWSwjU67XUJ+ob6TsbVyWq2Xspw2NOizHtDZbLahIZ0ANAGsCB0PI0tCJ9IQx8TUJyWZtar8m349k9jZ+POH09kngmWJ7OlGZF2rvP3xzw/0uSn1ls572h6yE3SQz+ZWxpNFW9RcfwcrDDGSaCo4/IKyV6Ys+W+bPS6XOxtSWt5bd4HHWemZL7/KmFOXdjJkJZCQ8OBaVGt96XrsaGmsckL5cmHIPzz2jvwL+4MOdqfFB/0rkJzQs5sd1lC4D9q/X7ESo/pVPfluzXJx1vf+WxJn0RrHw8t8X3oyn5GxPZ/pg2hjcmTpftgtd1XN+rOtTPnk9NbnE/cumRRPpEoeV5hIqc/C4ef1i1nZ8KfeJon6MoLYxN/ChGrnhs6mwCo6znpYfZYuN2rK6TTrHfIex8RRJgf9r5G1MA4ODY4i5mADiQkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAOCQCAHBIBADgkAgAwCERAIBDIgAAh0QAAA6JAAAcEgEAGgj5BeUFSXKwuaW2AAAAAElFTkSuQmCC" alt=""><br><img src="/assets/2022-12-03-14-47-45-fbhtqnbS.png" alt=""></p><p><strong>ç™»å½•ç•Œé¢</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ³¨å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/register<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        userName: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- --------------------------------------------------------------------- --&gt;</span>
        VarifyCode: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>VarifyCode<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/GetVarifyCodeImg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- --------------------------------------------------------------------- --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ³¨å†Œ<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è·å–éªŒè¯ç å›¾ç‰‡</strong></p><blockquote><p>æ ¸å¿ƒæ“ä½œç”ŸæˆéªŒè¯ç å›¾ç‰‡è¿”å›ç»™æœåŠ¡ç«¯<br> å¹¶ä¸”è¦æŠŠéªŒè¯ç å­˜å–åœ¨æœåŠ¡ç«¯çš„sessionä¸­</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">CheckCodeUtil</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/api/GetVarifyCodeImg&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetVarifyCodeImg</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç”Ÿæˆ5ä½çš„éšæœºéªŒè¯ç ï¼Œå¹¶ä¿å­˜åˆ°sessionä¸­</span>
        <span class="token class-name">String</span> <span class="token class-name">VarifyCode</span> <span class="token operator">=</span> <span class="token class-name">CheckCodeUtil</span><span class="token punctuation">.</span><span class="token function">generateVerifyCode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;VarifyCode&quot;</span><span class="token punctuation">,</span> <span class="token class-name">VarifyCode</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç”Ÿæˆ200x50çš„å›¾ç‰‡ï¼Œé€šè¿‡è¾“å‡ºæµè¿”å›ç»™æµè§ˆå™¨</span>
        <span class="token class-name">CheckCodeUtil</span><span class="token punctuation">.</span><span class="token function">outputImage</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">VarifyCode</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å†™<code>/api/register.java</code></p><blockquote><p>è¦å°†sessionä¸­çš„éªŒè¯ç å’Œå®¢æˆ·ç«¯æ”¶åˆ°çš„éªŒè¯ç è¿›è¡Œæ¯”å¯¹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>database<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/api/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Register</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">VarifyCode</span> <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;VarifyCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»æµè§ˆå™¨å¾—åˆ°çš„VarifyCode</span>

        <span class="token comment">// ä»sessionä¸­è·å¾—çš„VarifyCode</span>
        <span class="token class-name">String</span> <span class="token class-name">VarifyCode_inSession</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;VarifyCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

         <span class="token comment">// å¿½ç•¥å¤§å°å†™çš„æ¯”å¯¹</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token class-name">VarifyCode</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token class-name">VarifyCode_inSession</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥!,éªŒè¯ç é”™è¯¯ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Boolean</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç”ŸæˆéªŒè¯ç å›¾ç‰‡çš„å·¥å…·ç±»</strong></p><blockquote><p><a href="./Utils/CheckCodeUtil.java">CheckCodeUtil.java</a></p></blockquote><h2 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> Filter</h2><p><strong>æ¦‚å¿µ</strong><br> Filterè¡¨ç¤ºè¿‡æ»¤å™¨ï¼Œæ˜¯JavaWebä¸‰å¤§ç»„ä»¶(Servletã€Filterã€Listener)ä¹‹ä¸€ã€‚</p><p><strong>æ‹¦æˆªèµ„æºè·¯å¾„</strong></p><ul><li><code>Filter</code>æ‹¦æˆªèµ„æºè·¯å¾„<code>@WebFilter(&quot;/*&quot;)</code></li><li>å…·ä½“èµ„æº: <code>/index.jsp</code>:åªæœ‰è®¿é—®<code>index.jsp</code>æ—¶æ‰ä¼šè¢«æ‹¦æˆªã€‚</li><li>ç›®å½•æ‹¦æˆª:<code>/user/*</code>:è®¿é—®<code>/user</code>ä¸‹çš„æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª</li><li>åç¼€å: <code>*jsp</code>:è®¿é—®<code>åç¼€åä¸ºjsp</code>çš„èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª</li><li>æ‹¦æˆªæ‰€æœ‰:<code>/*</code>:è®¿é—®<code>æ‰€æœ‰</code>èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª</li></ul><p><strong>æ³¨è§£çš„ä¼˜å…ˆçº§</strong><br> æ³¨è§£é…ç½®çš„Filterï¼Œä¼˜å…ˆçº§æŒ‰ç…§è¿‡æ»¤å™¨ç±»å(å­—ç¬¦ä¸²)çš„æ’åº</p><blockquote><p>è¿‡æ»¤å™¨é“¾æ‰§è¡Œæµç¨‹<br><img src="/assets/2022-12-03-17-16-31-cyKhvL1k.png" alt=""><br><img src="/assets/2022-12-03-19-48-49-XjZhhejC.png" alt=""></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Filter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterChain</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebFilter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GolbleFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">HttpServletRequest</span> httpServletRequest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span>request<span class="token punctuation">;</span>

        <span class="token comment">// 1.æ”¾è¡Œå‰ï¼Œå¯¹requestä¸­çš„æ•°æ®è¿›è¡Œé¢„å¤„ç†</span>
        <span class="token comment">// æ­¤å¤„å¯å¯¹ httpServletRequest å¤„ç†</span>

        <span class="token comment">// 2. æ”¾è¡Œï¼Œè½¬äº¤ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¦‚æœå·²ç»æ˜¯æœ€åä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œåˆ™äº¤ç»™å®é™…çš„Servletçš„å¤„ç†å‡½æ•°</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">HttpServletResponse</span> httpServletResponse <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span>response<span class="token punctuation">;</span>
        <span class="token comment">// 3. æ­¤æ—¶æ‹¿åˆ°çš„ response æ˜¯ç»è¿‡ è¿‡æ»¤å™¨å’Œå®é™…Servletå¤„ç†å‡½æ•°å¤„ç†è¿‡çš„response</span>
        <span class="token comment">// æ­¤å¤„å¯å¯¹ httpServletResponse å¤„ç†</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="listener" tabindex="-1"><a class="header-anchor" href="#listener" aria-hidden="true">#</a> Listener</h2><p><strong>æ¦‚å¿µ</strong><br> Listenerè¡¨ç¤ºç›‘å¬å™¨ï¼Œæ˜¯JavaWebä¸‰å¤§ç»„ä»¶(Servletã€Filterã€Listener)ä¹‹ä¸€</p><blockquote><p>ç›‘å¬å™¨å¯ä»¥ç›‘å¬å°±æ˜¯åœ¨<code>application</code>,<code>session</code>,<code>request</code>ä¸‰ä¸ªå¯¹è±¡åˆ›å»ºã€é”€æ¯æˆ–è€…å¾€å…¶ä¸­æ·»åŠ ä¿®æ”¹åˆ é™¤å±æ€§æ—¶è‡ªåŠ¨æ‰§è¡Œä»£ç çš„åŠŸèƒ½ç»„ä»¶</p></blockquote><p><strong>Listeneråˆ†ç±»</strong><br> JavaWebä¸­æä¾›äº†8ä¸ªç›‘å¬å™¨<br><img src="/assets/2022-12-03-20-13-53-JpyyRQvn.png" alt=""></p><p><strong>åŸºæœ¬ä½¿ç”¨</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webapptest<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span>listener</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContextEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContextListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebListener</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebListener</span> <span class="token comment">// è®°å¾—åŠ æ³¨è§£</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServeletAppListener</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{</span> <span class="token comment">// ç±»åä»»æ„ï¼Œå…³é”®æ˜¯è¦å®ç°æ¥å£ï¼Œæ·»åŠ æ³¨è§£</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ServeletAppå¯åŠ¨äº†......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ServeletAppå…³é—­äº†......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¡¥å……-æ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#è¡¥å……-æ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> è¡¥å……ï¼šæ–‡ä»¶ä¸Šä¼ </h2><p><strong>å‰ç«¯å†™æ³•</strong></p><p><img src="/assets/2023-08-20-09-58-07-apb8bHU7.png" alt=""><br><img src="/assets/2023-08-20-09-58-57-g05Gg8uW.png" alt=""></p><p><strong>ä¸Šä¼ å•ä¸ªæ–‡ä»¶</strong></p><p><img src="/assets/2023-08-20-10-01-41-VSJw6X96.png" alt=""></p><p><strong>ä¸Šä¼ å¤šä¸ªæ–‡ä»¶</strong></p><blockquote><p>å†™æ³•ä¸Šåº”è¯¥å¯ä»¥:</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> images<span class="token punctuation">,</span><span class="token class-name">MultipartFile</span> file2<span class="token punctuation">,</span><span class="token class-name">MultipartFile</span> file3<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æœ¬åœ°å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å­˜å‚¨" aria-hidden="true">#</a> æœ¬åœ°å­˜å‚¨</h3><blockquote><p>idealsï¼š<br> å­˜å‚¨åœ¨æœ¬åœ°ç£ç›˜ä¸Šï¼Œæ¯”å¦‚ <code>./public</code> ä¸‹,<br> å¯ä»¥å°è¯•å­˜å‚¨æ–‡ä»¶åç”¨uuid.åç¼€åï¼Œç„¶åç”¨ä¸€ä¸ªfileè¡¨æ¥è®°å½•æ–‡ä»¶çš„ï¼šä¸»é”®id,å¤–é”®,åŸå§‹æ–‡ä»¶å,å­˜å‚¨æ–‡ä»¶å<br> ç»™ä¸€ç¯‡æ–‡ç« ä¸Šä¼ é™„ä»¶ï¼Œå°±æ˜¯æ’å…¥ä¸€æ¡æ•°æ®ï¼Œinsert å¤–é”®=æ–‡ç« id<br> è·å–ä¸€ç¯‡æ–‡ç« çš„æ‰€æœ‰é™„ä»¶ï¼Œå°±æ˜¯æŸ¥è¯¢fileè¡¨ï¼Œwhere articleId=?<br> é€šè¿‡è®¿é—® <code>localhost/public/å­˜å‚¨æ–‡ä»¶å</code> æ¥è·å–åŸå§‹æ–‡ä»¶</p></blockquote><p><img src="/assets/2023-08-20-10-42-39-aNuOD0CZ.png" alt=""><br><img src="/assets/2023-08-20-10-43-55-t8E7XVUW.png" alt=""><br><img src="/assets/2023-08-20-10-41-01-xJaLEOGx.png" alt=""></p><h3 id="è¿œç¨‹å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#è¿œç¨‹å­˜å‚¨" aria-hidden="true">#</a> è¿œç¨‹å­˜å‚¨</h3><blockquote><p>ç›´æ¥çœ‹é˜¿é‡Œäº‘çš„OSSå­˜å‚¨ç›¸å…³æ–‡æ¡£</p></blockquote><p><img src="/assets/2023-08-20-12-56-36-dLJzWfxT.png" alt=""><br><img src="/assets/2023-08-20-12-56-59-eRyedvX0.png" alt=""></p><h2 id="è¡¥å……-httpclient" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-httpclient" aria-hidden="true">#</a> è¡¥å……ï¼šHttpClient</h2><p><img src="/assets/2023-08-22-11-35-11-zaMHxGFA.png" alt=""></p></div><!--[--><!----><!--]--><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 2449695354@qq.com">YiguiDing</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">MIT Licensed | Copyright Â© 2019-present Yigui-Ding</div></footer></div><!--]--><!----><!----><!----><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-CmgBBhDg.js" defer></script>
  </body>
</html>
